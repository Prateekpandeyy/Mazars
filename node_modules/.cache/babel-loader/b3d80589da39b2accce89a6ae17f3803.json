{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/views/MyAssingment/MyAssingment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout/Layout\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport QueryDetails from \"../../components/QueryDetails/QueryDetails\";\n\nfunction MyAssingment() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const userId = window.localStorage.getItem(\"userid\");\n  const [submitData, setSubmitData] = useState([]);\n  const [assingNo, setAssingmentNo] = useState();\n  const [displayQuery, setDisplayQuery] = useState([]);\n  const [diaplaySpecific, setDisplaySpecific] = useState([]);\n  const [queryDocs, setQueryDocs] = useState([]);\n  const [paymentDetails, setPaymentDetails] = useState([]);\n  const [purpose, setPurpose] = useState([]);\n  const [year, setYear] = useState([]);\n  const [feedback, setFeedback] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    accepted_amount: \"\",\n    payment_received: \"\",\n    cust_accept_date: \"\",\n    proposal_date: \"\",\n    description: \"\",\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\"\n  });\n  const [diaplayAssignment, setDisplayAssignment] = useState([{\n    assignment_number: \"\",\n    assignment_date: \"\"\n  }]);\n  const [diaplayHistory, setDisplayHistory] = useState([{\n    tlname: \"\",\n    date_of_allocation: \"\",\n    date_of_delivery: \"\"\n  }]);\n  useEffect(() => {\n    const getSubmittedAssingment = () => {\n      axios.get(`${baseUrl}/customers/getQueryDetails?id=${id}`).then(res => {\n        console.log(res);\n\n        if (res.data.code === 1) {\n          setSubmitData(res.data.result);\n          setDisplaySpecific(res.data.additional_queries);\n          setPaymentDetails(res.data.payment_detail);\n          setAssingmentNo(res.data.result[0].assign_no);\n          setFeedback(res.data.feedback_detail);\n          setReports(res.data.reports);\n          var purposeItem = res.data.result[0].purpose_opinion;\n          var assementItem = res.data.result[0].assessment_year;\n          console.log(\"purposeItem-\", typeof purposeItem);\n\n          try {\n            var myPurpose = JSON.parse(purposeItem);\n            var myYear = JSON.parse(assementItem);\n            setPurpose(myPurpose);\n            setYear(myYear);\n          } catch (e) {\n            return false;\n          }\n\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              cust_accept_date: res.data.proposal_queries[0].cust_accept_date,\n              proposal_date: res.data.proposal_queries[0].created,\n              description: res.data.proposal_queries[0].description,\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date\n            });\n          }\n\n          if (res.data.assignment.length > 0) {\n            setDisplayAssignment({\n              assignment_number: res.data.assignment[0].assignment_number,\n              assignment_date: res.data.assignment[0].created,\n              date_of_delivery: res.data.assignment[0].date_of_delivery\n            });\n          }\n\n          if (res.data.history_queries.length > 0) {\n            setDisplayHistory({\n              tlname: res.data.history_queries[0].tname,\n              date_of_allocation: res.data.history_queries[0].date_of_allocation\n            });\n          }\n\n          if (res.data.queries_document) {\n            if (res.data.queries_document.length > 0) {\n              setQueryDocs(res.data.queries_document);\n            }\n          }\n        }\n      });\n    };\n\n    getQuery();\n    getSubmittedAssingment();\n  }, [assingNo]);\n\n  const getQuery = () => {\n    axios.get(`${baseUrl}/tl/GetAdditionalQueries?assignno=${assingNo}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setDisplayQuery(res.data.result);\n      }\n    });\n  }; // console.log(\"purpose -\", JSON.parse(purpose));\n\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    custDashboard: \"custDashboard\",\n    custUserId: userId,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"schedule\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Query Detail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-xl-12 col-lg-12 col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-header\",\n            id: \"headingOne\",\n            style: {\n              padding: \".5rem .1rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"mb-0 query\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  class: \"btn btn-success ml-3\",\n                  onClick: () => history.goBack(),\n                  children: \"Go Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), submitData.map((p, index) => /*#__PURE__*/_jsxDEV(QueryDetails, {\n            p: p,\n            diaplaySpecific: diaplaySpecific,\n            diaplayProposal: diaplayProposal,\n            diaplayHistory: diaplayHistory,\n            diaplayAssignment: diaplayAssignment,\n            displayQuery: displayQuery,\n            getQuery: getQuery,\n            assingNo: assingNo,\n            customerQuery: \"customerQuery\",\n            queryDocs: queryDocs,\n            purpose: purpose,\n            year: year,\n            paymentDetails: paymentDetails,\n            feedback: feedback,\n            reports: reports\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyAssingment, \"mLydcVA5I07EaB/eq1FTswtjjpg=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = MyAssingment;\nexport default MyAssingment; // <h2 class=\"mb-0 query\">\n// <button\n//   class=\"btn btn-link btn-block text-left\"\n//   type=\"button\"\n//   data-toggle=\"collapse\"\n//   data-target={`#${i}`}\n//   aria-expanded=\"true\"\n//   aria-controls=\"collapseOne\"\n// >\n//   {p.assign_no}\n// </button>\n// <div style={{display:\"flex\" , justifyContent:\"space-evenly\"}}>\n//   <p class=\"m-0\" style={{ fontSize: \"15px\" }}>\n//     Submitted on\n//   </p>\n//   <p class=\"m-0\" style={{ fontSize: \"15px\" }}>\n//    : {p.created}\n//   </p>\n// </div>\n// <div class=\"d-flex\">\n//   <div class=\"additional\">\n//     <button\n//       class=\"btn\"\n//       data-toggle=\"modal\"\n//       data-target=\"#staticBackdrop\"\n//       onClick={addHandler}\n//     >\n//       Add. Query\n//     </button>\n//   </div>\n//   <div class=\"complete\">\n//     <p>Pending</p>\n//   </div>\n// </div>\n// </h2>\n\nvar _c;\n\n$RefreshReg$(_c, \"MyAssingment\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/views/MyAssingment/MyAssingment.js"],"names":["React","useState","useEffect","Layout","Link","useParams","useHistory","axios","baseUrl","QueryDetails","MyAssingment","id","history","userId","window","localStorage","getItem","submitData","setSubmitData","assingNo","setAssingmentNo","displayQuery","setDisplayQuery","diaplaySpecific","setDisplaySpecific","queryDocs","setQueryDocs","paymentDetails","setPaymentDetails","purpose","setPurpose","year","setYear","feedback","setFeedback","reports","setReports","diaplayProposal","setDisplayProposal","amount","accepted_amount","payment_received","cust_accept_date","proposal_date","description","amount_type","amount_fixed","amount_hourly","payment_terms","no_of_installment","installment_amount","due_date","diaplayAssignment","setDisplayAssignment","assignment_number","assignment_date","diaplayHistory","setDisplayHistory","tlname","date_of_allocation","date_of_delivery","getSubmittedAssingment","get","then","res","console","log","data","code","result","additional_queries","payment_detail","assign_no","feedback_detail","purposeItem","purpose_opinion","assementItem","assessment_year","myPurpose","JSON","parse","myYear","e","proposal_queries","length","paid_amount","created","assignment","history_queries","tname","queries_document","getQuery","padding","goBack","map","p","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout/Layout\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport QueryDetails from \"../../components/QueryDetails/QueryDetails\";\n\nfunction MyAssingment() {\n  const { id } = useParams();\n  const history = useHistory();\n\n  const userId = window.localStorage.getItem(\"userid\");\n\n  const [submitData, setSubmitData] = useState([]);\n  const [assingNo, setAssingmentNo] = useState();\n  const [displayQuery, setDisplayQuery] = useState([]);\n  const [diaplaySpecific, setDisplaySpecific] = useState([]);\n  const [queryDocs, setQueryDocs] = useState([]);\n  const [paymentDetails, setPaymentDetails] = useState([]);\n  const [purpose, setPurpose] = useState([]);\n  const [year, setYear] = useState([]);\n  const [feedback, setFeedback] = useState([]);\n  const [reports, setReports] = useState([]);\n\n\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    accepted_amount: \"\",\n    payment_received: \"\",\n    cust_accept_date: \"\",\n    proposal_date: \"\",\n    description: \"\",\n\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\",\n  });\n\n  const [diaplayAssignment, setDisplayAssignment] = useState([\n    {\n      assignment_number: \"\",\n      assignment_date: \"\",\n    },\n  ]);\n\n  const [diaplayHistory, setDisplayHistory] = useState([\n    {\n      tlname: \"\",\n      date_of_allocation: \"\",\n      date_of_delivery: \"\",\n    },\n  ]);\n\n\n  useEffect(() => {\n    const getSubmittedAssingment = () => {\n      axios.get(`${baseUrl}/customers/getQueryDetails?id=${id}`).then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          setSubmitData(res.data.result);\n          setDisplaySpecific(res.data.additional_queries);\n          setPaymentDetails(res.data.payment_detail);\n          setAssingmentNo(res.data.result[0].assign_no);\n          setFeedback(res.data.feedback_detail);\n          setReports(res.data.reports);\n     \n\n          var purposeItem = res.data.result[0].purpose_opinion;\n          var assementItem = res.data.result[0].assessment_year;\n\n          console.log(\"purposeItem-\", typeof purposeItem);\n          try {\n            var myPurpose = JSON.parse(purposeItem);\n            var myYear = JSON.parse(assementItem);\n            setPurpose(myPurpose);\n            setYear(myYear);\n          } catch (e) {\n            return false;\n          }\n\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              cust_accept_date: res.data.proposal_queries[0].cust_accept_date,\n              proposal_date: res.data.proposal_queries[0].created,\n              description: res.data.proposal_queries[0].description,\n\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date,\n\n            });\n          }\n\n          if (res.data.assignment.length > 0) {\n            setDisplayAssignment({\n              assignment_number: res.data.assignment[0].assignment_number,\n              assignment_date: res.data.assignment[0].created,\n              date_of_delivery: res.data.assignment[0].date_of_delivery,\n            });\n          }\n          if (res.data.history_queries.length > 0) {\n            setDisplayHistory({\n              tlname: res.data.history_queries[0].tname,\n              date_of_allocation:\n                res.data.history_queries[0].date_of_allocation,\n            });\n          }\n          if (res.data.queries_document) {\n            if (res.data.queries_document.length > 0) {\n              setQueryDocs(res.data.queries_document);\n            }\n          }\n        }\n      });\n    };\n    getQuery();\n    getSubmittedAssingment();\n  }, [assingNo]);\n\n\n  const getQuery = () => {\n    axios\n      .get(`${baseUrl}/tl/GetAdditionalQueries?assignno=${assingNo}`)\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          setDisplayQuery(res.data.result);\n        }\n      });\n  };\n\n  // console.log(\"purpose -\", JSON.parse(purpose));\n\n  return (\n    <Layout custDashboard=\"custDashboard\" custUserId={userId}>\n      <div class=\"row mt-3\">\n        <div class=\"col-md-12\">\n          <div class=\"schedule\">\n            <h3>Query Detail</h3>\n          </div>\n        </div>\n        <div class=\"col-xl-12 col-lg-12 col-md-12\">\n          <div class=\"card\">\n\n            <div\n              class=\"card-header\"\n              id=\"headingOne\"\n              style={{ padding: \".5rem .1rem\" }}\n            >\n              <h2 class=\"mb-0 query\">\n                <div>\n                  <button\n                    class=\"btn btn-success ml-3\"\n                    onClick={() => history.goBack()}\n                  >\n                    Go Back\n                  </button>\n                </div>\n              </h2>\n            </div>\n\n            {submitData.map((p, index) => (\n              <QueryDetails\n                p={p}\n                key={index}\n                diaplaySpecific={diaplaySpecific}\n                diaplayProposal={diaplayProposal}\n                diaplayHistory={diaplayHistory}\n                diaplayAssignment={diaplayAssignment}\n                displayQuery={displayQuery}\n                getQuery={getQuery}\n                assingNo={assingNo}\n                customerQuery=\"customerQuery\"\n                queryDocs={queryDocs}\n                purpose={purpose}\n                year={year}\n                paymentDetails={paymentDetails}\n                feedback={feedback}\n                reports={reports}\n\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default MyAssingment;\n\n// <h2 class=\"mb-0 query\">\n// <button\n//   class=\"btn btn-link btn-block text-left\"\n//   type=\"button\"\n//   data-toggle=\"collapse\"\n//   data-target={`#${i}`}\n//   aria-expanded=\"true\"\n//   aria-controls=\"collapseOne\"\n// >\n//   {p.assign_no}\n// </button>\n// <div style={{display:\"flex\" , justifyContent:\"space-evenly\"}}>\n//   <p class=\"m-0\" style={{ fontSize: \"15px\" }}>\n//     Submitted on\n//   </p>\n//   <p class=\"m-0\" style={{ fontSize: \"15px\" }}>\n//    : {p.created}\n//   </p>\n// </div>\n// <div class=\"d-flex\">\n//   <div class=\"additional\">\n//     <button\n//       class=\"btn\"\n//       data-toggle=\"modal\"\n//       data-target=\"#staticBackdrop\"\n//       onClick={addHandler}\n//     >\n//       Add. Query\n//     </button>\n//   </div>\n//   <div class=\"complete\">\n//     <p>Pending</p>\n//   </div>\n// </div>\n// </h2>\n"]},"metadata":{},"sourceType":"module"}
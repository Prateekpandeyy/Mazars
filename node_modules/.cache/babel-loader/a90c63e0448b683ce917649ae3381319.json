{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/NewPassword/NewPassword.js\",\n    _s = $RefreshSig$();\n\nimport { useForm } from \"react-hook-form\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../../components/Header/Header\";\nimport Footer from \"../../../components/Footer/Footer\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport classNames from \"classnames\";\nimport Swal from \"sweetalert2\";\nimport { useParams, Link } from \"react-router-dom\";\nimport Alerts from \"../../../common/Alerts\";\nimport ResendOtp from \"./ResendOtp\";\nimport { Spinner } from \"reactstrap\";\n\nfunction NewPassword(props) {\n  _s();\n\n  const alert = useAlert();\n  const {\n    register,\n    handleSubmit,\n    errors,\n    getValues,\n    reset\n  } = useForm();\n  const {\n    id\n  } = useParams();\n  const [loading, setLoading] = useState(false);\n  const [isPasswordShow, setPasswordShow] = useState(false);\n  const [isPasswordShow2, setPasswordShow2] = useState(false);\n  const [time, setTime] = useState('');\n  const [disabled, setDisabled] = useState(false);\n\n  const togglePasssword = () => {\n    setPasswordShow(!isPasswordShow);\n  };\n\n  const togglePasssword2 = () => {\n    setPasswordShow2(!isPasswordShow2);\n  };\n\n  useEffect(() => {\n    getTime();\n  }, []);\n\n  const getTime = () => {\n    var timerOn = true;\n\n    function timer(remaining) {\n      var s = remaining % 60;\n      s = s < 10 ? '0' + s : s;\n      setTime(s);\n      remaining -= 1;\n\n      if (remaining >= 0 && timerOn) {\n        setTimeout(function () {\n          timer(remaining);\n        }, 1000);\n        return;\n      }\n\n      setDisabled(true);\n    }\n\n    timer(60);\n  };\n\n  const onSubmit = value => {\n    console.log(\"value :\", value);\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"email\", value.p_email);\n    formData.append(\"password\", value.p_password);\n    formData.append(\"rpassword\", value.p_confirm_password);\n    formData.append(\"otp\", value.p_code);\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/tl/resetpassword`,\n      data: formData\n    }).then(function (response) {\n      console.log(\"res-\", response);\n\n      if (response.data.code === 1) {\n        setLoading(false);\n        var variable = \"Password changed successfully.\";\n        Alerts.SuccessNormal(variable);\n        reset();\n        props.history.push(\"/teamleader/login\");\n      } else if (response.data.code === 0) {\n        setLoading(false);\n        Alerts.ErrorNormal(\"Please enter correct details\");\n      }\n    }).catch(error => {\n      console.log(\"erroror - \", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      mtl: \"mtl\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"heading\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Reset Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: [\"Email\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 54\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.p_email\n                  }),\n                  name: \"p_email\",\n                  placeholder: \"Enter Email\",\n                  defaultValue: id,\n                  ref: register({\n                    required: true,\n                    pattern: {\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                      message: \"Please enter valid email address.\"\n                    }\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this), errors.p_email && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.p_email.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: [\"New Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: isPasswordShow ? \"text\" : \"password\",\n                  name: \"p_password\",\n                  id: \"password\",\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.p_password\n                  }),\n                  placeholder: \"Enter Your Password\",\n                  autocomplete: \"off\",\n                  ref: register({\n                    required: true,\n                    pattern: {\n                      value: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,15}$/,\n                      message: \"Password should be of minimum 8 Characters, including at least 1 upper case, lower case, special character and number.\"\n                    }\n                  }),\n                  onPaste: e => {\n                    e.preventDefault();\n                    return false;\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fa ${isPasswordShow ? \"fa-eye-slash\" : \"fa-eye\"} password-icon`,\n                  onClick: togglePasssword\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this), errors.p_password && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.p_password.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: [\"Confirm Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 65\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: isPasswordShow2 ? \"text\" : \"password\",\n                  id: \"password\",\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.p_confirm_password\n                  }),\n                  placeholder: \"Confirm Password\",\n                  name: \"p_confirm_password\",\n                  autocomplete: \"off\",\n                  ref: register({\n                    required: true,\n                    validate: value => value === getValues(\"p_password\") || \"Password doesn't match.\"\n                  }),\n                  onPaste: e => {\n                    e.preventDefault();\n                    return false;\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fa ${isPasswordShow2 ? \"fa-eye-slash\" : \"fa-eye\"} password-icon`,\n                  onClick: togglePasssword2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this), errors.p_confirm_password && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.p_confirm_password.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: [\"OTP\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.p_code\n                  }),\n                  name: \"p_code\",\n                  placeholder: \"Enter OTP\",\n                  autocomplete: \"off\",\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), errors.p_code && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.p_code.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  class: \"text-center\",\n                  children: [\"Note: OTP is valid for \", time, \" seconds.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: disabled ? \"\" : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), disabled ? /*#__PURE__*/_jsxDEV(ResendOtp, {\n          id: id,\n          setDisabled: setDisabled,\n          getTime: getTime,\n          setLoading: setLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 15\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"declined\",\n          children: \"*Mandatory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NewPassword, \"V8RrzfYW0zuTbjQTfokK1Waz7Y8=\", false, function () {\n  return [useAlert, useForm, useParams];\n});\n\n_c = NewPassword;\nexport default NewPassword;\n\nconst Cancel = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/teamleader/forget-password\",\n      style: {\n        \"margin\": \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-secondary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_c2 = Cancel;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NewPassword\");\n$RefreshReg$(_c2, \"Cancel\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/NewPassword/NewPassword.js"],"names":["useForm","React","useState","useEffect","Header","Footer","axios","baseUrl","useAlert","yupResolver","yup","classNames","Swal","useParams","Link","Alerts","ResendOtp","Spinner","NewPassword","props","alert","register","handleSubmit","errors","getValues","reset","id","loading","setLoading","isPasswordShow","setPasswordShow","isPasswordShow2","setPasswordShow2","time","setTime","disabled","setDisabled","togglePasssword","togglePasssword2","getTime","timerOn","timer","remaining","s","setTimeout","onSubmit","value","console","log","formData","FormData","append","p_email","p_password","p_confirm_password","p_code","method","url","data","then","response","code","variable","SuccessNormal","history","push","ErrorNormal","catch","error","required","pattern","message","e","preventDefault","validate","Cancel"],"mappings":"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","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../../components/Header/Header\";\nimport Footer from \"../../../components/Footer/Footer\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport classNames from \"classnames\";\nimport Swal from \"sweetalert2\";\nimport { useParams, Link } from \"react-router-dom\";\nimport Alerts from \"../../../common/Alerts\";\nimport ResendOtp from \"./ResendOtp\";\nimport { Spinner } from \"reactstrap\";\n\n\n\nfunction NewPassword(props) {\n  const alert = useAlert();\n  const { register, handleSubmit, errors, getValues, reset } = useForm();\n  const { id } = useParams();\n\n  const [loading, setLoading] = useState(false);\n  const [isPasswordShow, setPasswordShow] = useState(false);\n  const [isPasswordShow2, setPasswordShow2] = useState(false);\n\n  const [time, setTime] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  const togglePasssword = () => {\n    setPasswordShow(!isPasswordShow)\n  };\n\n  const togglePasssword2 = () => {\n    setPasswordShow2(!isPasswordShow2)\n  };\n\n\n  useEffect(() => {\n    getTime()\n  }, []);\n\n\n  const getTime = () => {\n    var timerOn = true;\n    function timer(remaining) {\n      var s = remaining % 60;\n      s = s < 10 ? '0' + s : s;\n      setTime(s)\n      remaining -= 1;\n      if (remaining >= 0 && timerOn) {\n        setTimeout(function () {\n          timer(remaining);\n        }, 1000);\n        return;\n      }\n      setDisabled(true)\n    }\n    timer(60);\n  }\n\n\n  const onSubmit = (value) => {\n    console.log(\"value :\", value);\n    setLoading(true)\n\n    let formData = new FormData();\n    formData.append(\"email\", value.p_email);\n    formData.append(\"password\", value.p_password);\n    formData.append(\"rpassword\", value.p_confirm_password);\n    formData.append(\"otp\", value.p_code);\n\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/tl/resetpassword`,\n      data: formData,\n    })\n      .then(function (response) {\n        console.log(\"res-\", response);\n        if (response.data.code === 1) {\n          setLoading(false)\n          var variable = \"Password changed successfully.\"\n          Alerts.SuccessNormal(variable)\n          reset();\n          props.history.push(\"/teamleader/login\");\n        } else if (response.data.code === 0) {\n          setLoading(false)\n          Alerts.ErrorNormal(\"Please enter correct details\")\n        }\n      })\n      .catch((error) => {\n        console.log(\"erroror - \", error);\n      });\n  };\n\n  return (\n    <>\n      <Header mtl=\"mtl\" />\n      <div className=\"container\">\n        <div className=\"form\">\n\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"heading\">\n              <h2>Reset Password</h2>\n            </div>\n            <div className=\"row\">\n\n              <div className=\"col-md-12\">\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Email<span className=\"declined\">*</span></label>\n                  <input\n                    type=\"text\"\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_email,\n                    })}\n                    name=\"p_email\"\n                    placeholder=\"Enter Email\"\n                    defaultValue={id}\n                    ref={register({\n                      required: true,\n                      pattern: {\n                        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                        message: \"Please enter valid email address.\",\n                      },\n                    })}\n                  />\n                  {errors.p_email && (\n                    <div className=\"invalid-feedback\">\n                      {errors.p_email.message}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"col-md-12\">\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">New Password<span className=\"declined\">*</span></label>\n                  <input\n                    type={isPasswordShow ? \"text\" : \"password\"}\n                    name=\"p_password\"\n                    id=\"password\"\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_password,\n                    })}\n                    placeholder=\"Enter Your Password\"\n                    autocomplete=\"off\"\n                    ref={register({\n                      required: true,\n                      pattern: {\n                        value: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,15}$/,\n                        message:\n                          \"Password should be of minimum 8 Characters, including at least 1 upper case, lower case, special character and number.\",\n                      },\n                    })}\n                    onPaste={((e) => {\n                      e.preventDefault();\n                      return false;\n                    })}\n                  />\n                  <i\n                    className={`fa ${isPasswordShow ? \"fa-eye-slash\" : \"fa-eye\"} password-icon`}\n                    onClick={togglePasssword}\n                  />\n                  {errors.p_password && (\n                    <div className=\"invalid-feedback\">\n                      {errors.p_password.message}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"col-md-12\">\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Confirm Password<span className=\"declined\">*</span></label>\n                  <input\n                    type={isPasswordShow2 ? \"text\" : \"password\"}\n                    id=\"password\"\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_confirm_password,\n                    })}\n                    placeholder=\"Confirm Password\"\n                    name=\"p_confirm_password\"\n                    autocomplete=\"off\"\n                    ref={register({\n                      required: true,\n                      validate: (value) =>\n                        value === getValues(\"p_password\") ||\n                        \"Password doesn't match.\",\n                    })}\n                    onPaste={((e) => {\n                      e.preventDefault();\n                      return false;\n                    })}\n                  />\n                  <i\n                    className={`fa ${isPasswordShow2 ? \"fa-eye-slash\" : \"fa-eye\"} password-icon`}\n                    onClick={togglePasssword2}\n                  />\n                  {errors.p_confirm_password && (\n                    <div className=\"invalid-feedback\">\n                      {errors.p_confirm_password.message}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"col-md-12\">\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">OTP<span className=\"declined\">*</span></label>\n                  <input\n                    type=\"text\"\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_code,\n                    })}\n                    name=\"p_code\"\n                    placeholder=\"Enter OTP\"\n                    autocomplete=\"off\"\n                    ref={register({ required: true })}\n                  />\n                  {errors.p_code && (\n                    <div className=\"invalid-feedback\">\n                      {errors.p_code.message}\n                    </div>\n                  )}\n                  <small class=\"text-center\">\n                    Note: OTP is valid for {time} seconds.\n                  </small>\n                </div>\n              </div>\n            </div>\n\n            {\n              loading ?\n                <div class=\"col-md-12\">\n                  <Spinner color=\"primary\" />\n                </div>\n                :\n                <div>\n                  {\n                    disabled ?\n                      \"\"\n                      :\n                      <div>\n                        <button type=\"submit\" className=\"btn btn-primary\" >\n                          Submit\n                        </button>\n                        <Cancel />\n                      </div>\n                  }\n                </div>\n            }\n\n          </form>\n\n          {\n            disabled ?\n              <ResendOtp id={id} setDisabled={setDisabled} getTime={getTime} setLoading={setLoading} />\n              :\n              null\n          }\n\n          <span className=\"declined\">*Mandatory</span>\n\n        </div>\n      </div>\n      <Footer />\n    </>\n  )\n}\n\nexport default NewPassword;\n\n\n\n\nconst Cancel = () => {\n  return (\n    <>\n      <Link to=\"/teamleader/forget-password\" style={{ \"margin\": \"10px\" }}>\n        <button type=\"submit\" className=\"btn btn-secondary\">\n          Cancel\n        </button>\n      </Link>\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/Admin/QueriesRecevied/QueriesRecevied.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table } from \"reactstrap\";\nimport QueryDetails from \"../../../components/QueryDetails/QueryDetails\";\n\nfunction QueriesRecevied(props) {\n  _s();\n\n  console.log(\"props\", props);\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const userid = window.localStorage.getItem(\"adminkey\");\n  const [submitData, setSubmitData] = useState([]);\n  const [assingNo, setAssingmentNo] = useState();\n  const [displayQuery, setDisplayQuery] = useState([]);\n  const [diaplaySpecific, setDisplaySpecific] = useState([]);\n  const [queryDocs, setQueryDocs] = useState([]);\n  const [paymentDetails, setPaymentDetails] = useState([]);\n  const [feedback, setFeedback] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [purpose, setPurpose] = useState([]);\n  const [year, setYear] = useState([]);\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    accepted_amount: \"\",\n    payment_received: \"\",\n    cust_accept_date: \"\",\n    proposal_date: \"\",\n    description: \"\",\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\"\n  });\n  const [diaplayAssignment, setDisplayAssignment] = useState([{\n    assignment_number: \"\",\n    assignment_date: \"\"\n  }]);\n  const [diaplayHistory, setDisplayHistory] = useState([{\n    tlname: \"\",\n    date_of_allocation: \"\",\n    date_of_delivery: \"\"\n  }]);\n  useEffect(() => {\n    const getSubmittedAssingment = () => {\n      axios.get(`${baseUrl}/tl/getQueryDetails?id=${id}`).then(res => {\n        console.log(\"admin QD\", res);\n\n        if (res.data.code === 1) {\n          if (res.data.result) {\n            if (res.data.result[0].name == null) {\n              console.log(\"null\");\n            } else {\n              setSubmitData(res.data.result);\n            }\n          }\n\n          if (res.data.additional_queries) {\n            setDisplaySpecific(res.data.additional_queries);\n          }\n\n          if (res.data.payment_detail) {\n            setPaymentDetails(res.data.payment_detail);\n          }\n\n          if (res.data.feedback_detail) {\n            setFeedback(res.data.feedback_detail);\n          }\n\n          if (res.data.result[0].assign_no) {\n            setAssingmentNo(res.data.result[0].assign_no);\n          }\n\n          if (res.data.reports) {\n            setReports(res.data.reports);\n          }\n\n          var purposeItem = res.data.result[0].purpose_opinion;\n          var assementItem = res.data.result[0].assessment_year;\n          console.log(\"purposeItem-\", typeof purposeItem);\n\n          try {\n            var myPurpose = JSON.parse(purposeItem);\n            var myYear = JSON.parse(assementItem);\n            setPurpose(myPurpose);\n            setYear(myYear);\n          } catch (e) {\n            return false;\n          }\n\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              cust_accept_date: res.data.proposal_queries[0].cust_accept_date,\n              proposal_date: res.data.proposal_queries[0].created,\n              description: res.data.proposal_queries[0].description,\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date\n            });\n          }\n\n          if (res.data.assignment.length > 0) {\n            setDisplayAssignment({\n              assignment_number: res.data.assignment[0].assignment_number,\n              assignment_date: res.data.assignment[0].created,\n              date_of_delivery: res.data.assignment[0].date_of_delivery\n            });\n          }\n\n          if (res.data.history_queries.length > 0) {\n            setDisplayHistory({\n              tlname: res.data.history_queries[0].tname,\n              date_of_allocation: res.data.history_queries[0].date_of_allocation\n            });\n          }\n\n          if (res.data.queries_document) {\n            if (res.data.queries_document.length > 0) {\n              setQueryDocs(res.data.queries_document);\n            }\n          }\n        }\n      });\n    };\n\n    getQuery();\n    getSubmittedAssingment();\n  }, [assingNo]);\n\n  const getQuery = () => {\n    axios.get(`${baseUrl}/tl/GetAdditionalQueries?assignno=${assingNo}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setDisplayQuery(res.data.result);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    adminDashboard: \"adminDashboard\",\n    adminUserId: userid,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"schedule\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Query Detail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-xl-12 col-lg-12 col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-header\",\n            id: \"headingOne\",\n            style: {\n              padding: \".5rem .1rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"mb-0 query ml-3\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: `/admin/${props.location.routes}`,\n                  index: props.location.index\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  class: \"btn btn-success ml-3\",\n                  children: \"Go Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), submitData.map((p, index) => /*#__PURE__*/_jsxDEV(QueryDetails, {\n            p: p,\n            diaplaySpecific: diaplaySpecific,\n            diaplayProposal: diaplayProposal,\n            diaplayHistory: diaplayHistory,\n            diaplayAssignment: diaplayAssignment,\n            displayQuery: displayQuery,\n            getQuery: getQuery,\n            assingNo: assingNo,\n            queryDocs: queryDocs,\n            paymentDetails: paymentDetails,\n            purpose: purpose,\n            year: year,\n            feedback: feedback,\n            reports: reports\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n\n_s(QueriesRecevied, \"kU7AaOiPg1cb1m/1UMhyNMJdlnA=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = QueriesRecevied;\nexport default QueriesRecevied;\n\nvar _c;\n\n$RefreshReg$(_c, \"QueriesRecevied\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/Admin/QueriesRecevied/QueriesRecevied.js"],"names":["React","useState","useEffect","Layout","axios","baseUrl","Link","useParams","useHistory","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","QueryDetails","QueriesRecevied","props","console","log","id","history","userid","window","localStorage","getItem","submitData","setSubmitData","assingNo","setAssingmentNo","displayQuery","setDisplayQuery","diaplaySpecific","setDisplaySpecific","queryDocs","setQueryDocs","paymentDetails","setPaymentDetails","feedback","setFeedback","reports","setReports","purpose","setPurpose","year","setYear","diaplayProposal","setDisplayProposal","amount","accepted_amount","payment_received","cust_accept_date","proposal_date","description","amount_type","amount_fixed","amount_hourly","payment_terms","no_of_installment","installment_amount","due_date","diaplayAssignment","setDisplayAssignment","assignment_number","assignment_date","diaplayHistory","setDisplayHistory","tlname","date_of_allocation","date_of_delivery","getSubmittedAssingment","get","then","res","data","code","result","name","additional_queries","payment_detail","feedback_detail","assign_no","purposeItem","purpose_opinion","assementItem","assessment_year","myPurpose","JSON","parse","myYear","e","proposal_queries","length","paid_amount","created","assignment","history_queries","tname","queries_document","getQuery","padding","pathname","location","routes","index","map","p"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n} from \"reactstrap\";\nimport QueryDetails from \"../../../components/QueryDetails/QueryDetails\";\n\nfunction QueriesRecevied(props) {\n  console.log(\"props\", props);\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  const userid = window.localStorage.getItem(\"adminkey\");\n  const [submitData, setSubmitData] = useState([]);\n  const [assingNo, setAssingmentNo] = useState();\n  const [displayQuery, setDisplayQuery] = useState([]);\n  const [diaplaySpecific, setDisplaySpecific] = useState([]);\n  const [queryDocs, setQueryDocs] = useState([]);\n  const [paymentDetails, setPaymentDetails] = useState([]);\n  const [feedback, setFeedback] = useState([]);\n  const [reports, setReports] = useState([]);\n\n  const [purpose, setPurpose] = useState([]);\n  const [year, setYear] = useState([]);\n\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    accepted_amount: \"\",\n    payment_received: \"\",\n    cust_accept_date: \"\",\n    proposal_date: \"\",\n    description: \"\",\n\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\",\n  });\n\n  const [diaplayAssignment, setDisplayAssignment] = useState([\n    {\n      assignment_number: \"\",\n      assignment_date: \"\",\n    },\n  ]);\n\n  const [diaplayHistory, setDisplayHistory] = useState([\n    {\n      tlname: \"\",\n      date_of_allocation: \"\",\n      date_of_delivery: \"\",\n    },\n  ]);\n\n  useEffect(() => {\n    const getSubmittedAssingment = () => {\n      axios.get(`${baseUrl}/tl/getQueryDetails?id=${id}`).then((res) => {\n        console.log(\"admin QD\", res);\n        if (res.data.code === 1) {\n\n          if (res.data.result) {\n            if (res.data.result[0].name == null) {\n              console.log(\"null\")\n            }\n            else {\n              setSubmitData(res.data.result);\n            }\n          }\n          \n          if (res.data.additional_queries) {\n            setDisplaySpecific(res.data.additional_queries);\n          }\n          if (res.data.payment_detail) {\n            setPaymentDetails(res.data.payment_detail);\n          }\n          if (res.data.feedback_detail) {\n            setFeedback(res.data.feedback_detail);\n          }\n          if (res.data.result[0].assign_no) {\n            setAssingmentNo(res.data.result[0].assign_no);\n          }\n\n          if (res.data.reports) {\n            setReports(res.data.reports);\n          }\n\n\n          var purposeItem = res.data.result[0].purpose_opinion;\n          var assementItem = res.data.result[0].assessment_year;\n\n          console.log(\"purposeItem-\", typeof purposeItem);\n          try {\n            var myPurpose = JSON.parse(purposeItem);\n            var myYear = JSON.parse(assementItem);\n            setPurpose(myPurpose);\n            setYear(myYear);\n          } catch (e) {\n            return false;\n          }\n\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              cust_accept_date: res.data.proposal_queries[0].cust_accept_date,\n              proposal_date: res.data.proposal_queries[0].created,\n              description: res.data.proposal_queries[0].description,\n\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date,\n            });\n          }\n\n          if (res.data.assignment.length > 0) {\n            setDisplayAssignment({\n              assignment_number: res.data.assignment[0].assignment_number,\n              assignment_date: res.data.assignment[0].created,\n              date_of_delivery: res.data.assignment[0].date_of_delivery,\n            });\n          }\n          if (res.data.history_queries.length > 0) {\n            setDisplayHistory({\n              tlname: res.data.history_queries[0].tname,\n              date_of_allocation:\n                res.data.history_queries[0].date_of_allocation,\n            });\n          }\n          if (res.data.queries_document) {\n            if (res.data.queries_document.length > 0) {\n              setQueryDocs(res.data.queries_document);\n            }\n          }\n\n\n        }\n      });\n    };\n    getQuery();\n    getSubmittedAssingment();\n  }, [assingNo]);\n\n  const getQuery = () => {\n    axios\n      .get(`${baseUrl}/tl/GetAdditionalQueries?assignno=${assingNo}`)\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          setDisplayQuery(res.data.result);\n        }\n      });\n  };\n\n  return (\n    <Layout adminDashboard=\"adminDashboard\" adminUserId={userid}>\n      <div class=\"row mt-3\">\n        <div class=\"col-md-12\">\n          <div class=\"schedule\">\n            <h3>Query Detail</h3>\n          </div>\n        </div>\n        <div class=\"col-xl-12 col-lg-12 col-md-12\">\n          <div class=\"card\">\n            <div\n              class=\"card-header\"\n              id=\"headingOne\"\n              style={{ padding: \".5rem .1rem\" }}\n            >\n              <h2 class=\"mb-0 query ml-3\">\n                <Link\n                  to={{\n                    pathname: `/admin/${props.location.routes}`,\n                    index: props.location.index,\n                  }}\n                >\n                  <button class=\"btn btn-success ml-3\">Go Back</button>\n                </Link>\n              </h2>\n            </div>\n\n            {submitData.map((p, index) => (\n              <QueryDetails\n                p={p}\n                key={index}\n                diaplaySpecific={diaplaySpecific}\n                diaplayProposal={diaplayProposal}\n                diaplayHistory={diaplayHistory}\n                diaplayAssignment={diaplayAssignment}\n                displayQuery={displayQuery}\n                getQuery={getQuery}\n                assingNo={assingNo}\n                queryDocs={queryDocs}\n                paymentDetails={paymentDetails}\n                purpose={purpose}\n                year={year}\n                feedback={feedback}\n                reports={reports}\n\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default QueriesRecevied;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/Admin/Chatting/Chatting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { useHistory } from \"react-router-dom\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table, Tooltip } from \"reactstrap\";\nimport Alerts from \"../../../common/Alerts\";\nimport classNames from \"classnames\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport Loader from \"../../../components/Loader/Loader\";\nconst Schema = yup.object().shape({\n  message_type: yup.string().required(\"\"),\n  p_message: yup.string().required(\"\"),\n  p_to: yup.string().required(\"\")\n});\n\nfunction Chatting(props) {\n  _s();\n\n  console.log(\"props\", props);\n  const alert = useAlert();\n  const history = useHistory();\n  const {\n    handleSubmit,\n    register,\n    errors,\n    reset\n  } = useForm({\n    resolver: yupResolver(Schema)\n  });\n  const userId = window.localStorage.getItem(\"adminkey\");\n  const [loading, setLoading] = useState(false);\n  const [item, setItem] = useState(\"\");\n  const [data, setData] = useState({});\n  const {\n    query_id,\n    query_No,\n    routes\n  } = data;\n  useEffect(() => {\n    console.log(\"useEffect\", props);\n    const dataItem = props.location.obj;\n\n    if (dataItem) {\n      localStorage.setItem(\"myDataAdmin\", JSON.stringify(dataItem));\n    }\n\n    var myData = localStorage.getItem(\"myDataAdmin\");\n    var data2 = JSON.parse(myData);\n    setData(data2);\n    setItem(data2.message_type);\n  }, [item]);\n\n  const onSubmit = value => {\n    console.log(\"value :\", value);\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"uid\", JSON.parse(userId));\n    formData.append(\"assign_id\", query_id);\n    formData.append(\"message_type\", value.message_type);\n    formData.append(\"message\", value.p_message);\n    formData.append(\"to\", value.p_to);\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/admin/messageSent`,\n      data: formData\n    }).then(function (response) {\n      console.log(\"res-\", response);\n\n      if (response.data.code === 1) {\n        reset();\n        setLoading(false);\n        var variable = \"Message sent successfully. \";\n        Alerts.SuccessNormal(variable);\n        props.history.push(routes);\n      } else if (response.data.code === 0) {\n        setLoading(false);\n      }\n    }).catch(error => {\n      console.log(\"erroror - \", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    adminDashboard: \"adminDashboard\",\n    adminUserId: userId,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-success ml-3\",\n              onClick: () => history.goBack(),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-arrow-left mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), \"Go Back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"8\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              style: {\n                display: \"flex\",\n                justifyContent: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Query No.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"p_query\",\n                    className: \"form-control\",\n                    ref: register,\n                    value: query_No,\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Message Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 25\n                  }, this), item && /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: classNames(\"form-control\", {\n                      \"is-invalid\": errors.message_type\n                    }),\n                    name: \"message_type\",\n                    ref: register,\n                    style: {\n                      height: \"33px\"\n                    },\n                    defaultValue: item,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"--select--\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"4\",\n                      children: \"Query Discussion\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2\",\n                      children: \"Proposal Discussion\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"5\",\n                      children: \"Payment Discussion\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"3\",\n                      children: \"Assignment Discussion\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"1\",\n                      children: \"Others\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 27\n                  }, this), errors.message_type && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.message_type.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"To\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"declined\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 34\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_to\n                    }),\n                    name: \"p_to\",\n                    ref: register,\n                    style: {\n                      height: \"33px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"--select--\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"customer\",\n                      children: \"Customer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"tl\",\n                      children: \"Team Leader\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"both\",\n                      children: \"Both\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, this), errors.p_to && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.p_to.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"Message\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"declined\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 39\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_message\n                    }),\n                    placeholder: \"Message text here\",\n                    rows: \"5\",\n                    ref: register,\n                    name: \"p_message\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 25\n                  }, this), errors.p_message && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.p_message.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  children: \"Send\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Mandatory, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Chatting, \"LzTglufSnKC3Y0abniKouRXAXf8=\", false, function () {\n  return [useAlert, useHistory, useForm];\n});\n\n_c = Chatting;\nexport default Chatting;\n{\n  /* <select\n                     class=\"form-control\"\n                     name=\"p_sms_type\"\n                     ref={register}\n                     value={query_No}\n                   >\n                     <option value=\"\">--select--</option>\n                     <option value=\"1\">Information</option>\n                     <option value=\"2\">Proposal Discussion</option>\n                     <option value=\"3\">Assignment Discussion</option>\n                   </select> */\n} // useEffect(() => {\n//   const getQuery = () => {\n//     axios.get(`${baseUrl}/customers/getAssignedAssignments?user=${JSON.parse(userId)}\n//     &type=1`)\n//       .then((res) => {\n//         console.log(res);\n//         if (res.data.code === 1) {\n//           // setAssingment(res.data.result);\n//         }\n//       });\n//   };\n//   getQuery();\n// }, []);\n// const dataItem = props.location.obj\n// const { message_type, query_id, query_No, routes } = dataItem\n\nvar _c;\n\n$RefreshReg$(_c, \"Chatting\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/Admin/Chatting/Chatting.js"],"names":["React","useState","useEffect","useForm","yupResolver","yup","Layout","axios","baseUrl","useAlert","useHistory","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","Tooltip","Alerts","classNames","Mandatory","Loader","Schema","object","shape","message_type","string","required","p_message","p_to","Chatting","props","console","log","alert","history","handleSubmit","register","errors","reset","resolver","userId","window","localStorage","getItem","loading","setLoading","item","setItem","data","setData","query_id","query_No","routes","dataItem","location","obj","JSON","stringify","myData","data2","parse","onSubmit","value","formData","FormData","append","method","url","then","response","code","variable","SuccessNormal","push","catch","error","goBack","display","justifyContent","height","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n  Tooltip,\n} from \"reactstrap\";\nimport Alerts from \"../../../common/Alerts\";\nimport classNames from \"classnames\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport Loader from \"../../../components/Loader/Loader\";\n\n\n\nconst Schema = yup.object().shape({\n  message_type: yup.string().required(\"\"),\n  p_message: yup.string().required(\"\"),\n  p_to: yup.string().required(\"\"),\n});\n\n\n\nfunction Chatting(props) {\n\n  console.log(\"props\", props)\n\n  const alert = useAlert();\n  const history = useHistory();\n  const { handleSubmit, register, errors, reset } = useForm({\n    resolver: yupResolver(Schema),\n  });\n\n  const userId = window.localStorage.getItem(\"adminkey\");\n  const [loading, setLoading] = useState(false);\n\n  const [item, setItem] = useState(\"\");\n  const [data, setData] = useState({})\n  const { query_id, query_No, routes } = data\n\n\n\n\n  useEffect(() => {\n    console.log(\"useEffect\", props)\n    const dataItem = props.location.obj\n\n    if (dataItem) {\n      localStorage.setItem(\"myDataAdmin\", JSON.stringify(dataItem));\n    }\n    var myData = localStorage.getItem(\"myDataAdmin\");\n    var data2 = JSON.parse(myData)\n    setData(data2)\n    setItem(data2.message_type)\n  }, [item]);\n\n\n\n  const onSubmit = (value) => {\n    console.log(\"value :\", value);\n    setLoading(true)\n    let formData = new FormData();\n    formData.append(\"uid\", JSON.parse(userId));\n    formData.append(\"assign_id\", query_id);\n    formData.append(\"message_type\", value.message_type);\n    formData.append(\"message\", value.p_message);\n    formData.append(\"to\", value.p_to);\n\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/admin/messageSent`,\n      data: formData,\n    })\n      .then(function (response) {\n        console.log(\"res-\", response);\n        if (response.data.code === 1) {\n          reset();\n          setLoading(false)\n          var variable = \"Message sent successfully. \"\n          Alerts.SuccessNormal(variable)\n          props.history.push(routes);\n        } else if (response.data.code === 0) {\n          setLoading(false)\n        }\n      })\n      .catch((error) => {\n        console.log(\"erroror - \", error);\n      });\n  };\n\n  return (\n    <Layout adminDashboard=\"adminDashboard\" adminUserId={userId}>\n      <Card>\n        <CardHeader>\n          <Row>\n            <Col md=\"4\">\n              <button\n                class=\"btn btn-success ml-3\"\n                onClick={() => history.goBack()}\n              >\n                <i class=\"fas fa-arrow-left mr-2\"></i>\n                Go Back\n              </button>\n            </Col>\n            <Col md=\"8\">\n              <h4>Message</h4>\n            </Col>\n          </Row>\n        </CardHeader>\n        <CardBody>\n          {\n            loading ?\n              <Loader />\n              :\n              <>\n                <form onSubmit={handleSubmit(onSubmit)}>\n                  <div class=\"row\" style={{ display: \"flex\", justifyContent: \"center\" }}>\n                    <div class=\"col-md-6\">\n                      <div class=\"form-group\">\n                        <label>Query No.</label>\n                        <input\n                          type=\"text\"\n                          name=\"p_query\"\n                          className=\"form-control\"\n                          ref={register}\n                          value={query_No}\n                          disabled\n                        />\n                      </div>\n\n                      <div class=\"form-group\">\n                        <label>Message Type</label>\n                        {\n                          item &&\n                          <select\n                            className={classNames(\"form-control\", {\n                              \"is-invalid\": errors.message_type,\n                            })}\n                            name=\"message_type\"\n                            ref={register}\n                            style={{ height: \"33px\" }}\n                            defaultValue={item}\n                          >\n                            <option value=\"\">--select--</option>\n                            <option value=\"4\">Query Discussion</option>\n                            <option value=\"2\">Proposal Discussion</option>\n                            <option value=\"5\">Payment Discussion</option>\n                            <option value=\"3\">Assignment Discussion</option>\n                            <option value=\"1\">Others</option>\n                          </select>\n                        }\n                        {errors.message_type && (\n                          <div className=\"invalid-feedback\">\n                            {errors.message_type.message}\n                          </div>\n                        )}\n                      </div>\n\n                      <div class=\"form-group\">\n                        <label>To<span className=\"declined\">*</span></label>\n                        <select\n                          className={classNames(\"form-control\", {\n                            \"is-invalid\": errors.p_to,\n                          })}\n                          name=\"p_to\"\n                          ref={register}\n                          style={{ height: \"33px\" }}\n                        >\n                          <option value=\"\">--select--</option>\n                          <option value=\"customer\">Customer</option>\n                          <option value=\"tl\">Team Leader</option>\n                          <option value=\"both\">Both</option>\n                        </select>\n                        {errors.p_to && (\n                          <div className=\"invalid-feedback\">\n                            {errors.p_to.message}\n                          </div>\n                        )}\n                      </div>\n\n                      <div class=\"form-group\">\n                        <label>Message<span className=\"declined\">*</span></label>\n                        <textarea\n                          className={classNames(\"form-control\", {\n                            \"is-invalid\": errors.p_message,\n                          })}\n                          placeholder=\"Message text here\"\n                          rows=\"5\"\n                          ref={register}\n                          name=\"p_message\"\n                        ></textarea>\n                        {errors.p_message && (\n                          <div className=\"invalid-feedback\">\n                            {errors.p_message.message}\n                          </div>\n                        )}\n                      </div>\n                      <button type=\"submit\" className=\"btn btn-primary\">\n                        Send\n                      </button>\n                    </div>\n                  </div>\n\n                </form>\n                <Mandatory />\n              </>\n          }\n        </CardBody>\n\n      </Card>\n    </Layout >\n  );\n}\n\nexport default Chatting;\n\n\n{/* <select\n                    class=\"form-control\"\n                    name=\"p_sms_type\"\n                    ref={register}\n                    value={query_No}\n                  >\n                    <option value=\"\">--select--</option>\n                    <option value=\"1\">Information</option>\n                    <option value=\"2\">Proposal Discussion</option>\n                    <option value=\"3\">Assignment Discussion</option>\n                  </select> */}\n\n                    // useEffect(() => {\n  //   const getQuery = () => {\n  //     axios.get(`${baseUrl}/customers/getAssignedAssignments?user=${JSON.parse(userId)}\n  //     &type=1`)\n  //       .then((res) => {\n  //         console.log(res);\n  //         if (res.data.code === 1) {\n  //           // setAssingment(res.data.result);\n  //         }\n  //       });\n  //   };\n\n  //   getQuery();\n  // }, []);\n    // const dataItem = props.location.obj\n  // const { message_type, query_id, query_No, routes } = dataItem"]},"metadata":{},"sourceType":"module"}
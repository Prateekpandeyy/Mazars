{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/EditProposal/EditProposal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table } from \"reactstrap\";\nimport Payment from \"./Payment\";\nimport Select from \"react-select\";\nimport Alerts from \"../../../common/Alerts\";\nimport classNames from \"classnames\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport { Spinner } from 'reactstrap';\n\nfunction EditComponent() {\n  _s();\n\n  const alert = useAlert();\n  const {\n    register,\n    handleSubmit,\n    reset,\n    errors\n  } = useForm();\n  const userid = window.localStorage.getItem(\"tlkey\");\n  const [loading, setLoading] = useState(false);\n  const [custId, setCustId] = useState(\"\");\n  const [store, setStore] = useState(null);\n  const [amount, setAmount] = useState();\n  const [date, setDate] = useState();\n  const [load, setLoad] = useState(true);\n  const [payment, setPayment] = useState([]);\n  const [installment, setInstallment] = useState([]);\n  const [error, setError] = useState('');\n  const [diserror, setdiserror] = useState(\"\");\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  var current_date = new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth() + 1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2);\n  const [item] = useState(current_date);\n  const [proposal, setProposal] = useState({\n    query: \"\",\n    name: \"\",\n    fixed_amount: \"\",\n    payable: \"\",\n    description: \"\",\n    installment_amount: \"\",\n    due_date: \"\"\n  });\n  const {\n    query,\n    name,\n    description,\n    fixed_amount,\n    due_date,\n    installment_amount\n  } = proposal;\n  useEffect(() => {\n    getQuery();\n  }, []);\n\n  const getQuery = () => {\n    axios.get(`${baseUrl}/tl/getProposalDetail?id=${id}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setProposal({\n          name: res.data.result.name,\n          query: res.data.result.assign_no,\n          fixed_amount: res.data.result.amount,\n          description: res.data.result.description,\n          installment_amount: res.data.result.installment_amount,\n          due_date: res.data.result.due_date\n        });\n        var payment_terms = res.data.result.payment_terms;\n        var no_of_installment = res.data.result.no_of_installment;\n        const data1 = {\n          label: payment_terms,\n          value: payment_terms\n        };\n        const data2 = {\n          label: no_of_installment,\n          value: no_of_installment\n        }; // console.log(\"data1\", data1)\n\n        setPayment(data1);\n        setInstallment(data2);\n      }\n    });\n  };\n\n  useEffect(() => {\n    const getUser = async () => {\n      const res = await axios.get(`${baseUrl}/customers/allname?id=${id}`);\n      setCustId(res.data.id);\n    };\n\n    getUser();\n  }, [id]);\n\n  const onSubmit = value => {\n    console.log(value);\n    var lumsum = value.p_inst_date;\n\n    if (payment.label == \"lumpsum\") {\n      setDate(lumsum);\n    }\n\n    let formData = new FormData();\n    formData.append(\"assign_no\", value.p_assingment);\n    formData.append(\"name\", value.p_name);\n    formData.append(\"type\", \"tl\");\n    formData.append(\"id\", JSON.parse(userid));\n    formData.append(\"assign_id\", id);\n    formData.append(\"customer_id\", custId);\n    formData.append(\"description\", value.description);\n    formData.append(\"amount_type\", \"fixed\");\n    formData.append(\"amount\", value.p_fixed);\n    formData.append(\"installment_amount\", amount);\n    formData.append(\"payment_terms\", payment.value);\n    formData.append(\"no_of_installment\", installment.value);\n    payment.label == \"lumpsum\" ? formData.append(\"due_date\", lumsum) : payment.label == \"installment\" ? formData.append(\"due_date\", date) : formData.append(\"due_date\", \"\");\n\n    if (payment.length < 1) {\n      console.log(\"please select payments terms --\"); // setpaymentError(\"Please select at lease one\")\n    } else if (payment.value == \"installment\") {\n      if (installment == \"\") {\n        Alerts.ErrorNormal(`Please select no of installment .`);\n      } else if (!amount || !date) {\n        Alerts.ErrorNormal(`Please enter all fields.`);\n      } else if (amount && date) {\n        console.log(\"all deatils ** here --\");\n\n        if (installment.value > 0) {\n          var a = Number(installment.value);\n\n          for (let i = 0; i < a; i++) {\n            if (amount[i] == \"\" || amount[i] == undefined || amount[i] <= 0) {\n              Alerts.ErrorNormal(`Please enter amount`);\n              return false;\n            }\n\n            if (date[i] == \"\" || date[i] == undefined) {\n              Alerts.ErrorNormal(`Please enter date`);\n              return false;\n            }\n          }\n\n          var sum = amount.reduce(myFunction);\n\n          function myFunction(total, value) {\n            return Number(total) + Number(value);\n          }\n\n          if (value.p_fixed != sum) {\n            Alerts.ErrorNormal(`Sum of all installments should be equal to ${value.p_fixed}.`);\n            console.log(`Sum of all installments should be equal to ${value.p_fixed}.`);\n          } else {\n            console.log(\"call else fine api for installment\");\n            setLoading(true);\n            axios({\n              method: \"POST\",\n              url: `${baseUrl}/tl/updateProposal`,\n              data: formData\n            }).then(function (response) {\n              console.log(\"res-\", response);\n\n              if (response.data.code === 1) {\n                setLoading(false);\n                var variable = \"Proposal Updated Successfully \";\n                Alerts.SuccessNormal(variable);\n                history.push(\"/teamleader/proposal\");\n              } else if (response.data.code === 0) {\n                setLoading(false);\n              }\n            }).catch(error => {\n              console.log(\"erroror - \", error);\n            });\n          }\n        }\n      }\n    } else if (payment.label == \"lumpsum\") {\n      console.log(\"call api for lumshum\");\n      setLoading(true);\n      axios({\n        method: \"POST\",\n        url: `${baseUrl}/tl/updateProposal`,\n        data: formData\n      }).then(function (response) {\n        console.log(\"res-\", response);\n\n        if (response.data.code === 1) {\n          setLoading(false);\n          var variable = \"Proposal Updated Successfully \";\n          Alerts.SuccessNormal(variable);\n          history.push(\"/teamleader/proposal\");\n        } else if (response.data.code === 0) {\n          setLoading(false);\n        }\n      }).catch(error => {\n        console.log(\"erroror - \", error);\n      });\n    }\n  };\n\n  const handleChange = e => {\n    console.log(\"val-\", e.target.value);\n\n    if (isNaN(e.target.value)) {\n      setdiserror(\"Please enter digit only\");\n    } else {\n      setdiserror(\"\");\n    }\n  };\n\n  const paymentAmount = data => {\n    console.log(\"paymentAmount\", data);\n    var array1 = [];\n    Object.entries(data).map(([key, value]) => {\n      array1.push(value);\n    });\n    setAmount(array1);\n  };\n\n  const paymentDate = data => {\n    console.log(\"paymentDate\", data);\n    var array2 = [];\n    Object.entries(data).map(([key, value]) => {\n      array2.push(value);\n    });\n    setDate(array2);\n  };\n\n  const installmentHandler = key => {\n    console.log(\"key\", key);\n    setInstallment(key);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    TLDashboard: \"TLDashboard\",\n    TLuserId: userid,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-success ml-3\",\n              onClick: () => history.goBack(),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-arrow-left mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), \"Go Back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"7\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"btn ml-3\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Edit Proposal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Query No.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"p_assingment\",\n                  class: \"form-control\",\n                  value: query,\n                  ref: register\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Fee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  class: \"form-control\",\n                  ref: register,\n                  name: \"p_type\",\n                  onChange: e => setStore(e.target.value),\n                  children: /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"fixed\",\n                    children: \"Fixed Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Fixed Price\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"p_fixed\",\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.p_fixed\n                  }),\n                  ref: register({\n                    required: true\n                  }),\n                  placeholder: \"Enter Fixed Price\",\n                  defaultValue: fixed_amount,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  \"color\": \"red\"\n                },\n                children: diserror\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Scope of Work\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.description\n                  }),\n                  id: \"textarea\",\n                  rows: \"3\",\n                  name: \"description\",\n                  defaultValue: description,\n                  ref: register({\n                    required: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Customer Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"p_name\",\n                  class: \"form-control\",\n                  value: name,\n                  ref: register\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"Payment Terms\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"declined\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  closeMenuOnSelect: true,\n                  onChange: setPayment,\n                  value: payment,\n                  options: paymentsTerms\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), payment.label == \"lumpsum\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Due Dates\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"p_inst_date\",\n                  className: classNames(\"form-control\", {\n                    \"is-invalid\": errors.p_inst_date\n                  }),\n                  ref: register({\n                    required: true\n                  }),\n                  placeholder: \"Enter Hourly basis\",\n                  defaultValue: due_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this) : payment.label == \"installment\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"No of Installments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  closeMenuOnSelect: true,\n                  onChange: e => installmentHandler(e),\n                  value: installment,\n                  options: noInstallments\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this) : \"\", payment.label == \"lumpsum\" ? \"\" : installment_amount && due_date && /*#__PURE__*/_jsxDEV(Payment, {\n                installment: installment.label,\n                paymentAmount: paymentAmount,\n                paymentDate: paymentDate,\n                installment_amount: installment_amount,\n                due_date: due_date,\n                getQuery: getQuery,\n                item: item\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group col-md-6\",\n            children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Mandatory, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditComponent, \"E6s3vWvCACnCBRRVBqM/F5GN37s=\", false, function () {\n  return [useAlert, useForm, useHistory, useParams];\n});\n\n_c = EditComponent;\nexport default EditComponent;\nconst paymentsTerms = [{\n  value: \"lumpsum\",\n  label: \"lumpsum\"\n}, {\n  value: \"installment\",\n  label: \"installment\"\n}];\nconst noInstallments = [{\n  value: \"2\",\n  label: \"2\"\n}, {\n  value: \"3\",\n  label: \"3\"\n}, {\n  value: \"4\",\n  label: \"4\"\n}]; // var lumsum = value.p_inst_date\n// setDate(lumsum)\n// let formData = new FormData();\n// formData.append(\"assign_no\", value.p_assingment);\n// formData.append(\"name\", value.p_name);\n// formData.append(\"type\", \"tl\");\n// formData.append(\"id\", JSON.parse(userid));\n// formData.append(\"description\", value.description);\n// formData.append(\"customer_id\", custId);\n// formData.append(\"assign_id\", id);\n// formData.append(\"amount_type\", \"fixed\");\n// formData.append(\"amount\", value.p_fixed);\n// formData.append(\"installment_amount\", amount);\n// formData.append(\"payment_terms\", payment.value);\n// formData.append(\"no_of_installment\", installment.value);\n// payment.label == \"lumpsum\" ?\n//   formData.append(\"due_date\", lumsum) :\n//   payment.label == \"installment\" ?\n//     formData.append(\"due_date\", date) :\n//     formData.append(\"due_date\", \"\")\n// if (payment.value == \"installment\") {\n//   if (amount) {\n//     console.log(\"amount --\", amount)\n//     if (installment.value > 0) {\n//       console.log(\"installment** --\")\n//       var a = Number(installment.value)\n//       for (let i = 0; i < a; i++) {\n//         if (amount[i] == \"\" || amount[i] == undefined || amount[i] <= 0) {\n//           console.log(\"amount --1\", amount[i])\n//           Alerts.ErrorNormal(`please insert all fields.`)\n//           return false\n//         }\n//       }\n//     }\n//   }\n//   if (amount) {\n//     var sum = amount.reduce(myFunction)\n//     function myFunction(total, value) {\n//       return Number(total) + Number(value);\n//     }\n//   }\n//   if (value.p_fixed != sum) {\n//     Alerts.ErrorNormal(`Sum of all installments should be equal to ${value.p_fixed}.`)\n//   }\n//   else {\n//     axios({\n//       method: \"POST\",\n//       url: `${baseUrl}/tl/updateProposal`,\n//       data: formData,\n//     })\n//       .then(function (response) {\n//         console.log(\"res-\", response);\n//         if (response.data.code === 1) {\n//           reset();\n//           var variable = \"Proposal Successfully Sent \"\n//           Alerts.SuccessNormal(variable)\n//           history.push(\"/teamleader/proposal\");\n//         }\n//       })\n//       .catch((error) => {\n//         console.log(\"erroror - \", error);\n//       });\n//   }\n// }\n// else {\n//   axios({\n//     method: \"POST\",\n//     url: `${baseUrl}/tl/updateProposal`,\n//     data: formData,\n//   })\n//     .then(function (response) {\n//       console.log(\"res-\", response);\n// if (response.data.code === 1) {\n//   var variable = \"Proposal Updated Successfully \"\n//   Alerts.SuccessNormal(variable)\n//   history.push(\"/teamleader/proposal\");\n// }\n//     })\n//     .catch((error) => {\n//       console.log(\"erroror - \", error);\n//     });\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"EditComponent\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/EditProposal/EditProposal.js"],"names":["React","useState","useEffect","useForm","axios","baseUrl","useAlert","useHistory","useParams","Layout","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","Payment","Select","Alerts","classNames","Mandatory","Spinner","EditComponent","alert","register","handleSubmit","reset","errors","userid","window","localStorage","getItem","loading","setLoading","custId","setCustId","store","setStore","amount","setAmount","date","setDate","load","setLoad","payment","setPayment","installment","setInstallment","error","setError","diserror","setdiserror","history","id","current_date","Date","getFullYear","getMonth","slice","getDate","item","proposal","setProposal","query","name","fixed_amount","payable","description","installment_amount","due_date","getQuery","get","then","res","console","log","data","code","result","assign_no","payment_terms","no_of_installment","data1","label","value","data2","getUser","onSubmit","lumsum","p_inst_date","formData","FormData","append","p_assingment","p_name","JSON","parse","p_fixed","length","ErrorNormal","a","Number","i","undefined","sum","reduce","myFunction","total","method","url","response","variable","SuccessNormal","push","catch","handleChange","e","target","isNaN","paymentAmount","array1","Object","entries","map","key","paymentDate","array2","installmentHandler","goBack","display","required","paymentsTerms","noInstallments"],"mappings":"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jIF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eA8IE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBA9IF;AAAA;AAAA;AAAA;AAAA;AAAA,cApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAyKD;;GArZQV,a;UAEOjB,Q,EACoCH,O,EAelCI,U,EACDC,S;;;KAnBRe,a;AAuZT,eAAeA,aAAf;AAEA,MAAM6G,aAAa,GAAG,CACpB;AACE/C,EAAAA,KAAK,EAAE,SADT;AAEED,EAAAA,KAAK,EAAE;AAFT,CADoB,EAKpB;AACEC,EAAAA,KAAK,EAAE,aADT;AAEED,EAAAA,KAAK,EAAE;AAFT,CALoB,CAAtB;AAWA,MAAMiD,cAAc,GAAG,CACrB;AACEhD,EAAAA,KAAK,EAAE,GADT;AAEED,EAAAA,KAAK,EAAE;AAFT,CADqB,EAKrB;AACEC,EAAAA,KAAK,EAAE,GADT;AAEED,EAAAA,KAAK,EAAE;AAFT,CALqB,EASrB;AACEC,EAAAA,KAAK,EAAE,GADT;AAEED,EAAAA,KAAK,EAAE;AAFT,CATqB,CAAvB,C,CAiBG;AACC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n} from \"reactstrap\";\nimport Payment from \"./Payment\";\nimport Select from \"react-select\";\nimport Alerts from \"../../../common/Alerts\";\nimport classNames from \"classnames\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport { Spinner } from 'reactstrap';\n\n\nfunction EditComponent() {\n\n  const alert = useAlert();\n  const { register, handleSubmit, reset, errors } = useForm();\n  const userid = window.localStorage.getItem(\"tlkey\");\n  const [loading, setLoading] = useState(false);\n\n  const [custId, setCustId] = useState(\"\");\n  const [store, setStore] = useState(null);\n  const [amount, setAmount] = useState();\n  const [date, setDate] = useState();\n  const [load, setLoad] = useState(true);\n\n\n  const [payment, setPayment] = useState([]);\n  const [installment, setInstallment] = useState([]);\n  const [error, setError] = useState('');\n  const [diserror, setdiserror] = useState(\"\")\n  const history = useHistory();\n  const { id } = useParams();\n  var current_date = new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth() + 1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2)\n  const [item] = useState(current_date);\n  const [proposal, setProposal] = useState({\n    query: \"\",\n    name: \"\",\n    fixed_amount: \"\",\n    payable: \"\",\n    description: \"\",\n    installment_amount: \"\",\n    due_date: \"\",\n  });\n\n\n  const { query, name, description, fixed_amount,\n    due_date, installment_amount } = proposal;\n\n  useEffect(() => {\n    getQuery();\n  }, []);\n\n\n  const getQuery = () => {\n    axios.get(`${baseUrl}/tl/getProposalDetail?id=${id}`).then((res) => {\n      console.log(res);\n      if (res.data.code === 1) {\n        setProposal({\n          name: res.data.result.name,\n          query: res.data.result.assign_no,\n          fixed_amount: res.data.result.amount,\n          description: res.data.result.description,\n          installment_amount: res.data.result.installment_amount,\n          due_date: res.data.result.due_date,\n        });\n\n        var payment_terms = res.data.result.payment_terms\n        var no_of_installment = res.data.result.no_of_installment\n\n        const data1 = {\n          label: payment_terms,\n          value: payment_terms,\n        }\n\n        const data2 = {\n          label: no_of_installment,\n          value: no_of_installment,\n        }\n\n        // console.log(\"data1\", data1)\n        setPayment(data1);\n        setInstallment(data2);\n      }\n    });\n  };\n\n\n  useEffect(() => {\n    const getUser = async () => {\n      const res = await axios.get(`${baseUrl}/customers/allname?id=${id}`);\n      setCustId(res.data.id);\n    };\n    getUser();\n  }, [id]);\n\n\n\n\n  const onSubmit = (value) => {\n    console.log(value);\n\n    var lumsum = value.p_inst_date\n    if (payment.label == \"lumpsum\") {\n      setDate(lumsum)\n    }\n\n    let formData = new FormData();\n    formData.append(\"assign_no\", value.p_assingment);\n    formData.append(\"name\", value.p_name);\n    formData.append(\"type\", \"tl\");\n    formData.append(\"id\", JSON.parse(userid));\n    formData.append(\"assign_id\", id);\n    formData.append(\"customer_id\", custId);\n    formData.append(\"description\", value.description);\n    formData.append(\"amount_type\", \"fixed\");\n    formData.append(\"amount\", value.p_fixed);\n    formData.append(\"installment_amount\", amount);\n\n    formData.append(\"payment_terms\", payment.value);\n    formData.append(\"no_of_installment\", installment.value);\n\n    payment.label == \"lumpsum\" ?\n      formData.append(\"due_date\", lumsum) :\n      payment.label == \"installment\" ?\n        formData.append(\"due_date\", date) :\n        formData.append(\"due_date\", \"\")\n\n\n    if (payment.length < 1) {\n      console.log(\"please select payments terms --\")\n      // setpaymentError(\"Please select at lease one\")\n    } else\n      if (payment.value == \"installment\") {\n        if (installment == \"\") {\n          Alerts.ErrorNormal(`Please select no of installment .`)\n        } else\n          if (!amount || !date) {\n            Alerts.ErrorNormal(`Please enter all fields.`)\n          } else if (amount && date) {\n            console.log(\"all deatils ** here --\")\n            if (installment.value > 0) {\n              var a = Number(installment.value)\n              for (let i = 0; i < a; i++) {\n\n                if (amount[i] == \"\" || amount[i] == undefined || amount[i] <= 0) {\n                  Alerts.ErrorNormal(`Please enter amount`)\n                  return false\n                }\n                if (date[i] == \"\" || date[i] == undefined) {\n                  Alerts.ErrorNormal(`Please enter date`)\n                  return false\n                }\n              }\n              var sum = amount.reduce(myFunction)\n              function myFunction(total, value) {\n                return Number(total) + Number(value);\n              }\n              if (value.p_fixed != sum) {\n                Alerts.ErrorNormal(`Sum of all installments should be equal to ${value.p_fixed}.`)\n                console.log(`Sum of all installments should be equal to ${value.p_fixed}.`)\n              } else {\n                console.log(\"call else fine api for installment\")\n                setLoading(true)\n                axios({\n                  method: \"POST\",\n                  url: `${baseUrl}/tl/updateProposal`,\n                  data: formData,\n                })\n                  .then(function (response) {\n                    console.log(\"res-\", response);\n                    if (response.data.code === 1) {\n                      setLoading(false)\n                      var variable = \"Proposal Updated Successfully \"\n                      Alerts.SuccessNormal(variable)\n                      history.push(\"/teamleader/proposal\");\n                    } else if (response.data.code === 0) {\n                      setLoading(false)\n                    }\n                  })\n                  .catch((error) => {\n                    console.log(\"erroror - \", error);\n                  });\n              }\n            }\n          }\n      } else if (payment.label == \"lumpsum\") {\n        console.log(\"call api for lumshum\",)\n        setLoading(true)\n        axios({\n          method: \"POST\",\n          url: `${baseUrl}/tl/updateProposal`,\n          data: formData,\n        })\n          .then(function (response) {\n            console.log(\"res-\", response);\n            if (response.data.code === 1) {\n              setLoading(false)\n              var variable = \"Proposal Updated Successfully \"\n              Alerts.SuccessNormal(variable)\n              history.push(\"/teamleader/proposal\");\n            } else if (response.data.code === 0) {\n              setLoading(false)\n            }\n          })\n          .catch((error) => {\n            console.log(\"erroror - \", error);\n          });\n      }\n  };\n\n\n  const handleChange = (e) => {\n    console.log(\"val-\", e.target.value);\n    if (isNaN(e.target.value)) {\n      setdiserror(\"Please enter digit only\");\n    }\n    else {\n      setdiserror(\"\");\n    }\n  };\n\n\n  const paymentAmount = (data) => {\n    console.log(\"paymentAmount\", data)\n\n    var array1 = []\n    Object.entries(data).map(([key, value]) => {\n      array1.push(value)\n    });\n    setAmount(array1);\n  };\n\n  const paymentDate = (data) => {\n    console.log(\"paymentDate\", data)\n\n    var array2 = []\n    Object.entries(data).map(([key, value]) => {\n      array2.push(value)\n    });\n    setDate(array2);\n  };\n\n  const installmentHandler = (key) => {\n    console.log(\"key\", key)\n    setInstallment(key)\n  }\n\n\n  return (\n    <Layout TLDashboard=\"TLDashboard\" TLuserId={userid}>\n      <Card>\n        <CardHeader>\n          <Row>\n            <Col md=\"5\">\n              <button\n                class=\"btn btn-success ml-3\"\n                onClick={() => history.goBack()}\n              >\n                <i class=\"fas fa-arrow-left mr-2\"></i>\n                Go Back\n              </button>\n            </Col>\n            <Col md=\"7\">\n              <div class=\"btn ml-3\">\n                <h4>Edit Proposal</h4>\n              </div>\n            </Col>\n          </Row>\n        </CardHeader>\n\n        <CardBody>\n          <form onSubmit={handleSubmit(onSubmit)}>\n\n            <div style={{ display: \"flex\" }}>\n              <div class=\"col-md-6\">\n\n                <div class=\"form-group\">\n                  <label>Query No.</label>\n                  <input\n                    type=\"text\"\n                    name=\"p_assingment\"\n                    class=\"form-control\"\n                    value={query}\n                    ref={register}\n                  />\n                </div>\n\n                <div class=\"form-group\">\n                  <label>Fee</label>\n                  <select\n                    class=\"form-control\"\n                    ref={register}\n                    name=\"p_type\"\n                    onChange={(e) => setStore(e.target.value)}\n                  >\n                    <option value=\"fixed\">Fixed Price</option>\n                  </select>\n                </div>\n\n                <div class=\"form-group\">\n                  <label>Fixed Price<span className=\"declined\">*</span></label>\n                  <input\n                    type=\"text\"\n                    name=\"p_fixed\"\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_fixed,\n                    })}\n                    ref={register({ required: true })}\n                    placeholder=\"Enter Fixed Price\"\n                    defaultValue={fixed_amount}\n                    onChange={handleChange}\n                  />\n                </div>\n                <p style={{ \"color\": \"red\" }}>{diserror}</p>\n\n                <div class=\"form-group\">\n                  <label>Scope of Work<span className=\"declined\">*</span></label>\n                  <textarea\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.description,\n                    })}\n                    id=\"textarea\"\n                    rows=\"3\"\n                    name=\"description\"\n                    defaultValue={description}\n                    ref={register({ required: true })}\n                  ></textarea>\n                </div>\n              </div>\n\n\n              <div class=\"col-md-6\">\n                <div class=\"form-group\">\n                  <label>Customer Name</label>\n                  <input\n                    type=\"text\"\n                    name=\"p_name\"\n                    class=\"form-control\"\n                    value={name}\n                    ref={register}\n                  />\n                </div>\n\n                <div class=\"form-group\">\n                  <label>Payment Terms<span className=\"declined\">*</span></label>\n                  <Select\n                    closeMenuOnSelect={true}\n                    onChange={setPayment}\n                    value={payment}\n                    options={paymentsTerms}\n                  />\n                </div>\n\n                {payment.label == \"lumpsum\" ? (\n                  <div class=\"form-group\">\n                    <label>Due Dates</label>\n                    <input\n                      type=\"date\"\n                      name=\"p_inst_date\"\n                      className={classNames(\"form-control\", {\n                        \"is-invalid\": errors.p_inst_date,\n                      })}\n                      ref={register({ required: true })}\n                      placeholder=\"Enter Hourly basis\"\n                      defaultValue={due_date}\n                    />\n                  </div>\n                ) :\n                  payment.label == \"installment\" ? (\n                    <div class=\"form-group\">\n                      <label>No of Installments</label>\n                      <Select\n                        closeMenuOnSelect={true}\n                        onChange={(e => installmentHandler(e))}\n                        value={installment}\n                        options={noInstallments}\n                      />\n                    </div>\n                  )\n                    : \"\"\n                }\n                {\n                  payment.label == \"lumpsum\"\n                    ?\n                    \"\"\n                    :\n                    installment_amount && due_date &&\n                    <Payment\n                      installment={installment.label}\n                      paymentAmount={paymentAmount}\n                      paymentDate={paymentDate}\n                      installment_amount={installment_amount}\n                      due_date={due_date}\n                      getQuery={getQuery}\n                      item={item}\n                    />\n                }\n              </div>\n            </div>\n\n            <div class=\"form-group col-md-6\">\n              {\n                loading ?\n                  <Spinner color=\"primary\" />\n                  :\n                  <button type=\"submit\" class=\"btn btn-primary\">\n                    Submit\n                  </button>\n              }\n            </div>\n          </form>\n\n          <Mandatory />\n        </CardBody>\n      </Card>\n    </Layout>\n  );\n}\n\nexport default EditComponent;\n\nconst paymentsTerms = [\n  {\n    value: \"lumpsum\",\n    label: \"lumpsum\",\n  },\n  {\n    value: \"installment\",\n    label: \"installment\",\n  },\n];\n\nconst noInstallments = [\n  {\n    value: \"2\",\n    label: \"2\",\n  },\n  {\n    value: \"3\",\n    label: \"3\",\n  },\n  {\n    value: \"4\",\n    label: \"4\",\n  },\n];\n\n\n\n   // var lumsum = value.p_inst_date\n    // setDate(lumsum)\n\n    // let formData = new FormData();\n    // formData.append(\"assign_no\", value.p_assingment);\n    // formData.append(\"name\", value.p_name);\n    // formData.append(\"type\", \"tl\");\n    // formData.append(\"id\", JSON.parse(userid));\n    // formData.append(\"description\", value.description);\n    // formData.append(\"customer_id\", custId);\n    // formData.append(\"assign_id\", id);\n    // formData.append(\"amount_type\", \"fixed\");\n    // formData.append(\"amount\", value.p_fixed);\n    // formData.append(\"installment_amount\", amount);\n    // formData.append(\"payment_terms\", payment.value);\n    // formData.append(\"no_of_installment\", installment.value);\n\n    // payment.label == \"lumpsum\" ?\n    //   formData.append(\"due_date\", lumsum) :\n    //   payment.label == \"installment\" ?\n    //     formData.append(\"due_date\", date) :\n    //     formData.append(\"due_date\", \"\")\n\n\n    // if (payment.value == \"installment\") {\n    //   if (amount) {\n    //     console.log(\"amount --\", amount)\n\n    //     if (installment.value > 0) {\n    //       console.log(\"installment** --\")\n    //       var a = Number(installment.value)\n    //       for (let i = 0; i < a; i++) {\n    //         if (amount[i] == \"\" || amount[i] == undefined || amount[i] <= 0) {\n    //           console.log(\"amount --1\", amount[i])\n    //           Alerts.ErrorNormal(`please insert all fields.`)\n    //           return false\n    //         }\n    //       }\n    //     }\n    //   }\n    //   if (amount) {\n    //     var sum = amount.reduce(myFunction)\n    //     function myFunction(total, value) {\n    //       return Number(total) + Number(value);\n    //     }\n    //   }\n    //   if (value.p_fixed != sum) {\n    //     Alerts.ErrorNormal(`Sum of all installments should be equal to ${value.p_fixed}.`)\n    //   }\n    //   else {\n    //     axios({\n    //       method: \"POST\",\n    //       url: `${baseUrl}/tl/updateProposal`,\n    //       data: formData,\n    //     })\n    //       .then(function (response) {\n    //         console.log(\"res-\", response);\n    //         if (response.data.code === 1) {\n    //           reset();\n    //           var variable = \"Proposal Successfully Sent \"\n    //           Alerts.SuccessNormal(variable)\n    //           history.push(\"/teamleader/proposal\");\n    //         }\n    //       })\n    //       .catch((error) => {\n    //         console.log(\"erroror - \", error);\n    //       });\n    //   }\n\n    // }\n    // else {\n    //   axios({\n    //     method: \"POST\",\n    //     url: `${baseUrl}/tl/updateProposal`,\n    //     data: formData,\n    //   })\n    //     .then(function (response) {\n    //       console.log(\"res-\", response);\n    // if (response.data.code === 1) {\n    //   var variable = \"Proposal Updated Successfully \"\n    //   Alerts.SuccessNormal(variable)\n    //   history.push(\"/teamleader/proposal\");\n    // }\n    //     })\n    //     .catch((error) => {\n    //       console.log(\"erroror - \", error);\n    //     });\n    // }"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/Admin/AllProposalComponent/AllProposalComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table } from \"reactstrap\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport AdminFilter from \"../../../components/Search-Filter/AdminFilter\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Records from \"../../../components/Records/Records\";\nimport ViewComponent from \"../ViewProposal/ViewComponent\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\n\nfunction AllProposalComponent({\n  allProposal\n}) {\n  _s();\n\n  const [proposalDisplay, setProposalDisplay] = useState([]);\n  const [records, setRecords] = useState([]);\n  const [viewData, setViewData] = useState({});\n  const [viewModal, setViewModal] = useState(false);\n\n  const ViewHandler = key => {\n    console.log(key);\n    setViewModal(!viewModal);\n    setViewData(key);\n  };\n\n  const [assignNo, setAssignNo] = useState('');\n  const [ViewDiscussion, setViewDiscussion] = useState(false);\n\n  const ViewDiscussionToggel = key => {\n    setViewDiscussion(!ViewDiscussion);\n    setAssignNo(key);\n  };\n\n  useEffect(() => {\n    getProposalData();\n  }, []);\n\n  const getProposalData = () => {\n    axios.get(`${baseUrl}/admin/getProposals`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setProposalDisplay(res.data.result);\n        setRecords(res.data.result.length);\n      }\n    });\n  };\n\n  const columns = [{\n    text: \"S.No\",\n    formatter: (cellContent, row, rowIndex) => {\n      return rowIndex + 1;\n    },\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    dataField: \"created\",\n    text: \"Date\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.created);\n      var oldDate = row.created;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    dataField: \"assign_no\",\n    text: \"Query No\",\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      console.log(row);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: `/admin/queries/${row.q_id}`,\n            index: 0,\n            routes: \"proposal\"\n          },\n          children: row.assign_no\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    dataField: \"parent_id\",\n    text: \"Category\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    dataField: \"cat_name\",\n    text: \"Sub Category\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    text: \"Date of Proposal\",\n    dataField: \"DateofProposal\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.DateofProposal);\n      var oldDate = row.DateofProposal;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Date of acceptance / decline of Proposal\",\n    dataField: \"cust_accept_date\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.cust_accept_date);\n      var oldDate = row.cust_accept_date;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Status\",\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: row.status == \"Inprogress\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [row.status, \"/\", /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"inprogress\",\n              children: row.statusdescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 19\n          }, this) : row.status == \"Customer Declined; Proposal\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"declined\",\n            children: row.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 21\n          }, this) : row.status == \"Accepted; Proposal\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"completed\",\n            children: row.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 23\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    dataField: \"ProposedAmount\",\n    text: \"Proposed Amount\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    dataField: \"accepted_amount\",\n    text: \"Accepted Amount \",\n    sort: true,\n    style: {\n      fontSize: \"11px\",\n      color: \"#21a3ce\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\",\n        color: \"#21a3ce\"\n      };\n    }\n  }, {\n    dataField: \"tl_name\",\n    text: \"TL name\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    text: \"Action\",\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\",\n        width: \"95px\"\n      };\n    },\n    formatter: function (cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\"\n          },\n          children: [row.statuscode > \"3\" || row.statuscode == \"10\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              cursor: \"pointer\"\n            },\n            title: \"View Proposal\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `${baseUrl}/customers/dounloadpdf?id=${row.q_id}&viewpdf=1`,\n              target: \"_blank\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-eye\",\n                style: {\n                  color: \"green\",\n                  fontSize: \"16px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"Send Message\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/admin/chatting/${row.q_id}`,\n                obj: {\n                  message_type: \"2\",\n                  query_No: row.assign_no,\n                  query_id: row.q_id,\n                  routes: `/admin/proposal`\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-comments-o\",\n                style: {\n                  fontSize: 16,\n                  cursor: \"pointer\",\n                  marginLeft: \"8px\",\n                  color: \"blue\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"View Discussion Message\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-comments-o\",\n              style: {\n                fontSize: 16,\n                cursor: \"pointer\",\n                color: \"orange\"\n              },\n              onClick: () => ViewDiscussionToggel(row.assign_no)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(AdminFilter, {\n          setData: setProposalDisplay,\n          getData: getProposalData,\n          allProposal: \"allProposal\",\n          setRecords: setRecords,\n          records: records\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(Records, {\n          records: records\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BootstrapTable, {\n          bootstrap4: true,\n          keyField: \"id\",\n          data: proposalDisplay,\n          columns: columns,\n          classes: \"table-responsive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ViewComponent, {\n          ViewHandler: ViewHandler,\n          viewModal: viewModal,\n          viewData: viewData,\n          getProposalData: getProposalData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DiscardReport, {\n          ViewDiscussionToggel: ViewDiscussionToggel,\n          ViewDiscussion: ViewDiscussion,\n          report: assignNo,\n          getData: getProposalData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AllProposalComponent, \"q1lj8KIBewaZ5e0rtD+Z0Ic2u5c=\");\n\n_c = AllProposalComponent;\nexport default AllProposalComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllProposalComponent\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/Admin/AllProposalComponent/AllProposalComponent.js"],"names":["React","useState","useEffect","axios","baseUrl","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","Link","NavLink","AdminFilter","BootstrapTable","Records","ViewComponent","DiscardReport","AllProposalComponent","allProposal","proposalDisplay","setProposalDisplay","records","setRecords","viewData","setViewData","viewModal","setViewModal","ViewHandler","key","console","log","assignNo","setAssignNo","ViewDiscussion","setViewDiscussion","ViewDiscussionToggel","getProposalData","get","then","res","data","code","result","length","columns","text","formatter","cellContent","row","rowIndex","style","fontSize","headerStyle","dataField","sort","dateFormat","cell","created","oldDate","toString","split","reverse","join","nameFormatter","pathname","q_id","index","routes","assign_no","DateofProposal","cust_accept_date","slice","status","statusdescription","color","width","display","justifyContent","statuscode","cursor","obj","message_type","query_No","query_id","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n} from \"reactstrap\";\n\nimport { Link, NavLink } from \"react-router-dom\";\nimport AdminFilter from \"../../../components/Search-Filter/AdminFilter\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Records from \"../../../components/Records/Records\";\nimport ViewComponent from \"../ViewProposal/ViewComponent\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\n\n\nfunction AllProposalComponent({ allProposal }) {\n  const [proposalDisplay, setProposalDisplay] = useState([]);\n  const [records, setRecords] = useState([]);\n\n  const [viewData, setViewData] = useState({});\n  const [viewModal, setViewModal] = useState(false);\n  const ViewHandler = (key) => {\n    console.log(key);\n    setViewModal(!viewModal);\n    setViewData(key);\n  };\n\n\n  const [assignNo, setAssignNo] = useState('');\n\n  const [ViewDiscussion, setViewDiscussion] = useState(false);\n  const ViewDiscussionToggel = (key) => {\n    setViewDiscussion(!ViewDiscussion);\n    setAssignNo(key)\n  }\n\n  useEffect(() => {\n    getProposalData();\n  }, []);\n\n  const getProposalData = () => {\n    axios.get(`${baseUrl}/admin/getProposals`).then((res) => {\n      console.log(res);\n      if (res.data.code === 1) {\n        setProposalDisplay(res.data.result);\n        setRecords(res.data.result.length);\n      }\n    });\n  };\n\n\n  const columns = [\n    {\n      text: \"S.No\",\n      formatter: (cellContent, row, rowIndex) => {\n        return rowIndex + 1;\n      },\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      dataField: \"created\",\n      text: \"Date\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function dateFormat(cell, row) {\n        console.log(\"dt\", row.created);\n        var oldDate = row.created;\n        if (oldDate == null) {\n          return null;\n        }\n        return oldDate.toString().split(\"-\").reverse().join(\"-\");\n      },\n    },\n    {\n      dataField: \"assign_no\",\n      text: \"Query No\",\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function nameFormatter(cell, row) {\n        console.log(row);\n        return (\n          <>\n            <Link\n              to={{\n                pathname: `/admin/queries/${row.q_id}`,\n                index: 0,\n                routes: \"proposal\",\n              }}\n            >\n              {row.assign_no}\n            </Link>\n          </>\n        );\n      },\n    },\n    {\n      dataField: \"parent_id\",\n      text: \"Category\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      dataField: \"cat_name\",\n      text: \"Sub Category\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      text: \"Date of Proposal\",\n      dataField: \"DateofProposal\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function dateFormat(cell, row) {\n        console.log(\"dt\", row.DateofProposal);\n        var oldDate = row.DateofProposal;\n        if (oldDate == null) {\n          return null;\n        }\n        return oldDate.toString().split(\"-\").reverse().join(\"-\");\n      },\n    },\n    {\n      text: \"Date of acceptance / decline of Proposal\",\n      dataField: \"cust_accept_date\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function dateFormat(cell, row) {\n        console.log(\"dt\", row.cust_accept_date);\n        var oldDate = row.cust_accept_date;\n        if (oldDate == null) {\n          return null;\n        }\n        return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n      },\n    },\n    {\n      text: \"Status\",\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function nameFormatter(cell, row) {\n        return (\n          <>\n            <div>\n              {\n                row.status == \"Inprogress\" ?\n                  <div>\n                    {row.status}/\n                    <p className=\"inprogress\">\n                      {row.statusdescription}\n                    </p>\n                  </div>\n                  :\n                  row.status == \"Customer Declined; Proposal\" ?\n                    <p className=\"declined\">\n                      {row.status}\n                    </p> :\n                    row.status == \"Accepted; Proposal\" ?\n                      <p className=\"completed\">\n                        {row.status}\n                      </p> :\n                      null\n              }\n            </div>\n          </>\n        );\n      },\n    },\n    {\n      dataField: \"ProposedAmount\",\n      text: \"Proposed Amount\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      dataField: \"accepted_amount\",\n      text: \"Accepted Amount \",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n        color: \"#21a3ce\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\", color: \"#21a3ce\" };\n      },\n    },\n    {\n      dataField: \"tl_name\",\n      text: \"TL name\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      text: \"Action\",\n      headerStyle: () => {\n        return { fontSize: \"11px\", width: \"95px\" };\n      },\n      formatter: function (cell, row) {\n        return (\n          <>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n\n              {row.statuscode > \"3\" || row.statuscode == \"10\" ?\n                <div style={{ cursor: \"pointer\" }} title=\"View Proposal\">\n                  <a\n                    href={`${baseUrl}/customers/dounloadpdf?id=${row.q_id}&viewpdf=1`}\n                    target=\"_blank\"\n                  >\n                    <i\n                      class=\"fa fa-eye\"\n                      style={{ color: \"green\", fontSize: \"16px\" }}\n                    />\n                  </a>\n                </div>\n                :\n                null\n              }\n\n\n              <div title=\"Send Message\">\n                <Link\n                  to={{\n                    pathname: `/admin/chatting/${row.q_id}`,\n                    obj: {\n                      message_type: \"2\",\n                      query_No: row.assign_no,\n                      query_id: row.q_id,\n                      routes: `/admin/proposal`\n                    }\n                  }}\n                >\n                  <i\n                    class=\"fa fa-comments-o\"\n                    style={{\n                      fontSize: 16,\n                      cursor: \"pointer\",\n                      marginLeft: \"8px\",\n                      color: \"blue\"\n                    }}\n                  ></i>\n                </Link>\n              </div>\n\n              <div title=\"View Discussion Message\">\n                <i\n                  class=\"fa fa-comments-o\"\n                  style={{\n                    fontSize: 16,\n                    cursor: \"pointer\",\n                    color: \"orange\"\n                  }}\n                  onClick={() => ViewDiscussionToggel(row.assign_no)}\n                ></i>\n              </div>\n\n            </div>\n          </>\n        );\n      },\n    },\n  ];\n\n\n  return (\n    <>\n      <Card>\n        <CardHeader>\n\n          <AdminFilter\n            setData={setProposalDisplay}\n            getData={getProposalData}\n            allProposal=\"allProposal\"\n            setRecords={setRecords}\n            records={records}\n          />\n        </CardHeader>\n\n        <CardBody>\n          <Records records={records} />\n          <BootstrapTable\n            bootstrap4\n            keyField=\"id\"\n            data={proposalDisplay}\n            columns={columns}\n            classes=\"table-responsive\"\n          />\n\n          <ViewComponent\n            ViewHandler={ViewHandler}\n            viewModal={viewModal}\n            viewData={viewData}\n            getProposalData={getProposalData}\n          />\n\n          <DiscardReport\n            ViewDiscussionToggel={ViewDiscussionToggel}\n            ViewDiscussion={ViewDiscussion}\n            report={assignNo}\n            getData={getProposalData}\n          />\n        </CardBody>\n      </Card>\n    </>\n  );\n}\n\nexport default AllProposalComponent;\n"]},"metadata":{},"sourceType":"module"}
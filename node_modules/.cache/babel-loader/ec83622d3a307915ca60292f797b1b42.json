{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/QueriesRecevied/QueriesRecevied.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport QueryDetails from \"../../../components/QueryDetails/QueryDetails\";\n\nfunction QueriesRecevied(props) {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const userid = window.localStorage.getItem(\"tlkey\");\n  const [submitData, setSubmitData] = useState([]);\n  const [assingNo, setAssingmentNo] = useState();\n  const [displayQuery, setDisplayQuery] = useState([]);\n  const [diaplaySpecific, setDisplaySpecific] = useState([]);\n  const [queryDocs, setQueryDocs] = useState([]);\n  const [paymentDetails, setPaymentDetails] = useState([]);\n  const [purpose, setPurpose] = useState([]);\n  const [year, setYear] = useState([]);\n  const [feedback, setFeedback] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    accepted_amount: \"\",\n    payment_received: \"\",\n    cust_accept_date: \"\",\n    proposal_date: \"\",\n    description: \"\",\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\"\n  });\n  const [diaplayAssignment, setDisplayAssignment] = useState([{\n    assignment_number: \"\",\n    assignment_date: \"\"\n  }]);\n  const [diaplayHistory, setDisplayHistory] = useState([{\n    tlname: \"\",\n    date_of_allocation: \"\",\n    date_of_delivery: \"\"\n  }]);\n  useEffect(() => {\n    const getSubmittedAssingment = () => {\n      axios.get(`${baseUrl}/tl/getQueryDetails?id=${id}`).then(res => {\n        console.log(res);\n\n        if (res.data.code === 1) {\n          if (res.data.result) {\n            if (res.data.result[0].name == null) {\n              console.log(\"null\");\n            } else {\n              setSubmitData(res.data.result);\n            }\n          }\n\n          if (res.data.additional_queries) {\n            setDisplaySpecific(res.data.additional_queries);\n          }\n\n          if (res.data.payment_detail) {\n            setPaymentDetails(res.data.payment_detail);\n          }\n\n          if (res.data.feedback_detail) {\n            setFeedback(res.data.feedback_detail);\n          }\n\n          if (res.data.result[0].assign_no) {\n            setAssingmentNo(res.data.result[0].assign_no);\n          }\n\n          if (res.data.reports) {\n            setReports(res.data.reports);\n          }\n\n          var purposeItem = res.data.result[0].purpose_opinion;\n          var assementItem = res.data.result[0].assessment_year;\n          console.log(\"purposeItem-\", typeof purposeItem);\n\n          try {\n            var myPurpose = JSON.parse(purposeItem);\n            var myYear = JSON.parse(assementItem);\n            setPurpose(myPurpose);\n            setYear(myYear);\n          } catch (e) {\n            return false;\n          }\n\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              cust_accept_date: res.data.proposal_queries[0].cust_accept_date,\n              proposal_date: res.data.proposal_queries[0].created,\n              description: res.data.proposal_queries[0].description,\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date\n            });\n          }\n\n          if (res.data.assignment.length > 0) {\n            setDisplayAssignment({\n              assignment_number: res.data.assignment[0].assignment_number,\n              assignment_date: res.data.assignment[0].created,\n              date_of_delivery: res.data.assignment[0].date_of_delivery\n            });\n          }\n\n          if (res.data.history_queries.length > 0) {\n            setDisplayHistory({\n              tlname: res.data.history_queries[0].tname,\n              date_of_allocation: res.data.history_queries[0].date_of_allocation\n            });\n          }\n\n          if (res.data.queries_document) {\n            if (res.data.queries_document.length > 0) {\n              setQueryDocs(res.data.queries_document);\n            }\n          }\n        }\n      });\n    };\n\n    getQuery();\n    getSubmittedAssingment();\n  }, [assingNo]);\n\n  const getQuery = () => {\n    axios.get(`${baseUrl}/tl/GetAdditionalQueries?assignno=${assingNo}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setDisplayQuery(res.data.result);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    TLDashboard: \"TLDashboard\",\n    TLuserId: userid,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"schedule\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Query Detail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-xl-12 col-lg-12 col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-header\",\n            id: \"headingOne\",\n            style: {\n              padding: \".5rem .1rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"mb-0 query ml-3\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: `/teamleader/${props.location.routes}`,\n                  index: props.location.index\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  class: \"btn btn-success ml-3\",\n                  children: \"Go Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), submitData.map((p, index) => /*#__PURE__*/_jsxDEV(QueryDetails, {\n            p: p,\n            diaplaySpecific: diaplaySpecific,\n            diaplayProposal: diaplayProposal,\n            diaplayHistory: diaplayHistory,\n            diaplayAssignment: diaplayAssignment,\n            displayQuery: displayQuery,\n            getQuery: getQuery,\n            assingNo: assingNo,\n            queryDocs: queryDocs,\n            paymentDetails: paymentDetails,\n            purpose: purpose,\n            year: year,\n            feedback: feedback,\n            reports: reports\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n\n_s(QueriesRecevied, \"mLydcVA5I07EaB/eq1FTswtjjpg=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = QueriesRecevied;\nexport default QueriesRecevied;\n\nvar _c;\n\n$RefreshReg$(_c, \"QueriesRecevied\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/QueriesRecevied/QueriesRecevied.js"],"names":["React","useState","useEffect","Layout","axios","baseUrl","useParams","Link","useHistory","QueryDetails","QueriesRecevied","props","id","history","userid","window","localStorage","getItem","submitData","setSubmitData","assingNo","setAssingmentNo","displayQuery","setDisplayQuery","diaplaySpecific","setDisplaySpecific","queryDocs","setQueryDocs","paymentDetails","setPaymentDetails","purpose","setPurpose","year","setYear","feedback","setFeedback","reports","setReports","diaplayProposal","setDisplayProposal","amount","accepted_amount","payment_received","cust_accept_date","proposal_date","description","amount_type","amount_fixed","amount_hourly","payment_terms","no_of_installment","installment_amount","due_date","diaplayAssignment","setDisplayAssignment","assignment_number","assignment_date","diaplayHistory","setDisplayHistory","tlname","date_of_allocation","date_of_delivery","getSubmittedAssingment","get","then","res","console","log","data","code","result","name","additional_queries","payment_detail","feedback_detail","assign_no","purposeItem","purpose_opinion","assementItem","assessment_year","myPurpose","JSON","parse","myYear","e","proposal_queries","length","paid_amount","created","assignment","history_queries","tname","queries_document","getQuery","padding","pathname","location","routes","index","map","p"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport QueryDetails from \"../../../components/QueryDetails/QueryDetails\";\n\nfunction QueriesRecevied(props) {\n  const { id } = useParams();\n  const history = useHistory();\n\n  const userid = window.localStorage.getItem(\"tlkey\");\n  const [submitData, setSubmitData] = useState([]);\n  const [assingNo, setAssingmentNo] = useState();\n  const [displayQuery, setDisplayQuery] = useState([]);\n  const [diaplaySpecific, setDisplaySpecific] = useState([]);\n  const [queryDocs, setQueryDocs] = useState([]);\n  const [paymentDetails, setPaymentDetails] = useState([]);\n  const [purpose, setPurpose] = useState([]);\n  const [year, setYear] = useState([]);\n  const [feedback, setFeedback] = useState([]);\n  const [reports, setReports] = useState([]);\n\n\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    accepted_amount: \"\",\n    payment_received: \"\",\n    cust_accept_date: \"\",\n    proposal_date: \"\",\n    description: \"\",\n\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\",\n  });\n\n  const [diaplayAssignment, setDisplayAssignment] = useState([\n    {\n      assignment_number: \"\",\n      assignment_date: \"\",\n    },\n  ]);\n\n  const [diaplayHistory, setDisplayHistory] = useState([\n    {\n      tlname: \"\",\n      date_of_allocation: \"\",\n      date_of_delivery: \"\",\n    },\n  ]);\n\n  useEffect(() => {\n    const getSubmittedAssingment = () => {\n      axios.get(`${baseUrl}/tl/getQueryDetails?id=${id}`).then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n\n          if (res.data.result) {\n            if (res.data.result[0].name == null) {\n              console.log(\"null\")\n            }\n            else {\n              setSubmitData(res.data.result);\n            }\n          }\n\n          if (res.data.additional_queries) {\n            setDisplaySpecific(res.data.additional_queries);\n          }\n          if (res.data.payment_detail) {\n            setPaymentDetails(res.data.payment_detail);\n          }\n          if (res.data.feedback_detail) {\n            setFeedback(res.data.feedback_detail);\n          }\n          if (res.data.result[0].assign_no) {\n            setAssingmentNo(res.data.result[0].assign_no);\n          }\n\n          if (res.data.reports) {\n            setReports(res.data.reports);\n          }\n\n          var purposeItem = res.data.result[0].purpose_opinion;\n          var assementItem = res.data.result[0].assessment_year;\n\n          console.log(\"purposeItem-\", typeof purposeItem);\n          try {\n            var myPurpose = JSON.parse(purposeItem);\n            var myYear = JSON.parse(assementItem);\n            setPurpose(myPurpose);\n            setYear(myYear);\n          } catch (e) {\n            return false;\n          }\n\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              cust_accept_date: res.data.proposal_queries[0].cust_accept_date,\n              proposal_date: res.data.proposal_queries[0].created,\n              description: res.data.proposal_queries[0].description,\n\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date,\n            });\n          }\n\n          if (res.data.assignment.length > 0) {\n            setDisplayAssignment({\n              assignment_number: res.data.assignment[0].assignment_number,\n              assignment_date: res.data.assignment[0].created,\n              date_of_delivery: res.data.assignment[0].date_of_delivery,\n            });\n          }\n          if (res.data.history_queries.length > 0) {\n            setDisplayHistory({\n              tlname: res.data.history_queries[0].tname,\n              date_of_allocation:\n                res.data.history_queries[0].date_of_allocation,\n            });\n          }\n          if (res.data.queries_document) {\n            if (res.data.queries_document.length > 0) {\n              setQueryDocs(res.data.queries_document);\n            }\n          }\n        }\n      });\n    };\n    getQuery();\n    getSubmittedAssingment();\n  }, [assingNo]);\n\n  const getQuery = () => {\n    axios\n      .get(`${baseUrl}/tl/GetAdditionalQueries?assignno=${assingNo}`)\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          setDisplayQuery(res.data.result);\n        }\n      });\n  };\n\n  return (\n    <Layout TLDashboard=\"TLDashboard\" TLuserId={userid}>\n      <div class=\"row mt-3\">\n        <div class=\"col-md-12\">\n          <div class=\"schedule\">\n            <h3>Query Detail</h3>\n          </div>\n        </div>\n        <div class=\"col-xl-12 col-lg-12 col-md-12\">\n          <div class=\"card\">\n            <div\n              class=\"card-header\"\n              id=\"headingOne\"\n              style={{ padding: \".5rem .1rem\" }}\n            >\n              <h2 class=\"mb-0 query ml-3\">\n                <Link\n                  to={{\n                    pathname: `/teamleader/${props.location.routes}`,\n                    index: props.location.index,\n                  }}\n                >\n                  <button class=\"btn btn-success ml-3\">Go Back</button>\n                </Link>\n              </h2>\n            </div>\n            {submitData.map((p, index) => (\n              <QueryDetails\n                p={p}\n                key={index}\n                diaplaySpecific={diaplaySpecific}\n                diaplayProposal={diaplayProposal}\n                diaplayHistory={diaplayHistory}\n                diaplayAssignment={diaplayAssignment}\n                displayQuery={displayQuery}\n                getQuery={getQuery}\n                assingNo={assingNo}\n                queryDocs={queryDocs}\n                paymentDetails={paymentDetails}\n                purpose={purpose}\n                year={year}\n                feedback={feedback}\n                reports={reports}\n\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default QueriesRecevied;\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/QueryAssingment/QueryAssingment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport { useAlert } from \"react-alert\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table, Tooltip } from \"reactstrap\";\nimport Alerts from \"../../../common/Alerts\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport classNames from \"classnames\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport Loader from \"../../../components/Loader/Loader\";\nconst Schema = yup.object().shape({\n  p_taxprof: yup.string().required(\"\"),\n  p_expdeldate: yup.string().required(\"\")\n});\n\nfunction QueryAssingment() {\n  _s();\n\n  const alert = useAlert();\n  const {\n    handleSubmit,\n    register,\n    errors,\n    reset\n  } = useForm({\n    resolver: yupResolver(Schema)\n  });\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [taxProfessionDisplay, setTaxProfessionDisplay] = useState([]);\n  const [taxID, setTaxID] = useState(null);\n  const [teamName, setTeamName] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [hideQuery, setHideQuery] = useState({\n    name: \"\",\n    timeline: \"\",\n    date_allocation: \"\",\n    expdeliverydate: \"\"\n  });\n  const [query, setQuery] = useState(true);\n  const userId = window.localStorage.getItem(\"tlkey\");\n  const tpkey = window.localStorage.getItem(\"tpkey\");\n  const [queryData, setQuerData] = useState({\n    queryNo: \"\",\n    timelines: \"\",\n    custId: \"\",\n    expect_dd: \"\"\n  });\n  const {\n    queryNo,\n    timelines,\n    custId,\n    expect_dd\n  } = queryData;\n  var current_date = new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth() + 1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2);\n  console.log(\"current_date :\", current_date);\n  const [item] = useState(current_date);\n  useEffect(() => {\n    getTaxProfession();\n    getQueryData();\n  }, []);\n\n  const getTaxProfession = () => {\n    axios.get(`${baseUrl}/tp/getTaxProfessional?tl_id=${JSON.parse(userId)}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setTaxProfessionDisplay(res.data.result);\n      }\n    });\n  };\n\n  const getQueryData = () => {\n    axios.get(`${baseUrl}/tl/GetQueryDetails?id=${id}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setQuerData({\n          queryNo: res.data.result[0].assign_no,\n          timelines: res.data.result[0].Timelines,\n          custId: res.data.result[0].customer_id,\n          expect_dd: res.data.result[0].Exp_Delivery_Date\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getQuery();\n  }, [queryNo]);\n\n  const getQuery = () => {\n    axios.get(`${baseUrl}/tl/TlCheckIfAssigned?assignno=${queryNo}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setQuery(false); // setHideQuery(res.data.meta);\n\n        setHideQuery({\n          name: res.data.meta[0].name,\n          timeline: res.data.meta[0].timeline,\n          date_allocation: res.data.meta[0].date_allocation,\n          expdeliverydate: res.data.meta[0].expdeliverydate\n        });\n      }\n    });\n  };\n\n  const handleChange = e => {\n    console.log(\"val-\", e.target.value);\n    setTaxID(e.target.value);\n    var value = taxProfessionDisplay.filter(function (item) {\n      return item.id == e.target.value;\n    });\n    console.log(value[0]);\n    setTeamName(value[0].name);\n  };\n\n  const onSubmit = value => {\n    console.log(\"value :\", value);\n    setLoading(true);\n    var expdeliverydate = value.p_expdeldate.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d{4})/, \"$3-$1-$2\");\n    let formData = new FormData();\n    formData.append(\"who\", taxID);\n    formData.append(\"id\", id);\n    formData.append(\"user\", JSON.parse(userId));\n    formData.append(\"type\", \"tp\");\n    formData.append(\"types\", \"tp\");\n    formData.append(\"name\", teamName);\n    formData.append(\"timeline\", value.p_timelines);\n    formData.append(\"expdeliverydate\", expdeliverydate);\n    formData.append(\"assignNo\", queryNo);\n    formData.append(\"customer_id\", custId);\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/tl/AddQueryAssignment`,\n      data: formData\n    }).then(function (response) {\n      console.log(\"res-\", response);\n\n      if (response.data.code === 1) {\n        setLoading(false);\n        var variable = \"Query assigned successfully.\";\n        Alerts.SuccessNormal(variable);\n        getQuery();\n        reset();\n      }\n\n      if (response.data.code === 0) {\n        setLoading(false);\n      }\n    }).catch(error => {\n      console.log(\"erroror - \", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    TLDashboard: \"TLDashboard\",\n    TLuserId: userId,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/teamleader/queriestab`,\n                index: 0\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"btn btn-success ml-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-arrow-left mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), \"Go Back\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Query Allocation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(CardHeader, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-xl-12 col-lg-12 col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: handleSubmit(onSubmit),\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    class: \"table\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Query No.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: [\"Tax Professional\", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"declined\",\n                            children: \"*\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 63\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Expected Timeline\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 220,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: [\"Exp. Delivery Date\", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"declined\",\n                            children: \"*\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 221,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 221,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Action\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 222,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: query ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"row\",\n                          children: queryNo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                            className: classNames(\"form-control\", {\n                              \"is-invalid\": errors.p_taxprof\n                            }),\n                            name: \"p_taxprof\",\n                            ref: register,\n                            onChange: e => handleChange(e),\n                            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                              value: \"\",\n                              children: \"--select--\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 238,\n                              columnNumber: 37\n                            }, this), taxProfessionDisplay.map((p, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: p.id,\n                              children: p.name\n                            }, index, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 240,\n                              columnNumber: 39\n                            }, this))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 230,\n                            columnNumber: 35\n                          }, this), errors.p_taxprof && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"invalid-feedback\",\n                            children: errors.p_taxprof.message\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 246,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            ref: register,\n                            name: \"p_timelines\",\n                            value: timelines,\n                            class: \"form-control\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 253,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            ref: register,\n                            name: \"p_expdeldate\",\n                            className: classNames(\"form-control\", {\n                              \"is-invalid\": errors.p_expdeldate\n                            }),\n                            value: expect_dd,\n                            min: item\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 262,\n                            columnNumber: 35\n                          }, this), errors.p_expdeldate && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"invalid-feedback\",\n                            children: errors.p_expdeldate.message\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 273,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"submit\",\n                            class: \"btn btn-success\",\n                            children: \"Assign\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 280,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 279,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"row\",\n                          children: queryNo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 287,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"select\", {\n                            class: \"form-control w-75 p-0\",\n                            disabled: true,\n                            children: /*#__PURE__*/_jsxDEV(\"option\", {\n                              children: hideQuery.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 290,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 289,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            ref: register,\n                            name: \"p_timelines\",\n                            value: hideQuery.timeline,\n                            disabled: true,\n                            class: \"form-control\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"date\",\n                            ref: register,\n                            name: \"p_expdeldate\",\n                            value: hideQuery.expdeliverydate,\n                            disabled: true,\n                            class: \"form-control\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 305,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 304,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            class: \"btn btn-success\",\n                            disabled: true,\n                            children: \"Assigned\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 316,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 315,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Mandatory, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n\n_s(QueryAssingment, \"X3hOlN5+JzCFCIbvnFpXwSDm644=\", false, function () {\n  return [useAlert, useForm, useParams, useHistory];\n});\n\n_c = QueryAssingment;\nexport default QueryAssingment; // var date = value.p_date.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d{4})/, \"$3-$1-$2\");\n\nvar _c;\n\n$RefreshReg$(_c, \"QueryAssingment\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/QueryAssingment/QueryAssingment.js"],"names":["React","useState","useEffect","Layout","useForm","axios","baseUrl","useParams","useHistory","Link","useAlert","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","Tooltip","Alerts","yupResolver","yup","classNames","Mandatory","Loader","Schema","object","shape","p_taxprof","string","required","p_expdeldate","QueryAssingment","alert","handleSubmit","register","errors","reset","resolver","id","history","taxProfessionDisplay","setTaxProfessionDisplay","taxID","setTaxID","teamName","setTeamName","loading","setLoading","hideQuery","setHideQuery","name","timeline","date_allocation","expdeliverydate","query","setQuery","userId","window","localStorage","getItem","tpkey","queryData","setQuerData","queryNo","timelines","custId","expect_dd","current_date","Date","getFullYear","getMonth","slice","getDate","console","log","item","getTaxProfession","getQueryData","get","JSON","parse","then","res","data","code","result","assign_no","Timelines","customer_id","Exp_Delivery_Date","getQuery","meta","handleChange","e","target","value","filter","onSubmit","replace","formData","FormData","append","p_timelines","method","url","response","variable","SuccessNormal","catch","error","pathname","index","textAlign","map","p","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport { useAlert } from \"react-alert\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n  Tooltip,\n} from \"reactstrap\";\nimport Alerts from \"../../../common/Alerts\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport classNames from \"classnames\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport Loader from \"../../../components/Loader/Loader\";\n\n\nconst Schema = yup.object().shape({\n  p_taxprof: yup.string().required(\"\"),\n  p_expdeldate: yup.string().required(\"\"),\n});\n\n\nfunction QueryAssingment() {\n  const alert = useAlert();\n  const { handleSubmit, register, errors, reset } = useForm({\n    resolver: yupResolver(Schema),\n  });\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  const [taxProfessionDisplay, setTaxProfessionDisplay] = useState([]);\n  const [taxID, setTaxID] = useState(null);\n  const [teamName, setTeamName] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const [hideQuery, setHideQuery] = useState({\n    name: \"\",\n    timeline: \"\",\n    date_allocation: \"\",\n    expdeliverydate: \"\",\n  });\n\n  const [query, setQuery] = useState(true);\n  const userId = window.localStorage.getItem(\"tlkey\");\n  const tpkey = window.localStorage.getItem(\"tpkey\");\n\n  const [queryData, setQuerData] = useState({\n    queryNo: \"\",\n    timelines: \"\",\n    custId: \"\",\n    expect_dd: \"\",\n  });\n\n  const { queryNo, timelines, custId, expect_dd } = queryData;\n\n  var current_date = new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth() + 1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2)\n  console.log(\"current_date :\", current_date);\n  const [item] = useState(current_date);\n\n\n  useEffect(() => {\n    getTaxProfession();\n    getQueryData();\n  }, []);\n\n  const getTaxProfession = () => {\n    axios\n      .get(`${baseUrl}/tp/getTaxProfessional?tl_id=${JSON.parse(userId)}`)\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          setTaxProfessionDisplay(res.data.result);\n        }\n      });\n  };\n\n  const getQueryData = () => {\n    axios.get(`${baseUrl}/tl/GetQueryDetails?id=${id}`).then((res) => {\n      console.log(res);\n      if (res.data.code === 1) {\n        setQuerData({\n          queryNo: res.data.result[0].assign_no,\n          timelines: res.data.result[0].Timelines,\n          custId: res.data.result[0].customer_id,\n          expect_dd: res.data.result[0].Exp_Delivery_Date,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getQuery();\n  }, [queryNo]);\n\n  const getQuery = () => {\n    axios\n      .get(`${baseUrl}/tl/TlCheckIfAssigned?assignno=${queryNo}`)\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          setQuery(false);\n          // setHideQuery(res.data.meta);\n          setHideQuery({\n            name: res.data.meta[0].name,\n            timeline: res.data.meta[0].timeline,\n            date_allocation: res.data.meta[0].date_allocation,\n            expdeliverydate: res.data.meta[0].expdeliverydate,\n          });\n        }\n      });\n  };\n\n  const handleChange = (e) => {\n    console.log(\"val-\", e.target.value);\n    setTaxID(e.target.value)\n    var value = taxProfessionDisplay.filter(function (item) {\n      return item.id == e.target.value\n    })\n    console.log(value[0]);\n    setTeamName(value[0].name)\n  }\n\n\n  const onSubmit = (value) => {\n    console.log(\"value :\", value);\n    setLoading(true)\n\n    var expdeliverydate = value.p_expdeldate.replace(\n      /(\\d\\d)\\/(\\d\\d)\\/(\\d{4})/,\n      \"$3-$1-$2\"\n    );\n\n    let formData = new FormData();\n    formData.append(\"who\", taxID);\n    formData.append(\"id\", id);\n    formData.append(\"user\", JSON.parse(userId));\n    formData.append(\"type\", \"tp\");\n    formData.append(\"types\", \"tp\");\n    formData.append(\"name\", teamName);\n    formData.append(\"timeline\", value.p_timelines);\n    formData.append(\"expdeliverydate\", expdeliverydate);\n    formData.append(\"assignNo\", queryNo);\n    formData.append(\"customer_id\", custId);\n\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/tl/AddQueryAssignment`,\n      data: formData,\n    })\n      .then(function (response) {\n        console.log(\"res-\", response);\n        if (response.data.code === 1) {\n          setLoading(false)\n          var variable = \"Query assigned successfully.\"\n          Alerts.SuccessNormal(variable)\n          getQuery();\n          reset();\n        } if (response.data.code === 0) {\n          setLoading(false)\n        }\n      })\n      .catch((error) => {\n        console.log(\"erroror - \", error);\n      });\n  };\n\n  return (\n    <Layout TLDashboard=\"TLDashboard\" TLuserId={userId}>\n      <Card>\n        <CardHeader>\n          <Row>\n            <Col md=\"4\">\n              <Link\n                to={{\n                  pathname: `/teamleader/queriestab`,\n                  index: 0,\n                }}\n              >\n                <button\n                  class=\"btn btn-success ml-3\"\n                >\n                  <i class=\"fas fa-arrow-left mr-2\"></i>\n                  Go Back\n                </button>\n              </Link>\n            </Col>\n            <Col md=\"4\">\n              <div style={{ textAlign: \"center\" }}>\n                <h2>Query Allocation</h2>\n              </div>\n            </Col>\n          </Row>\n        </CardHeader>\n\n        {\n          loading ?\n            <Loader />\n            :\n            <>\n              <CardHeader>\n                <div class=\"row mt-3\">\n                  <div class=\"col-xl-12 col-lg-12 col-md-12\">\n                    <div class=\"col-md-12\">\n                      <form onSubmit={handleSubmit(onSubmit)}>\n                        <table class=\"table\">\n                          <thead>\n                            <tr>\n                              <th scope=\"col\">Query No.</th>\n                              <th scope=\"col\">Tax Professional<span className=\"declined\">*</span></th>\n                              <th scope=\"col\">Expected Timeline</th>\n                              <th scope=\"col\">Exp. Delivery Date<span className=\"declined\">*</span></th>\n                              <th scope=\"col\">Action</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {query ? (\n                              <tr>\n                                <th scope=\"row\">{queryNo}</th>\n                                <td>\n                                  <select\n                                    className={classNames(\"form-control\", {\n                                      \"is-invalid\": errors.p_taxprof,\n                                    })}\n                                    name=\"p_taxprof\"\n                                    ref={register}\n                                    onChange={(e) => handleChange(e)}\n                                  >\n                                    <option value=\"\">--select--</option>\n                                    {taxProfessionDisplay.map((p, index) => (\n                                      <option key={index} value={p.id}>\n                                        {p.name}\n                                      </option>\n                                    ))}\n                                  </select>\n                                  {errors.p_taxprof && (\n                                    <div className=\"invalid-feedback\">\n                                      {errors.p_taxprof.message}\n                                    </div>\n                                  )}\n                                </td>\n\n                                <td>\n                                  <input\n                                    type=\"text\"\n                                    ref={register}\n                                    name=\"p_timelines\"\n                                    value={timelines}\n                                    class=\"form-control\"\n                                  />\n                                </td>\n                                <td>\n                                  <input\n                                    type=\"text\"\n                                    ref={register}\n                                    name=\"p_expdeldate\"\n                                    className={classNames(\"form-control\", {\n                                      \"is-invalid\": errors.p_expdeldate,\n                                    })}\n                                    value={expect_dd}\n                                    min={item}\n                                  />\n                                  {errors.p_expdeldate && (\n                                    <div className=\"invalid-feedback\">\n                                      {errors.p_expdeldate.message}\n                                    </div>\n                                  )}\n                                </td>\n\n                                <td>\n                                  <button type=\"submit\" class=\"btn btn-success\">\n                                    Assign\n                                  </button>\n                                </td>\n                              </tr>\n                            ) : (\n                              <tr>\n                                <th scope=\"row\">{queryNo}</th>\n                                <td>\n                                  <select class=\"form-control w-75 p-0\" disabled>\n                                    <option>{hideQuery.name}</option>\n                                  </select>\n                                </td>\n\n                                <td>\n                                  <input\n                                    type=\"text\"\n                                    ref={register}\n                                    name=\"p_timelines\"\n                                    value={hideQuery.timeline}\n                                    disabled\n                                    class=\"form-control\"\n                                  />\n                                </td>\n                                <td>\n                                  <input\n                                    type=\"date\"\n                                    ref={register}\n                                    name=\"p_expdeldate\"\n                                    value={hideQuery.expdeliverydate}\n                                    disabled\n                                    class=\"form-control\"\n                                  />\n                                </td>\n\n                                <td>\n                                  <button class=\"btn btn-success\" disabled>\n                                    Assigned\n                                  </button>\n                                </td>\n                              </tr>\n                            )}\n                          </tbody>\n                        </table>\n                      </form>\n                      <Mandatory />\n                    </div>\n                  </div>\n                </div>\n              </CardHeader>\n            </>\n        }\n      </Card>\n    </Layout>\n  );\n}\n\nexport default QueryAssingment;\n\n// var date = value.p_date.replace(/(\\d\\d)\\/(\\d\\d)\\/(\\d{4})/, \"$3-$1-$2\");\n"]},"metadata":{},"sourceType":"module"}
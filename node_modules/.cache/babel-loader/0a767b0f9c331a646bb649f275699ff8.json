{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/QueriesTab/AllQuery.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table } from \"reactstrap\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { Link } from \"react-router-dom\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport TeamFilter from \"../../../components/Search-Filter/tlFilter\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\n\nfunction AllQuery() {\n  _s();\n\n  const userid = window.localStorage.getItem(\"tlkey\");\n  const [incompleteData, setInCompleteData] = useState([]);\n  const [records, setRecords] = useState([]);\n  const [assignNo, setAssignNo] = useState('');\n  const [ViewDiscussion, setViewDiscussion] = useState(false);\n\n  const ViewDiscussionToggel = key => {\n    setViewDiscussion(!ViewDiscussion);\n    setAssignNo(key);\n  };\n\n  useEffect(() => {\n    getInCompleteAssingment();\n  }, []);\n\n  const getInCompleteAssingment = () => {\n    axios.get(`${baseUrl}/tl/getIncompleteQues?id=${JSON.parse(userid)}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setInCompleteData(res.data.result);\n        setRecords(res.data.result.length);\n      }\n    });\n  };\n\n  const columns = [{\n    text: \"S.No\",\n    dataField: \"\",\n    formatter: (cellContent, row, rowIndex) => {\n      return rowIndex + 1;\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\",\n        width: \"50px\"\n      };\n    }\n  }, {\n    text: \"Date\",\n    dataField: \"created\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    text: \"Query No\",\n    dataField: \"assign_no\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      console.log(row);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: `/teamleader/queries/${row.id}`,\n            index: 1,\n            routes: \"queriestab\"\n          },\n          children: row.assign_no\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    text: \"Category\",\n    dataField: \"parent_id\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    text: \"Sub Category\",\n    dataField: \"cat_name\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    text: \"Customer Name\",\n    dataField: \"name\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    text: \"\tExp. Delivery Date\",\n    dataField: \"Exp_Delivery_Date\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.Exp_Delivery_Date);\n      var oldDate = row.Exp_Delivery_Date;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Status\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [row.status, \"/\", row.status == \"Inprogress Query\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"inprogress\",\n            children: row.statusdescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 37\n          }, this) : row.status == \"Declined Query\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"declined\",\n            children: row.statusdescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 41\n          }, this) : row.status == \"Completed Query\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"completed\",\n            children: row.statusdescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 45\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    text: \"Action\",\n    dataField: \"\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function (cell, row) {\n      console.log(\"StatusCode\", row);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-evenly\",\n            color: \"green\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"Send Message\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/teamleader/chatting/${row.id}`,\n                obj: {\n                  message_type: \"2\",\n                  query_No: row.assign_no,\n                  query_id: row.id,\n                  routes: `/teamleader/proposal`\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-comments-o\",\n                style: {\n                  fontSize: 16,\n                  cursor: \"pointer\",\n                  marginLeft: \"8px\",\n                  color: \"blue\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"View Discussion Message\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-comments-o\",\n              style: {\n                fontSize: 16,\n                cursor: \"pointer\",\n                color: \"orange\"\n              },\n              onClick: () => ViewDiscussionToggel(row.assign_no)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(TeamFilter, {\n          setData: setInCompleteData,\n          getData: getInCompleteAssingment,\n          AllQuery: \"AllQuery\",\n          setRecords: setRecords,\n          records: records\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(BootstrapTable, {\n          bootstrap4: true,\n          keyField: \"id\",\n          data: incompleteData,\n          columns: columns,\n          rowIndex: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DiscardReport, {\n          ViewDiscussionToggel: ViewDiscussionToggel,\n          ViewDiscussion: ViewDiscussion,\n          report: assignNo,\n          getData: getInCompleteAssingment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(AllQuery, \"T8VuRJxG6btaL9nqPDBa29B4OyQ=\");\n\n_c = AllQuery;\nexport default AllQuery;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllQuery\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/QueriesTab/AllQuery.js"],"names":["React","useState","useEffect","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","axios","baseUrl","Link","BootstrapTable","TeamFilter","DiscardReport","AllQuery","userid","window","localStorage","getItem","incompleteData","setInCompleteData","records","setRecords","assignNo","setAssignNo","ViewDiscussion","setViewDiscussion","ViewDiscussionToggel","key","getInCompleteAssingment","get","JSON","parse","then","res","console","log","data","code","result","length","columns","text","dataField","formatter","cellContent","row","rowIndex","headerStyle","fontSize","width","sort","nameFormatter","cell","pathname","id","index","routes","assign_no","dateFormat","Exp_Delivery_Date","oldDate","toString","split","reverse","join","status","statusdescription","display","justifyContent","color","obj","message_type","query_No","query_id","cursor","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n    Card,\n    CardHeader,\n    CardBody,\n    CardTitle,\n    Row,\n    Col,\n    Table,\n} from \"reactstrap\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { Link } from \"react-router-dom\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport TeamFilter from \"../../../components/Search-Filter/tlFilter\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\n\n\n\nfunction AllQuery() {\n\n    const userid = window.localStorage.getItem(\"tlkey\");\n\n    const [incompleteData, setInCompleteData] = useState([]);\n    const [records, setRecords] = useState([]);\n\n\n    const [assignNo, setAssignNo] = useState('');\n    const [ViewDiscussion, setViewDiscussion] = useState(false);\n    const ViewDiscussionToggel = (key) => {\n        setViewDiscussion(!ViewDiscussion);\n        setAssignNo(key)\n    }\n\n    useEffect(() => {\n        getInCompleteAssingment();\n    }, []);\n\n    const getInCompleteAssingment = () => {\n        axios\n            .get(`${baseUrl}/tl/getIncompleteQues?id=${JSON.parse(userid)}`)\n            .then((res) => {\n                console.log(res);\n                if (res.data.code === 1) {\n                    setInCompleteData(res.data.result);\n                    setRecords(res.data.result.length);\n                }\n            });\n    };\n\n    const columns = [\n        {\n            text: \"S.No\",\n            dataField: \"\",\n            formatter: (cellContent, row, rowIndex) => {\n                return rowIndex + 1;\n            },\n            headerStyle: () => {\n                return { fontSize: \"12px\", width: \"50px\" };\n            },\n        },\n        {\n            text: \"Date\",\n            dataField: \"created\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n        },\n        {\n            text: \"Query No\",\n            dataField: \"assign_no\",\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function nameFormatter(cell, row) {\n                console.log(row);\n                return (\n                    <>\n                        {/* <Link to={`/teamleader/queries/${row.id}`}>{row.assign_no}</Link> */}\n                        <Link\n                            to={{\n                                pathname: `/teamleader/queries/${row.id}`,\n                                index: 1,\n                                routes: \"queriestab\",\n                            }}\n                        >\n                            {row.assign_no}\n                        </Link>\n                    </>\n                );\n            },\n        },\n        {\n            text: \"Category\",\n            dataField: \"parent_id\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n        },\n        {\n            text: \"Sub Category\",\n            dataField: \"cat_name\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n        },\n        {\n            text: \"Customer Name\",\n            dataField: \"name\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n        },\n        {\n            text: \"\tExp. Delivery Date\",\n            dataField: \"Exp_Delivery_Date\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function dateFormat(cell, row) {\n                console.log(\"dt\", row.Exp_Delivery_Date);\n                var oldDate = row.Exp_Delivery_Date;\n                if (oldDate == null) {\n                    return null;\n                }\n                return oldDate.toString().split(\"-\").reverse().join(\"-\");\n            },\n        },\n        {\n            text: \"Status\",\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function nameFormatter(cell, row) {\n                return (\n                    <>\n                        <div>\n                            {row.status}/\n                            {\n                                row.status == \"Inprogress Query\" ?\n                                    <p className=\"inprogress\">\n\n                                        {row.statusdescription}\n                                    </p>\n                                    :\n                                    row.status == \"Declined Query\" ?\n                                        <p className=\"declined\">\n\n                                            {row.statusdescription}\n                                        </p> :\n                                        row.status == \"Completed Query\" ?\n                                            <p className=\"completed\">\n\n                                                {row.statusdescription}\n                                            </p> :\n                                            null\n                            }\n                        </div>\n                    </>\n                );\n            },\n        },\n        {\n            text: \"Action\",\n            dataField: \"\",\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function (cell, row) {\n                console.log(\"StatusCode\", row)\n                return (\n                    <>\n                        <div\n                            style={{\n                                display: \"flex\",\n                                justifyContent: \"space-evenly\",\n                                color: \"green\",\n                            }}\n                        >\n                            {/* <Link to={`/teamleader/queryassing/${row.id}`}>\n                                {row.tp_status == \"1\" ? (\n                                    <div title=\"Assigned\">\n                                        <i class=\"fa fa-share\" style={{ color: \"green\" }}></i>\n                                    </div>\n                                ) :\n                                    row.status_code == \"2\" ?\n                                        (\n                                            <div title=\"Assign to\">\n                                                <i class=\"fa fa-share\"></i>\n                                            </div>\n                                        )\n                                        :\n                                        \"\"\n                                }\n                            </Link> */}\n\n                            <div title=\"Send Message\">\n                                <Link\n                                    to={{\n                                        pathname: `/teamleader/chatting/${row.id}`,\n                                        obj: {\n                                            message_type: \"2\",\n                                            query_No: row.assign_no,\n                                            query_id: row.id,\n                                            routes: `/teamleader/proposal`\n                                        }\n                                    }}\n                                >\n                                    <i\n                                        class=\"fa fa-comments-o\"\n                                        style={{\n                                            fontSize: 16,\n                                            cursor: \"pointer\",\n                                            marginLeft: \"8px\",\n                                            color: \"blue\"\n                                        }}\n                                    ></i>\n                                </Link>\n                            </div>\n\n                            <div title=\"View Discussion Message\">\n                                <i\n                                    class=\"fa fa-comments-o\"\n                                    style={{\n                                        fontSize: 16,\n                                        cursor: \"pointer\",\n                                        color: \"orange\"\n                                    }}\n                                    onClick={() => ViewDiscussionToggel(row.assign_no)}\n                                ></i>\n                            </div>\n                        </div>\n                    </>\n                );\n            },\n        },\n    ];\n\n    return (\n        <>\n            <Card>\n                <CardHeader>\n                    <TeamFilter\n                        setData={setInCompleteData}\n                        getData={getInCompleteAssingment}\n                        AllQuery=\"AllQuery\"\n                        setRecords={setRecords}\n                        records={records}\n                    />\n                </CardHeader>\n                <CardBody>\n                    <BootstrapTable\n                        bootstrap4\n                        keyField=\"id\"\n                        data={incompleteData}\n                        columns={columns}\n                        rowIndex\n                    />\n                    <DiscardReport\n                        ViewDiscussionToggel={ViewDiscussionToggel}\n                        ViewDiscussion={ViewDiscussion}\n                        report={assignNo}\n                        getData={getInCompleteAssingment}\n                    />\n\n                </CardBody>\n            </Card>\n        </>\n    );\n}\n\nexport default AllQuery;\n"]},"metadata":{},"sourceType":"module"}
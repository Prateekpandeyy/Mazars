{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/views/Schedule/demo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { ViewState, EditingState, IntegratedEditing } from \"@devexpress/dx-react-scheduler\";\nimport { Scheduler, WeekView, DayView, Appointments, Toolbar, DateNavigator, ViewSwitcher, AppointmentForm, AppointmentTooltip, TodayButton, Resources, EditRecurrenceMenu } from \"@devexpress/dx-react-scheduler-material-ui\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as Cookies from \"js-cookie\";\n\nfunction Demo() {\n  _s();\n\n  const userId = window.localStorage.getItem(\"userid\");\n  const history = useHistory();\n  const [data, setData] = useState([]);\n  const [assignmentdata, setAssignmentData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [owner, setOwner] = useState([]);\n  const [baseMode, SetbaseMode] = useState(\"avc\");\n  const [transcode, SetTranscode] = useState(\"interop\");\n  const [attendeeMode, SetAttendeeMode] = useState(\"video\");\n  const [videoProfile, SetVideoProfile] = useState(\"480p_4\");\n  var date = new Date();\n\n  function convert(str) {\n    var date = new Date(str),\n        mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\n        day = (\"0\" + date.getDate()).slice(-2);\n    return [date.getFullYear(), mnth, day].join(\"-\");\n  }\n\n  const [currentDate] = useState(convert(date));\n  useEffect(() => {\n    getData();\n    getAssignmentNo();\n    getUsers();\n  }, []);\n\n  const getData = () => {\n    axios.get(`${baseUrl}/customers/videoScheduler?customer_id=${JSON.parse(userId)}`).then(res => {\n      console.log(\"res -\", res);\n      console.log(\"result -\", res.data.result.items);\n      var a = res.data.result.items;\n\n      if (a) {\n        setData(a.map(mapAppointmentData));\n        setLoading(false);\n      }\n    });\n  };\n\n  const mapAppointmentData = appointment => ({\n    id: appointment.id,\n    startDate: appointment.start,\n    endDate: appointment.end,\n    title: appointment.title,\n    notes: appointment.summary,\n    question_id: appointment.question_id,\n    assign_no: appointment.assign_no,\n    owner: appointment.owner,\n    username: appointment.username\n  });\n\n  const getAssignmentNo = () => {\n    axios.get(`${baseUrl}/customers/getAllQuery?uid=${JSON.parse(userId)}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        var data = res.data.result;\n        const newArrayOfObj = data.map(({\n          assign_no: text,\n          ...rest\n        }) => ({\n          text,\n          ...rest\n        }));\n        console.log(\"dt--\", newArrayOfObj);\n        setAssignmentData(newArrayOfObj);\n      }\n    });\n  };\n\n  const getUsers = () => {\n    axios.get(`${baseUrl}/tl/allAttendees?uid=${JSON.parse(userId)}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        var data = res.data.result;\n        const newOwners = data.map(({\n          name: text,\n          ...rest\n        }) => ({\n          text,\n          ...rest\n        }));\n        console.log(\"dt--\", newOwners);\n        setOwner(newOwners);\n      }\n    });\n  };\n\n  const resources = [{\n    fieldName: \"question_id\",\n    title: \"Query No\",\n    instances: assignmentdata\n  } // {\n  //   fieldName: \"username\",\n  //   title: \"Users\",\n  //   instances: owner,\n  //   allowMultiple: true,\n  // },\n  ];\n\n  const commitChanges = ({\n    added,\n    changed,\n    deleted\n  }) => {\n    console.log(\"added\", added);\n  };\n\n  const styles = theme => ({\n    button: {\n      color: theme.palette.background.default,\n      padding: 0\n    },\n    text: {\n      paddingTop: theme.spacing(1),\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\"\n    }\n  });\n\n  const AppointmentBase = ({\n    children,\n    data,\n    onClick,\n    classes,\n    onAppointmentMetaChange,\n    ...restProps\n  }) => /*#__PURE__*/_jsxDEV(Appointments.Appointment, { ...restProps,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [console.log(\"data\", data), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleJoin(data.question_id),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fa fa-video-camera\",\n          style: {\n            fontSize: \"12px\",\n            color: \"#fff\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n\n  const Appointment = withStyles(styles, {\n    name: \"Appointment\"\n  })(AppointmentBase);\n\n  const myAppointment = props => {\n    return /*#__PURE__*/_jsxDEV(Appointment, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  }; //handleJoin\n\n\n  const handleJoin = id => {\n    console.log(\"id\", id);\n    Cookies.set(\"channel\", id);\n    Cookies.set(\"baseMode\", baseMode);\n    Cookies.set(\"transcode\", transcode);\n    Cookies.set(\"attendeeMode\", attendeeMode);\n    Cookies.set(\"videoProfile\", videoProfile);\n    history.push(\"/customer/meeting\");\n  };\n\n  const messages = {\n    moreInformationLabel: \"\"\n  };\n\n  const BooleanEditor = props => {\n    if (props.label === \"All Day\" || props.label === \"Repeat\") {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(AppointmentForm.BooleanEditor, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 12\n    }, this);\n  };\n\n  const TextEditor = props => {\n    return /*#__PURE__*/_jsxDEV(AppointmentForm.TextEditor, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 12\n    }, this);\n  }; //basic layout\n\n\n  const BasicLayout = ({\n    onFieldChange,\n    appointmentData,\n    ...restProps\n  }) => {\n    console.log(\"appointmentData\", appointmentData);\n    return /*#__PURE__*/_jsxDEV(AppointmentForm.BasicLayout, {\n      appointmentData: appointmentData,\n      onFieldChange: onFieldChange,\n      ...restProps,\n      children: [/*#__PURE__*/_jsxDEV(AppointmentForm.Label, {\n        text: \"All Participants\",\n        type: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentForm.TextEditor, {\n        value: appointmentData.username,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    children: /*#__PURE__*/_jsxDEV(Scheduler, {\n      data: data,\n      height: 660,\n      children: [/*#__PURE__*/_jsxDEV(ViewState, {\n        defaultCurrentDate: currentDate,\n        defaultCurrentViewName: \"Week\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditingState, {\n        onCommitChanges: commitChanges\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditRecurrenceMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DayView, {\n        cellDuration: 60,\n        startDayHour: 0,\n        endDayHour: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WeekView, {\n        cellDuration: 60,\n        startDayHour: 0,\n        endDayHour: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Appointments, {\n        appointmentComponent: myAppointment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DateNavigator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TodayButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ViewSwitcher, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentTooltip, {\n        showOpenButton: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentForm, {\n        basicLayoutComponent: BasicLayout,\n        textEditorComponent: TextEditor,\n        booleanEditorComponent: BooleanEditor,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Resources, {\n        data: resources,\n        mainResourceName: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Demo, \"RdC1da75ihMBX7K3oxinETG/EdQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = Demo;\nexport default Demo;\n{\n  /* <AppointmentForm.Label text=\"Customer Phone\" type=\"title\" /> */\n} // function TitleComponent({ title }) {\n//   return (\n//     <div>\n//       <Link to={`/customer/queries`}>queries - {title}</Link>\n//     </div>\n//   );\n// }\n\n/* <Link to={`/customer/meeting`}>\n          <p style={{ fontSize: \"12px\",color:\"#fff\" }}>link</p>\n        </Link> */\n//03-nov-1972\n// if (added) {\n//   console.log(\"added - \", added);\n//   var startDate = added.startDate;\n//   var endDate = added.endDate;\n//   let formData = new FormData();\n//   formData.append(\"customer_id\", JSON.parse(userId));\n//   formData.append(\"question_id\", added.question_id);\n//   formData.append(\"time\", changeFormat(startDate));\n//   formData.append(\"endtime\", changeFormat(endDate));\n//   formData.append(\"title\", added.title);\n//   formData.append(\"notes\", added.notes);\n//   axios({\n//     method: \"POST\",\n//     url: `${baseUrl}/customers/PostCallSchedule`,\n//     data: formData,\n//   })\n//     .then(function (response) {\n//       console.log(\"res post-\", response);\n//       getData();\n//       setLoading(false);\n//     })\n//     .catch((error) => {\n//       console.log(\"erroror - \", error);\n//     });\n// }\n// if (changed) {\n//   console.log(\"changed\", changed);\n//   const data2 = data.map((appointment) =>\n//     changed[appointment.id]\n//       ? { ...appointment, ...changed[appointment.id] }\n//       : appointment\n//   );\n//   console.log(\"data2 - \", data2);\n//   let valuesArray = Object.entries(changed);\n//   let id = valuesArray[0][0];\n//   console.log(\"id -\", id);\n//   let dataIttem;\n//   for (var i = 0; i < data2.length; i++) {\n//     if (data2[i].id === id) {\n//       dataIttem = data2[i];\n//     }\n//   }\n//   console.log(\"dataIttem\", dataIttem);\n//   let formData = new FormData();\n//   formData.append(\"customer_id\", JSON.parse(userId));\n//   formData.append(\"question_id\", dataIttem.question_id);\n//   formData.append(\"id\", dataIttem.id);\n//   formData.append(\"time\", dataIttem.startDate);\n//   formData.append(\"endtime\", dataIttem.endDate);\n//   formData.append(\"title\", dataIttem.title);\n//   formData.append(\"notes\", dataIttem.notes);\n//   axios({\n//     method: \"POST\",\n//     url: `${baseUrl}/customers/PostCallSchedule`,\n//     data: formData,\n//   })\n//     .then(function (response) {\n//       console.log(\"res post-\", response);\n//       getData();\n//     })\n//     .catch((error) => {\n//       console.log(\"erroror - \", error);\n//     });\n// }\n// if (deleted !== undefined) {\n//   console.log(\"deleted f\", deleted);\n//   axios.get(`${baseUrl}/customers/freeslot?id=${deleted}`).then((res) => {\n//     console.log(\"res -\", res);\n//     getData();\n//     setLoading(false);\n//   });\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"Demo\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/views/Schedule/demo.js"],"names":["React","useState","useEffect","Paper","ViewState","EditingState","IntegratedEditing","Scheduler","WeekView","DayView","Appointments","Toolbar","DateNavigator","ViewSwitcher","AppointmentForm","AppointmentTooltip","TodayButton","Resources","EditRecurrenceMenu","withStyles","axios","baseUrl","Link","useHistory","Cookies","Demo","userId","window","localStorage","getItem","history","data","setData","assignmentdata","setAssignmentData","loading","setLoading","owner","setOwner","baseMode","SetbaseMode","transcode","SetTranscode","attendeeMode","SetAttendeeMode","videoProfile","SetVideoProfile","date","Date","convert","str","mnth","getMonth","slice","day","getDate","getFullYear","join","currentDate","getData","getAssignmentNo","getUsers","get","JSON","parse","then","res","console","log","result","items","a","map","mapAppointmentData","appointment","id","startDate","start","endDate","end","title","notes","summary","question_id","assign_no","username","code","newArrayOfObj","text","rest","newOwners","name","resources","fieldName","instances","commitChanges","added","changed","deleted","styles","theme","button","color","palette","background","default","padding","paddingTop","spacing","overflow","textOverflow","whiteSpace","AppointmentBase","children","onClick","classes","onAppointmentMetaChange","restProps","display","handleJoin","fontSize","Appointment","myAppointment","props","set","push","messages","moreInformationLabel","BooleanEditor","label","TextEditor","BasicLayout","onFieldChange","appointmentData"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {\n  ViewState,\n  EditingState,\n  IntegratedEditing,\n} from \"@devexpress/dx-react-scheduler\";\nimport {\n  Scheduler,\n  WeekView,\n  DayView,\n  Appointments,\n  Toolbar,\n  DateNavigator,\n  ViewSwitcher,\n  AppointmentForm,\n  AppointmentTooltip,\n  TodayButton,\n  Resources,\n  EditRecurrenceMenu,\n} from \"@devexpress/dx-react-scheduler-material-ui\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as Cookies from \"js-cookie\";\n\nfunction Demo() {\n  const userId = window.localStorage.getItem(\"userid\");\n  const history = useHistory();\n  const [data, setData] = useState([]);\n  const [assignmentdata, setAssignmentData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [owner, setOwner] = useState([]);\n\n\n  const [baseMode, SetbaseMode] = useState(\"avc\");\n  const [transcode, SetTranscode] = useState(\"interop\");\n  const [attendeeMode, SetAttendeeMode] = useState(\"video\");\n  const [videoProfile, SetVideoProfile] = useState(\"480p_4\");\n\n  var date = new Date();\n\n  function convert(str) {\n    var date = new Date(str),\n      mnth = (\"0\" + (date.getMonth() + 1)).slice(-2),\n      day = (\"0\" + date.getDate()).slice(-2);\n    return [date.getFullYear(), mnth, day].join(\"-\");\n  }\n  const [currentDate] = useState(convert(date));\n\n  useEffect(() => {\n    getData();\n    getAssignmentNo();\n    getUsers();\n  }, []);\n\n\n  const getData = () => {\n    axios\n      .get(\n        `${baseUrl}/customers/videoScheduler?customer_id=${JSON.parse(userId)}`\n      )\n      .then((res) => {\n        console.log(\"res -\", res);\n        console.log(\"result -\", res.data.result.items);\n        var a = res.data.result.items;\n        if (a) {\n          setData(a.map(mapAppointmentData));\n          setLoading(false);\n        }\n      });\n  };\n\n\n  const mapAppointmentData = (appointment) => ({\n    id: appointment.id,\n    startDate: appointment.start,\n    endDate: appointment.end,\n    title: appointment.title,\n    notes: appointment.summary,\n    question_id: appointment.question_id,\n    assign_no: appointment.assign_no,\n    owner: appointment.owner,\n    username: appointment.username,\n  });\n\n\n  const getAssignmentNo = () => {\n    axios\n      .get(`${baseUrl}/customers/getAllQuery?uid=${JSON.parse(userId)}`)\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          var data = res.data.result;\n          const newArrayOfObj = data.map(({ assign_no: text, ...rest }) => ({\n            text,\n            ...rest,\n          }));\n          console.log(\"dt--\", newArrayOfObj);\n          setAssignmentData(newArrayOfObj);\n        }\n      });\n  };\n\n\n  const getUsers = () => {\n    axios.get(`${baseUrl}/tl/allAttendees?uid=${JSON.parse(userId)}`).then((res) => {\n      console.log(res);\n      if (res.data.code === 1) {\n        var data = res.data.result;\n        const newOwners = data.map(({ name: text, ...rest }) => ({\n          text,\n          ...rest,\n        }));\n        console.log(\"dt--\", newOwners);\n        setOwner(newOwners);\n      }\n    });\n  };\n\n\n  const resources = [\n    {\n      fieldName: \"question_id\",\n      title: \"Query No\",\n      instances: assignmentdata,\n    },\n    // {\n    //   fieldName: \"username\",\n    //   title: \"Users\",\n    //   instances: owner,\n    //   allowMultiple: true,\n    // },\n  ];\n\n\n\n  const commitChanges = ({ added, changed, deleted }) => {\n    console.log(\"added\", added)\n  };\n\n\n\n  const styles = (theme) => ({\n    button: {\n      color: theme.palette.background.default,\n      padding: 0,\n    },\n    text: {\n      paddingTop: theme.spacing(1),\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n    },\n  });\n\n  const AppointmentBase = ({\n    children,\n    data,\n    onClick,\n    classes,\n    onAppointmentMetaChange,\n    ...restProps\n  }) => (\n    <Appointments.Appointment {...restProps}>\n      <div style={{ display: \"flex\" }}>\n        {\n          console.log(\"data\", data)\n        }\n        <div>{children}</div>\n        <div\n          onClick={() => handleJoin(data.question_id)}\n        >\n          <i\n            class=\"fa fa-video-camera\"\n            style={{ fontSize: \"12px\", color: \"#fff\" }}\n          ></i>\n        </div>\n      </div>\n    </Appointments.Appointment>\n  );\n\n\n  const Appointment = withStyles(styles, { name: \"Appointment\" })(\n    AppointmentBase\n  );\n\n\n\n  const myAppointment = (props) => {\n    return (\n      <Appointment\n        {...props}\n      />\n    );\n  };\n\n  //handleJoin\n  const handleJoin = (id) => {\n    console.log(\"id\", id);\n    Cookies.set(\"channel\", id);\n    Cookies.set(\"baseMode\", baseMode);\n    Cookies.set(\"transcode\", transcode);\n    Cookies.set(\"attendeeMode\", attendeeMode);\n    Cookies.set(\"videoProfile\", videoProfile);\n    history.push(\"/customer/meeting\");\n  };\n\n\n  const messages = {\n    moreInformationLabel: \"\"\n  };\n\n\n  const BooleanEditor = (props) => {\n    if (props.label === \"All Day\" || props.label === \"Repeat\") {\n      return null;\n    }\n    return <AppointmentForm.BooleanEditor {...props} />;\n  };\n\n  const TextEditor = (props) => {\n    return <AppointmentForm.TextEditor {...props} />;\n  };\n\n\n  //basic layout\n  const BasicLayout = ({ onFieldChange, appointmentData, ...restProps }) => {\n    console.log(\"appointmentData\", appointmentData);\n    return (\n      <AppointmentForm.BasicLayout\n        appointmentData={appointmentData}\n        onFieldChange={onFieldChange}\n        {...restProps}\n      >\n\n        <AppointmentForm.Label text=\"All Participants\" type=\"title\" />\n        <AppointmentForm.TextEditor\n          value={appointmentData.username}\n          readOnly\n        />\n\n      </AppointmentForm.BasicLayout>\n    );\n  };\n\n  return (\n    <Paper>\n      <Scheduler data={data} height={660}>\n        <ViewState\n          defaultCurrentDate={currentDate}\n          defaultCurrentViewName=\"Week\"\n        />\n        <EditingState onCommitChanges={commitChanges} />\n        <EditRecurrenceMenu />\n\n        <DayView cellDuration={60} startDayHour={0} endDayHour={24} />\n        <WeekView cellDuration={60} startDayHour={0} endDayHour={24}  />\n\n        <Appointments appointmentComponent={myAppointment} />\n\n        <Toolbar />\n        <DateNavigator />\n        <TodayButton />\n        <ViewSwitcher />\n\n        <AppointmentTooltip showOpenButton />\n\n\n        <AppointmentForm\n          basicLayoutComponent={BasicLayout}\n          textEditorComponent={TextEditor}\n          booleanEditorComponent={BooleanEditor}\n          readOnly\n        />\n\n        <Resources\n          data={resources}\n          mainResourceName=\"username\"\n        />\n\n      </Scheduler>\n    </Paper>\n  );\n}\n\nexport default Demo;\n\n\n\n{/* <AppointmentForm.Label text=\"Customer Phone\" type=\"title\" /> */ }\n// function TitleComponent({ title }) {\n//   return (\n//     <div>\n//       <Link to={`/customer/queries`}>queries - {title}</Link>\n//     </div>\n//   );\n// }\n\n/* <Link to={`/customer/meeting`}>\n          <p style={{ fontSize: \"12px\",color:\"#fff\" }}>link</p>\n        </Link> */\n\n\n\n//03-nov-1972\n    // if (added) {\n    //   console.log(\"added - \", added);\n    //   var startDate = added.startDate;\n    //   var endDate = added.endDate;\n\n    //   let formData = new FormData();\n    //   formData.append(\"customer_id\", JSON.parse(userId));\n    //   formData.append(\"question_id\", added.question_id);\n    //   formData.append(\"time\", changeFormat(startDate));\n    //   formData.append(\"endtime\", changeFormat(endDate));\n    //   formData.append(\"title\", added.title);\n    //   formData.append(\"notes\", added.notes);\n    //   axios({\n    //     method: \"POST\",\n    //     url: `${baseUrl}/customers/PostCallSchedule`,\n    //     data: formData,\n    //   })\n    //     .then(function (response) {\n    //       console.log(\"res post-\", response);\n    //       getData();\n    //       setLoading(false);\n    //     })\n    //     .catch((error) => {\n    //       console.log(\"erroror - \", error);\n    //     });\n    // }\n    // if (changed) {\n    //   console.log(\"changed\", changed);\n\n    //   const data2 = data.map((appointment) =>\n    //     changed[appointment.id]\n    //       ? { ...appointment, ...changed[appointment.id] }\n    //       : appointment\n    //   );\n    //   console.log(\"data2 - \", data2);\n\n    //   let valuesArray = Object.entries(changed);\n    //   let id = valuesArray[0][0];\n    //   console.log(\"id -\", id);\n    //   let dataIttem;\n\n    //   for (var i = 0; i < data2.length; i++) {\n    //     if (data2[i].id === id) {\n    //       dataIttem = data2[i];\n    //     }\n    //   }\n    //   console.log(\"dataIttem\", dataIttem);\n\n    //   let formData = new FormData();\n    //   formData.append(\"customer_id\", JSON.parse(userId));\n    //   formData.append(\"question_id\", dataIttem.question_id);\n    //   formData.append(\"id\", dataIttem.id);\n    //   formData.append(\"time\", dataIttem.startDate);\n    //   formData.append(\"endtime\", dataIttem.endDate);\n    //   formData.append(\"title\", dataIttem.title);\n    //   formData.append(\"notes\", dataIttem.notes);\n\n    //   axios({\n    //     method: \"POST\",\n    //     url: `${baseUrl}/customers/PostCallSchedule`,\n    //     data: formData,\n    //   })\n    //     .then(function (response) {\n    //       console.log(\"res post-\", response);\n    //       getData();\n    //     })\n    //     .catch((error) => {\n    //       console.log(\"erroror - \", error);\n    //     });\n    // }\n\n    // if (deleted !== undefined) {\n    //   console.log(\"deleted f\", deleted);\n    //   axios.get(`${baseUrl}/customers/freeslot?id=${deleted}`).then((res) => {\n    //     console.log(\"res -\", res);\n    //     getData();\n    //     setLoading(false);\n    //   });\n    // }"]},"metadata":{},"sourceType":"module"}
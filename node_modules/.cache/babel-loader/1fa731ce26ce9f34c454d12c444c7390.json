{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/ForgetPassword/ForgetPassword.js\",\n    _s = $RefreshSig$();\n\nimport { useForm } from \"react-hook-form\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../../components/Header/Header\";\nimport Footer from \"../../../components/Footer/Footer\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport classNames from \"classnames\";\nimport Alerts from \"../../../common/Alerts\";\nimport { Link } from \"react-router-dom\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport { Spinner } from \"reactstrap\";\nconst Schema = yup.object().shape({\n  p_email: yup.string().email(\"invalid email\").required(\"\")\n});\n\nfunction ForgetPassword(props) {\n  _s();\n\n  const alert = useAlert();\n  const {\n    handleSubmit,\n    register,\n    reset,\n    errors\n  } = useForm({\n    resolver: yupResolver(Schema)\n  });\n  const [loading, setLoading] = useState(false);\n\n  const onSubmit = value => {\n    console.log(\"value :\", value);\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"email\", value.p_email);\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/tl/forgototp`,\n      data: formData\n    }).then(function (response) {\n      console.log(\"res-\", response);\n\n      if (response.data.code === 1) {\n        setLoading(false);\n        Alerts.SuccessNormal(\"As per your request , OTP has been sent to your email address.\");\n        props.history.push(`/teamleader/new-password/${value.p_email}`);\n      } else if (response.data.code === 0) {\n        Alerts.ErrorNormal(\"Please enter correct email address.\");\n        setLoading(false);\n      }\n    }).catch(error => {\n      console.log(\"erroror - \", error);\n    });\n  };\n\n  const valueHandler = () => {\n    var item = props.location.email;\n\n    if (item == \"null\") {\n      console.log(\"item : \", item); // return '';\n    } else {\n      return item;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      mtl: \"mtl\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"heading\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Forgot Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: classNames(\"form-control\", {\n                \"is-invalid\": errors.p_email\n              }),\n              name: \"p_email\",\n              ref: register,\n              placeholder: \"Enter Email\",\n              defaultValue: valueHandler()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this), errors.p_email && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: errors.p_email.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Get OTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/teamleader/login\",\n            style: {\n              \"margin\": \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-secondary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Mandatory, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ForgetPassword, \"bR8/nkD0zLXIrvuESmDdpJy+nBg=\", false, function () {\n  return [useAlert, useForm];\n});\n\n_c = ForgetPassword;\nexport default ForgetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgetPassword\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/ForgetPassword/ForgetPassword.js"],"names":["useForm","React","useState","useEffect","Header","Footer","axios","baseUrl","useAlert","yupResolver","yup","classNames","Alerts","Link","Mandatory","Spinner","Schema","object","shape","p_email","string","email","required","ForgetPassword","props","alert","handleSubmit","register","reset","errors","resolver","loading","setLoading","onSubmit","value","console","log","formData","FormData","append","method","url","data","then","response","code","SuccessNormal","history","push","ErrorNormal","catch","error","valueHandler","item","location","message"],"mappings":"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","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../../components/Header/Header\";\nimport Footer from \"../../../components/Footer/Footer\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport classNames from \"classnames\";\nimport Alerts from \"../../../common/Alerts\";\nimport { Link } from \"react-router-dom\";\nimport Mandatory from \"../../../components/Common/Mandatory\";\nimport { Spinner } from \"reactstrap\";\n\n\nconst Schema = yup.object().shape({\n  p_email: yup.string().email(\"invalid email\").required(\"\"),\n});\n\nfunction ForgetPassword(props) {\n  const alert = useAlert();\n\n  const { handleSubmit, register, reset, errors } = useForm({\n    resolver: yupResolver(Schema),\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const onSubmit = (value) => {\n    console.log(\"value :\", value);\n    setLoading(true)\n\n    let formData = new FormData();\n    formData.append(\"email\", value.p_email);\n\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/tl/forgototp`,\n      data: formData,\n    })\n      .then(function (response) {\n        console.log(\"res-\", response);\n        if (response.data.code === 1) {\n          setLoading(false)\n          Alerts.SuccessNormal(\"As per your request , OTP has been sent to your email address.\")\n          props.history.push(`/teamleader/new-password/${value.p_email}`)\n        } else if (response.data.code === 0) {\n          Alerts.ErrorNormal(\"Please enter correct email address.\")\n          setLoading(false)\n        }\n      })\n      .catch((error) => {\n        console.log(\"erroror - \", error);\n      });\n  };\n\n\n  const valueHandler = () => {\n    var item = props.location.email\n    if (item == \"null\") {\n      console.log(\"item : \", item)\n      // return '';\n    } else {\n      return item\n    }\n\n  }\n\n  return (\n    <>\n      <Header mtl=\"mtl\" />\n      <div className=\"container\">\n        <div className=\"form\">\n          <div className=\"heading\">\n            <h2>Forgot Password</h2>\n          </div>\n          {\n            loading ?\n              <div class=\"col-md-12\">\n                <Spinner color=\"primary\" />\n              </div>\n              :\n              <form onSubmit={handleSubmit(onSubmit)}>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">Email</label>\n                  <input\n                    type=\"text\"\n                    className={classNames(\"form-control\", {\n                      \"is-invalid\": errors.p_email,\n                    })}\n                    name=\"p_email\"\n                    ref={register}\n                    placeholder=\"Enter Email\"\n                    defaultValue={valueHandler()}\n\n                  />\n                  {errors.p_email && (\n                    <div className=\"invalid-feedback\">{errors.p_email.message}</div>\n                  )}\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Get OTP\n                </button>\n                <Link to=\"/teamleader/login\" style={{ \"margin\": \"10px\" }}>\n                  <button type=\"submit\" className=\"btn btn-secondary\">\n                    Cancel\n                  </button>\n                </Link>\n\n                <Mandatory />\n              </form>\n          }\n        </div>\n      </div>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default ForgetPassword;\n"]},"metadata":{},"sourceType":"module"}
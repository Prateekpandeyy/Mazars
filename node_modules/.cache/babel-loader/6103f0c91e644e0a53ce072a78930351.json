{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/Admin/TeamLeaderTab/TeamLeaderTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport \"./index.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table } from \"reactstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Swal from \"sweetalert2\";\nimport { TurnedIn } from \"@material-ui/icons\";\nimport History from './History.js';\n\nfunction TeamLeaderTab() {\n  _s();\n\n  const alert = useAlert();\n  const [data, setData] = useState([]);\n  const [tlCount, setTlCount] = useState(\"\");\n  const [subCat, setsubCat] = useState([]);\n  const [history, setHistory] = useState([]);\n  const userid = window.localStorage.getItem(\"adminkey\");\n  var kk = [];\n  var pp = [];\n  const [modal, setModal] = useState(false);\n\n  const toggle = key => {\n    console.log(\"key\", key);\n    setModal(!modal);\n    fetch(`${baseUrl}/admin/userhistory?id=${key}`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/vnd.github.cloak-preview\"\n      })\n    }).then(res => res.json()).then(response => {\n      console.log(response);\n      setHistory(response.result);\n    }).catch(error => console.log(error));\n  };\n\n  const columns = [{\n    dataField: \"\",\n    text: \"S.No\",\n    formatter: (cellContent, row, rowIndex) => {\n      return rowIndex + 1;\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\",\n        width: \"50px\"\n      };\n    }\n  }, {\n    dataField: \"post_name\",\n    text: \"TL post name\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    dataField: \"email\",\n    text: \"TL post email\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    dataField: \"name\",\n    text: \"Name of TL\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    dataField: \"personal_email\",\n    text: \"Email\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    dataField: \"phone\",\n    text: \"Mobile No\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    dataField: \"parent_id\",\n    text: \"Category\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      var digit2 = [];\n      digit2 = row.allpcat_id.split(\",\");\n      console.log(\"digit2\", digit2);\n      console.log(digit2.includes(\"Indirect\"));\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: digit2.map(e => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: e.includes(\"Indirect\") === true ? \"dirCla\" : \"indirCla\",\n              children: [\" \", e + \",\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 21\n            }, this)\n          }, void 0, false);\n        })\n      }, void 0, false);\n    }\n  }, {\n    dataField: \"allcat_id\",\n    text: \"Sub Category\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      var digit = []; //  console.log(JSON.parse(row.allcat_id))\n\n      digit = JSON.parse(row.allcat_id); // digit = row.allcat_id;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            \"color\": \"blue\",\n            \"diplay\": \"block\"\n          },\n          children: [digit.direct + \",\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            \"color\": \"green\",\n            \"display\": \"block\"\n          },\n          children: digit.indirect + \",\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }\n  }, {\n    dataField: \"\",\n    text: \"Action\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function (cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/admin/edittl/${row.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-edit\",\n            style: {\n              fontSize: 18,\n              cursor: \"pointer\",\n              marginLeft: \"8px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash\",\n          style: {\n            fontSize: 20,\n            cursor: \"pointer\",\n            marginLeft: \"8px\"\n          },\n          onClick: () => del(row.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }\n  }, {\n    text: \"History\",\n    dataField: \"\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function (cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-info btn-sm\",\n          onClick: () => toggle(row.id),\n          children: \"History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    }\n  }];\n  useEffect(() => {\n    getTeamLeader();\n  }, []);\n\n  const getTeamLeader = () => {\n    axios.get(`${baseUrl}/tl/getTeamLeader`).then(res => {\n      console.log(\"Log\", res.data.result);\n      var dd = [];\n\n      if (res.data.code === 1) {\n        pp.push(res.data.result);\n        setData(res.data.result);\n        setTlCount(res.data.result.length);\n      }\n    });\n  }; //check\n\n\n  const del = id => {\n    console.log(\"del\", id);\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"It will permanently deleted !\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\"\n    }).then(result => {\n      if (result.value) {\n        deleteCliente(id);\n      }\n    });\n  }; // delete data\n\n\n  const deleteCliente = id => {\n    axios.get(`${baseUrl}/tl/deleteTeamLeader?id=${id}`).then(function (response) {\n      console.log(\"delete-\", response);\n\n      if (response.data.code === 1) {\n        Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n        getTeamLeader();\n      } else {\n        Swal.fire(\"Oops...\", \"Errorr \", \"error\");\n      }\n    }).catch(error => {\n      console.log(\"erroror - \", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    adminDashboard: \"adminDashboard\",\n    adminUserId: userid,\n    children: [console.log(\"Layout\"), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"10\",\n            children: /*#__PURE__*/_jsxDEV(CardTitle, {\n              tag: \"h4\",\n              children: [\"Team Leaders (\", tlCount, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"2\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/addnewtl\",\n              className: \"btn btn-primary\",\n              children: \"Add New\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(BootstrapTable, {\n          bootstrap4: true,\n          keyField: \"id\",\n          data: data,\n          columns: columns,\n          rowIndex: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(History, {\n      history: history,\n      toggle: toggle,\n      modal: modal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TeamLeaderTab, \"9TnW/Kg0ZRQZhyaGU0MYoq9d5gA=\", false, function () {\n  return [useAlert];\n});\n\n_c = TeamLeaderTab;\nexport default TeamLeaderTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"TeamLeaderTab\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/Admin/TeamLeaderTab/TeamLeaderTab.js"],"names":["React","useState","useEffect","Layout","Link","axios","baseUrl","useAlert","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","BootstrapTable","Swal","TurnedIn","History","TeamLeaderTab","alert","data","setData","tlCount","setTlCount","subCat","setsubCat","history","setHistory","userid","window","localStorage","getItem","kk","pp","modal","setModal","toggle","key","console","log","fetch","method","headers","Headers","Accept","then","res","json","response","result","catch","error","columns","dataField","text","formatter","cellContent","row","rowIndex","headerStyle","fontSize","width","sort","nameFormatter","cell","digit2","allpcat_id","split","includes","map","e","digit","JSON","parse","allcat_id","direct","indirect","id","cursor","marginLeft","del","getTeamLeader","get","dd","code","push","length","fire","title","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","value","deleteCliente"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAO,aAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,QAHF,EAIEC,SAJF,EAKEC,GALF,EAMEC,GANF,EAOEC,KAPF,QAQO,YARP;AASA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,OAAOC,OAAP,MAAoB,cAApB;;AACA,SAASC,aAAT,GAAyB;AAAA;;AACvB,QAAMC,KAAK,GAAGb,QAAQ,EAAtB;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsB,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACwB,MAAD,EAASC,SAAT,IAAsBzB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC0B,OAAD,EAAUC,UAAV,IAAwB3B,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM4B,MAAM,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAf;AACA,MAAIC,EAAE,GAAG,EAAT;AACA,MAAIC,EAAE,GAAG,EAAT;AAGA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBnC,QAAQ,CAAC,KAAD,CAAlC;;AAEA,QAAMoC,MAAM,GAAIC,GAAD,IAAS;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,GAAnB;AACAF,IAAAA,QAAQ,CAAC,CAACD,KAAF,CAAR;AAEAM,IAAAA,KAAK,CAAE,GAAEnC,OAAQ,yBAAwBgC,GAAI,EAAxC,EAA2C;AAC9CI,MAAAA,MAAM,EAAE,KADsC;AAE9CC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnBC,QAAAA,MAAM,EAAE;AADW,OAAZ;AAFqC,KAA3C,CAAL,CAMGC,IANH,CAMSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANjB,EAOGF,IAPH,CAOSG,QAAD,IAAc;AAClBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;AACArB,MAAAA,UAAU,CAACqB,QAAQ,CAACC,MAAV,CAAV;AACD,KAVH,EAWGC,KAXH,CAWUC,KAAD,IAAWb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAXpB;AAYD,GAhBD;;AAkBA,QAAMC,OAAO,GAAG,CACd;AACEC,IAAAA,SAAS,EAAE,EADb;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAE,CAACC,WAAD,EAAcC,GAAd,EAAmBC,QAAnB,KAAgC;AACzC,aAAOA,QAAQ,GAAG,CAAlB;AACD,KALH;AAMEC,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE,MAAZ;AAAoBC,QAAAA,KAAK,EAAE;AAA3B,OAAP;AACD;AARH,GADc,EAWd;AACER,IAAAA,SAAS,EAAE,WADb;AAEEC,IAAAA,IAAI,EAAE,cAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD;AANH,GAXc,EAoBd;AACEP,IAAAA,SAAS,EAAE,OADb;AAEEC,IAAAA,IAAI,EAAE,eAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD;AANH,GApBc,EA4Bd;AACEP,IAAAA,SAAS,EAAE,MADb;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD;AANH,GA5Bc,EAoCd;AACEP,IAAAA,SAAS,EAAE,gBADb;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD;AANH,GApCc,EA4Cd;AACEP,IAAAA,SAAS,EAAE,OADb;AAEEC,IAAAA,IAAI,EAAE,WAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD;AANH,GA5Cc,EAoDd;AACEP,IAAAA,SAAS,EAAE,WADb;AAEEC,IAAAA,IAAI,EAAE,UAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KANH;AAOEL,IAAAA,SAAS,EAAE,SAASQ,aAAT,CAAuBC,IAAvB,EAA6BP,GAA7B,EAAkC;AAC3C,UAAIQ,MAAM,GAAG,EAAb;AACAA,MAAAA,MAAM,GAAGR,GAAG,CAACS,UAAJ,CAAeC,KAAf,CAAqB,GAArB,CAAT;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB0B,MAAtB;AACA3B,MAAAA,OAAO,CAACC,GAAR,CAAY0B,MAAM,CAACG,QAAP,CAAgB,UAAhB,CAAZ;AACA,0BACE;AAAA,kBAGIH,MAAM,CAACI,GAAP,CAAYC,CAAD,IAAO;AAChB,8BACE;AAAA,mCACE;AAAG,cAAA,SAAS,EAAEA,CAAC,CAACF,QAAF,CAAW,UAAX,MAA2B,IAA3B,GAAkC,QAAlC,GAA6C,UAA3D;AAAA,8BAAyEE,CAAC,GAAG,GAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,2BADF;AAKD,SAND;AAHJ,uBADF;AAcD;AA1BH,GApDc,EAgFd;AACEjB,IAAAA,SAAS,EAAE,WADb;AAEEC,IAAAA,IAAI,EAAE,cAFR;AAGEQ,IAAAA,IAAI,EAAE,IAHR;AAIEH,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KANH;AAOEL,IAAAA,SAAS,EAAE,SAASQ,aAAT,CAAuBC,IAAvB,EAA6BP,GAA7B,EAAkC;AAC3C,UAAIc,KAAK,GAAG,EAAZ,CAD2C,CAE3C;;AACCA,MAAAA,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWhB,GAAG,CAACiB,SAAf,CAAR,CAH0C,CAKnD;;AACQ,0BACE;AAAA,gCACE;AAAG,UAAA,KAAK,EAAE;AAAE,qBAAS,MAAX;AAAmB,sBAAU;AAA7B,WAAV;AAAA,qBAAmDH,KAAK,CAACI,MAAN,GAAe,GAAlE;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,UAAA,KAAK,EAAE;AAAE,qBAAS,OAAX;AAAoB,uBAAW;AAA/B,WAAV;AAAA,oBAAqDJ,KAAK,CAACK,QAAN,GAAiB;AAAtE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA,sBADF;AAOD;AApBH,GAhFc,EAuGd;AACEvB,IAAAA,SAAS,EAAE,EADb;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEK,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KALH;AAMEL,IAAAA,SAAS,EAAE,UAAUS,IAAV,EAAgBP,GAAhB,EAAqB;AAC9B,0BACE;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,iBAAgBA,GAAG,CAACoB,EAAG,EAAlC;AAAA,iCACE;AACE,YAAA,SAAS,EAAC,YADZ;AAEE,YAAA,KAAK,EAAE;AACLjB,cAAAA,QAAQ,EAAE,EADL;AAELkB,cAAAA,MAAM,EAAE,SAFH;AAGLC,cAAAA,UAAU,EAAE;AAHP;AAFT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE;AACE,UAAA,SAAS,EAAC,aADZ;AAEE,UAAA,KAAK,EAAE;AAAEnB,YAAAA,QAAQ,EAAE,EAAZ;AAAgBkB,YAAAA,MAAM,EAAE,SAAxB;AAAmCC,YAAAA,UAAU,EAAE;AAA/C,WAFT;AAGE,UAAA,OAAO,EAAE,MAAMC,GAAG,CAACvB,GAAG,CAACoB,EAAL;AAHpB;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA,sBADF;AAoBD;AA3BH,GAvGc,EAqId;AACEvB,IAAAA,IAAI,EAAE,SADR;AAEED,IAAAA,SAAS,EAAE,EAFb;AAGEM,IAAAA,WAAW,EAAE,MAAM;AACjB,aAAO;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KALH;AAMEL,IAAAA,SAAS,EAAE,UAAUS,IAAV,EAAgBP,GAAhB,EAAqB;AAC9B,0BACE;AAAA,+BACE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,KAAK,EAAC,qBAFR;AAGE,UAAA,OAAO,EAAE,MAAMrB,MAAM,CAACqB,GAAG,CAACoB,EAAL,CAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,uBADF;AAWD;AAlBH,GArIc,CAAhB;AA2JA5E,EAAAA,SAAS,CAAC,MAAM;AACdgF,IAAAA,aAAa;AAEd,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMA,aAAa,GAAG,MAAM;AAC1B7E,IAAAA,KAAK,CAAC8E,GAAN,CAAW,GAAE7E,OAAQ,mBAArB,EAAyCwC,IAAzC,CAA+CC,GAAD,IAAS;AACrDR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBO,GAAG,CAAC1B,IAAJ,CAAS6B,MAA5B;AACA,UAAIkC,EAAE,GAAG,EAAT;;AACA,UAAIrC,GAAG,CAAC1B,IAAJ,CAASgE,IAAT,KAAkB,CAAtB,EAAyB;AACvBnD,QAAAA,EAAE,CAACoD,IAAH,CAAQvC,GAAG,CAAC1B,IAAJ,CAAS6B,MAAjB;AACA5B,QAAAA,OAAO,CAAEyB,GAAG,CAAC1B,IAAJ,CAAS6B,MAAX,CAAP;AACA1B,QAAAA,UAAU,CAACuB,GAAG,CAAC1B,IAAJ,CAAS6B,MAAT,CAAgBqC,MAAjB,CAAV;AACD;AACF,KARD;AASD,GAVD,CA/LuB,CA4MvB;;;AACA,QAAMN,GAAG,GAAIH,EAAD,IAAQ;AAClBvC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBsC,EAAnB;AAEA9D,IAAAA,IAAI,CAACwE,IAAL,CAAU;AACRC,MAAAA,KAAK,EAAE,eADC;AAERlC,MAAAA,IAAI,EAAE,+BAFE;AAGRmC,MAAAA,IAAI,EAAE,SAHE;AAIRC,MAAAA,gBAAgB,EAAE,IAJV;AAKRC,MAAAA,kBAAkB,EAAE,SALZ;AAMRC,MAAAA,iBAAiB,EAAE,MANX;AAORC,MAAAA,iBAAiB,EAAE;AAPX,KAAV,EAQGhD,IARH,CAQSI,MAAD,IAAY;AAClB,UAAIA,MAAM,CAAC6C,KAAX,EAAkB;AAChBC,QAAAA,aAAa,CAAClB,EAAD,CAAb;AACD;AACF,KAZD;AAaD,GAhBD,CA7MuB,CA+NvB;;;AACA,QAAMkB,aAAa,GAAIlB,EAAD,IAAQ;AAC5BzE,IAAAA,KAAK,CACF8E,GADH,CACQ,GAAE7E,OAAQ,2BAA0BwE,EAAG,EAD/C,EAEGhC,IAFH,CAEQ,UAAUG,QAAV,EAAoB;AACxBV,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBS,QAAvB;;AACA,UAAIA,QAAQ,CAAC5B,IAAT,CAAcgE,IAAd,KAAuB,CAA3B,EAA8B;AAC5BrE,QAAAA,IAAI,CAACwE,IAAL,CAAU,UAAV,EAAsB,6BAAtB,EAAqD,SAArD;AACAN,QAAAA,aAAa;AACd,OAHD,MAGO;AACLlE,QAAAA,IAAI,CAACwE,IAAL,CAAU,SAAV,EAAqB,SAArB,EAAgC,OAAhC;AACD;AAEF,KAXH,EAYGrC,KAZH,CAYUC,KAAD,IAAW;AAChBb,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BY,KAA1B;AACD,KAdH;AAeD,GAhBD;;AAoBA,sBAEE,QAAC,MAAD;AAAQ,IAAA,cAAc,EAAC,gBAAvB;AAAwC,IAAA,WAAW,EAAEvB,MAArD;AAAA,eACGU,OAAO,CAACC,GAAR,CAAY,QAAZ,CADH,eAEE,QAAC,IAAD;AAAA,8BACE,QAAC,UAAD;AAAA,+BACE,QAAC,GAAD;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAC,IAAR;AAAA,mCACE,QAAC,SAAD;AAAW,cAAA,GAAG,EAAC,IAAf;AAAA,2CAAmCjB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAC,GAAR;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE,iBAAV;AAA6B,cAAA,SAAS,EAAC,iBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAaE,QAAC,QAAD;AAAA,+BACE,QAAC,cAAD;AACE,UAAA,UAAU,MADZ;AAEE,UAAA,QAAQ,EAAC,IAFX;AAGE,UAAA,IAAI,EAAEF,IAHR;AAKE,UAAA,OAAO,EAAEgC,OALX;AAME,UAAA,QAAQ;AANV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAbF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eA0BE,QAAC,OAAD;AAAS,MAAA,OAAO,EAAE1B,OAAlB;AAA2B,MAAA,MAAM,EAAEU,MAAnC;AAA2C,MAAA,KAAK,EAAEF;AAAlD;AAAA;AAAA;AAAA;AAAA,YA1BF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AA+BD;;GAnRQhB,a;UACOZ,Q;;;KADPY,a;AAqRT,eAAeA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../../components/Layout/Layout\";\nimport \"./index.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n} from \"reactstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport Swal from \"sweetalert2\";\nimport { TurnedIn } from \"@material-ui/icons\";\nimport History from './History.js';\nfunction TeamLeaderTab() {\n  const alert = useAlert();\n  const [data, setData] = useState([]);\n  const [tlCount, setTlCount] = useState(\"\");\n  const [subCat, setsubCat] = useState([])\n  const [history, setHistory] = useState([]);\n  const userid = window.localStorage.getItem(\"adminkey\");\n  var kk = []\n  var pp = []\n  \n\n  const [modal, setModal] = useState(false);\n\n  const toggle = (key) => {\n    console.log(\"key\", key);\n    setModal(!modal);\n\n    fetch(`${baseUrl}/admin/userhistory?id=${key}`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/vnd.github.cloak-preview\",\n      }),\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        console.log(response);\n        setHistory(response.result);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  const columns = [\n    {\n      dataField: \"\",\n      text: \"S.No\",\n      formatter: (cellContent, row, rowIndex) => {\n        return rowIndex + 1;\n      },\n      headerStyle: () => {\n        return { fontSize: \"12px\", width: \"50px\" };\n      },\n    },\n    {\n      dataField: \"post_name\",\n      text: \"TL post name\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n    },\n\n    {\n      dataField: \"email\",\n      text: \"TL post email\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n    },\n    {\n      dataField: \"name\",\n      text: \"Name of TL\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n    },\n    {\n      dataField: \"personal_email\",\n      text: \"Email\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n    },\n    {\n      dataField: \"phone\",\n      text: \"Mobile No\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n    },\n    {\n      dataField: \"parent_id\",\n      text: \"Category\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n      formatter: function nameFormatter(cell, row) {\n        var digit2 = [];\n        digit2 = row.allpcat_id.split(\",\")\n        console.log(\"digit2\", digit2)\n        console.log(digit2.includes(\"Indirect\"))\n        return (\n          <>\n\n            {\n              digit2.map((e) => {\n                return (\n                  <>\n                    <p className={e.includes(\"Indirect\") === true ? \"dirCla\" : \"indirCla\"}> {e + \",\"}</p>\n                  </>\n                )\n              })\n            }\n          </>\n        )\n      }\n    },\n    {\n      dataField: \"allcat_id\",\n      text: \"Sub Category\",\n      sort: true,\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n      formatter: function nameFormatter(cell, row) {\n        var digit = [];\n        //  console.log(JSON.parse(row.allcat_id))\n         digit = JSON.parse(row.allcat_id);\n\n// digit = row.allcat_id;\n        return (\n          <>\n            <p style={{ \"color\": \"blue\", \"diplay\": \"block\" }}>{digit.direct + \",\"} </p>\n            <p style={{ \"color\": \"green\", \"display\": \"block\" }}>{digit.indirect + \",\"}</p>\n          </>\n\n        )\n      }\n    },\n\n    {\n      dataField: \"\",\n      text: \"Action\",\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n      formatter: function (cell, row) {\n        return (\n          <>\n            <Link to={`/admin/edittl/${row.id}`}>\n              <i\n                className=\"fa fa-edit\"\n                style={{\n                  fontSize: 18,\n                  cursor: \"pointer\",\n                  marginLeft: \"8px\",\n                }}\n              ></i>\n            </Link>\n            <i\n              className=\"fa fa-trash\"\n              style={{ fontSize: 20, cursor: \"pointer\", marginLeft: \"8px\" }}\n              onClick={() => del(row.id)}\n            ></i>\n          </>\n        );\n\n      },\n\n    },\n    {\n      text: \"History\",\n      dataField: \"\",\n      headerStyle: () => {\n        return { fontSize: \"12px\" };\n      },\n      formatter: function (cell, row) {\n        return (\n          <>\n            <button\n              type=\"button\"\n              class=\"btn btn-info btn-sm\"\n              onClick={() => toggle(row.id)}\n            >\n              History\n            </button>\n          </>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    getTeamLeader();\n\n  }, []);\n\n  const getTeamLeader = () => {\n    axios.get(`${baseUrl}/tl/getTeamLeader`).then((res) => {\n      console.log(\"Log\", res.data.result)\n      var dd = []\n      if (res.data.code === 1) {\n        pp.push(res.data.result)\n        setData((res.data.result));\n        setTlCount(res.data.result.length);\n      }\n    });\n  };\n\n\n  //check\n  const del = (id) => {\n    console.log(\"del\", id);\n\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"It will permanently deleted !\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.value) {\n        deleteCliente(id);\n      }\n    });\n  };\n\n  // delete data\n  const deleteCliente = (id) => {\n    axios\n      .get(`${baseUrl}/tl/deleteTeamLeader?id=${id}`)\n      .then(function (response) {\n        console.log(\"delete-\", response);\n        if (response.data.code === 1) {\n          Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n          getTeamLeader();\n        } else {\n          Swal.fire(\"Oops...\", \"Errorr \", \"error\");\n        }\n\n      })\n      .catch((error) => {\n        console.log(\"erroror - \", error);\n      });\n  };\n\n\n\n  return (\n\n    <Layout adminDashboard=\"adminDashboard\" adminUserId={userid}>\n      {console.log(\"Layout\")}\n      <Card>\n        <CardHeader>\n          <Row>\n            <Col md=\"10\">\n              <CardTitle tag=\"h4\">Team Leaders ({tlCount})</CardTitle>\n            </Col>\n            <Col md=\"2\">\n              <Link to={\"/admin/addnewtl\"} className=\"btn btn-primary\">\n                Add New\n              </Link>\n            </Col>\n          </Row>\n        </CardHeader>\n        <CardBody>\n          <BootstrapTable\n            bootstrap4\n            keyField=\"id\"\n            data={data}\n\n            columns={columns}\n            rowIndex\n          />\n        </CardBody>\n      </Card>\n      <History history={history} toggle={toggle} modal={modal} />\n    </Layout>\n  );\n}\n\nexport default TeamLeaderTab"]},"metadata":{},"sourceType":"module"}
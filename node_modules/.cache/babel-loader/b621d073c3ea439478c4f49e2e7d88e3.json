{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/views/ProposalView/ProposalView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout/Layout\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Table } from \"reactstrap\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport TermsConditions from \"./TermsConditions\";\nimport CommonServices from \"../../common/common\";\nimport Alerts from \"../../common/Alerts\";\nimport classNames from \"classnames\";\nimport Swal from \"sweetalert2\";\nimport Loader from \"../../components/Loader/Loader\";\n\nfunction ProposalView(props) {\n  _s();\n\n  const {\n    handleSubmit,\n    register\n  } = useForm();\n  const [loading, setLoading] = useState(false);\n  const userId = window.localStorage.getItem(\"userid\");\n  const [queryStatus, setQueryStatus] = useState(null);\n  const [custcheckError, setCheckerror] = useState(null);\n  const [valueCheckBox, setValueCheckBox] = useState(false);\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    proposal_date: \"\",\n    name: \"\",\n    description: \"\",\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\"\n  });\n  const {\n    amount,\n    proposal_date,\n    name,\n    description,\n    amount_type,\n    amount_fixed,\n    amount_hourly,\n    payment_terms,\n    no_of_installment,\n    installment_amount,\n    due_date\n  } = diaplayProposal;\n  useEffect(() => {\n    getProposalDetails();\n  }, []);\n\n  const getProposalDetails = () => {\n    axios.get(`${baseUrl}/customers/getQueryDetails?id=${id}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        console.log(res.data.result[0].query_status);\n\n        if (res.data.result[0].query_status) {\n          setQueryStatus(res.data.result[0].query_status);\n        }\n\n        if (res.data.proposal_queries.length > 0) {\n          setDisplayProposal({\n            accepted_amount: res.data.proposal_queries[0].accepted_amount,\n            payment_received: res.data.proposal_queries[0].paid_amount,\n            amount: res.data.proposal_queries[0].amount,\n            proposal_date: res.data.proposal_queries[0].created,\n            name: res.data.proposal_queries[0].tlname,\n            description: res.data.proposal_queries[0].description,\n            amount_type: res.data.proposal_queries[0].amount_type,\n            amount_fixed: res.data.proposal_queries[0].amount_fixed,\n            amount_hourly: res.data.proposal_queries[0].amount_hourly,\n            payment_terms: res.data.proposal_queries[0].payment_terms,\n            no_of_installment: res.data.proposal_queries[0].no_of_installment,\n            installment_amount: res.data.proposal_queries[0].installment_amount,\n            due_date: res.data.proposal_queries[0].due_date\n          });\n        }\n      }\n    });\n  };\n\n  const [addPaymentModal, setPaymentModal] = useState(false);\n\n  const readTerms = () => {\n    console.log(\"key\");\n    setPaymentModal(!addPaymentModal);\n  };\n\n  const updateCheckbox = ({\n    checked\n  }) => {\n    setValueCheckBox(checked);\n    setPaymentModal(checked);\n    setCheckerror(\"\");\n  };\n\n  const onSubmit = value => {\n    console.log(\"value :\", value);\n\n    if (valueCheckBox === false) {\n      console.log(\"catch\");\n      setCheckerror(\"Please , You have to select\");\n    } else {\n      setLoading(true);\n      let formData = new FormData();\n      formData.append(\"id\", id);\n      formData.append(\"status\", 5);\n      formData.append(\"terms_condition\", Number(value.p_terms_condition));\n      axios({\n        method: \"POST\",\n        url: `${baseUrl}/customers/ProposalAccept`,\n        data: formData\n      }).then(function (response) {\n        console.log(\"res-\", response);\n\n        if (response.data.code === 1) {\n          setLoading(false);\n          var variable = \"Proposal accepted successfully.\";\n          Alerts.SuccessNormal(variable);\n          history.push({\n            pathname: `/customer/proposal`,\n            index: 0\n          });\n        }\n\n        if (response.data.code === 0) {\n          setLoading(false);\n        }\n      }).catch(error => {\n        console.log(\"erroror - \", error);\n      });\n    }\n  };\n\n  const installAmount = data => {\n    var item = data.split(',');\n    console.log(\"item\", item);\n    const dataItem = item.map((p, i) => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: CommonServices.removeTime(p)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false));\n    return dataItem;\n  }; //rejected\n\n\n  const rejected = id => {\n    console.log(\"del\", id);\n\n    if (valueCheckBox === false) {\n      console.log(\"catch\");\n      setCheckerror(\"Please , You have to select\");\n    } else {\n      Swal.fire({\n        title: \"Are you sure to reject proposal?\",\n        // text: \"Want to reject proposal ?\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, rejected it!\"\n      }).then(result => {\n        if (result.value) {\n          deleteCliente(id);\n        }\n      });\n    }\n  }; // delete data\n\n\n  const deleteCliente = key => {\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"id\", key);\n    formData.append(\"status\", 6);\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/customers/ProposalAccept`,\n      data: formData\n    }).then(function (response) {\n      console.log(\"res-\", response);\n\n      if (response.data.code === 1) {\n        setLoading(false);\n        Swal.fire(\"Rejected!\", \"Proposal rejected successfully.\", \"success\");\n        history.push({\n          pathname: `/customer/proposal`,\n          index: 0\n        });\n      } else {\n        setLoading(false);\n        Swal.fire(\"Oops...\", \"Errorr \", \"error\");\n      }\n    }).catch(error => {\n      console.log(\"erroror - \", error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    custDashboard: \"custDashboard\",\n    custUserId: userId,\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-success\",\n              onClick: () => history.goBack(),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-arrow-left mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), \"Go Back\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: \"20px\"\n              },\n              children: \"Proposal Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            style: {\n              display: \"flex\",\n              justifyContent: \"flex-end\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table table-bordered\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Name of Team Leader\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Date of Allocation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: CommonServices.removeTime(proposal_date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Proposed Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Scope of Work\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Amount Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: CommonServices.capitalizeFirstLetter(amount_type)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: amount_type == \"fixed\" ? amount : amount_type == \"hourly\" ? amount_hourly : amount_type == \"mixed\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Fixed : \", amount]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"Hourly : \", amount_hourly]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 31\n                    }, this) : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Payment Terms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), payment_terms == \"lumpsum\" ? /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Payment Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Due Dates\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: CommonServices.capitalizeFirstLetter(payment_terms)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: CommonServices.removeTime(due_date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this) : payment_terms == \"installment\" ? /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Payment Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"No of Installments\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Installment Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Due Dates\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: payment_terms\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: no_of_installment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: installAmount(installment_amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: installAmount(due_date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 23\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"Proposal Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [queryStatus == \"4\" && \"Inprogress\", queryStatus == \"6\" && \"Declined\", (queryStatus == \"5\" || queryStatus > 6) && \"Accepted\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"terms_condition\",\n                  className: \"form-check-input\",\n                  type: \"checkbox\",\n                  name: \"p_terms_condition\",\n                  ref: register,\n                  onChange: e => updateCheckbox(e.target)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"terms_condition\",\n                  className: \"form-check-label\",\n                  title: \"Read\",\n                  style: {\n                    cursor: \"pointer\"\n                  },\n                  children: \"Engagement Letter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"declined\",\n                  children: custcheckError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: valueCheckBox ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-primary\",\n                      children: \"Accept\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-danger ml-2\",\n                      onClick: () => rejected(id),\n                      children: \"Reject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-primary\",\n                      disabled: true,\n                      children: \"Accept\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-danger ml-2\",\n                      disabled: true,\n                      children: \"Reject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TermsConditions, {\n        readTerms: readTerms,\n        addPaymentModal: addPaymentModal,\n        id: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProposalView, \"eXPGLSO4MzFFvo9SD75Qq0oZVv4=\", false, function () {\n  return [useForm, useParams, useHistory];\n});\n\n_c = ProposalView;\nexport default ProposalView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProposalView\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/views/ProposalView/ProposalView.js"],"names":["React","useState","useEffect","Layout","axios","baseUrl","useAlert","Card","CardHeader","CardBody","CardTitle","Row","Col","Table","useParams","useHistory","Link","useForm","TermsConditions","CommonServices","Alerts","classNames","Swal","Loader","ProposalView","props","handleSubmit","register","loading","setLoading","userId","window","localStorage","getItem","queryStatus","setQueryStatus","custcheckError","setCheckerror","valueCheckBox","setValueCheckBox","id","history","diaplayProposal","setDisplayProposal","amount","proposal_date","name","description","amount_type","amount_fixed","amount_hourly","payment_terms","no_of_installment","installment_amount","due_date","getProposalDetails","get","then","res","console","log","data","code","result","query_status","proposal_queries","length","accepted_amount","payment_received","paid_amount","created","tlname","addPaymentModal","setPaymentModal","readTerms","updateCheckbox","checked","onSubmit","value","formData","FormData","append","Number","p_terms_condition","method","url","response","variable","SuccessNormal","push","pathname","index","catch","error","installAmount","item","split","dataItem","map","p","i","removeTime","rejected","fire","title","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","deleteCliente","key","goBack","display","justifyContent","fontSize","capitalizeFirstLetter","e","target","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout/Layout\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport { useAlert } from \"react-alert\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Table,\n} from \"reactstrap\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport TermsConditions from \"./TermsConditions\";\nimport CommonServices from \"../../common/common\";\nimport Alerts from \"../../common/Alerts\";\nimport classNames from \"classnames\";\nimport Swal from \"sweetalert2\";\nimport Loader from \"../../components/Loader/Loader\";\n\n\n\nfunction ProposalView(props) {\n  const { handleSubmit, register } = useForm();\n\n  const [loading, setLoading] = useState(false);\n\n  const userId = window.localStorage.getItem(\"userid\");\n  const [queryStatus, setQueryStatus] = useState(null);\n  const [custcheckError, setCheckerror] = useState(null);\n  const [valueCheckBox, setValueCheckBox] = useState(false);\n\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  const [diaplayProposal, setDisplayProposal] = useState({\n    amount: \"\",\n    proposal_date: \"\",\n    name: \"\",\n    description: \"\",\n\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\",\n  });\n\n  const { amount, proposal_date,\n    name, description,\n    amount_type, amount_fixed, amount_hourly,\n    payment_terms,\n    no_of_installment,\n    installment_amount,\n    due_date,\n  } = diaplayProposal\n\n\n  useEffect(() => {\n    getProposalDetails();\n  }, []);\n\n  const getProposalDetails = () => {\n    axios\n      .get(\n        `${baseUrl}/customers/getQueryDetails?id=${id}`\n      )\n      .then((res) => {\n        console.log(res);\n        if (res.data.code === 1) {\n          console.log(res.data.result[0].query_status);\n\n          if (res.data.result[0].query_status) {\n            setQueryStatus(res.data.result[0].query_status);\n          }\n          if (res.data.proposal_queries.length > 0) {\n            setDisplayProposal({\n              accepted_amount: res.data.proposal_queries[0].accepted_amount,\n              payment_received: res.data.proposal_queries[0].paid_amount,\n              amount: res.data.proposal_queries[0].amount,\n              proposal_date: res.data.proposal_queries[0].created,\n              name: res.data.proposal_queries[0].tlname,\n              description: res.data.proposal_queries[0].description,\n              amount_type: res.data.proposal_queries[0].amount_type,\n              amount_fixed: res.data.proposal_queries[0].amount_fixed,\n              amount_hourly: res.data.proposal_queries[0].amount_hourly,\n\n              payment_terms: res.data.proposal_queries[0].payment_terms,\n              no_of_installment: res.data.proposal_queries[0].no_of_installment,\n              installment_amount: res.data.proposal_queries[0].installment_amount,\n              due_date: res.data.proposal_queries[0].due_date,\n            });\n          }\n\n        }\n      });\n  };\n\n  const [addPaymentModal, setPaymentModal] = useState(false);\n  const readTerms = () => {\n    console.log(\"key\");\n    setPaymentModal(!addPaymentModal);\n  };\n\n\n  const updateCheckbox = ({ checked }) => {\n    setValueCheckBox(checked)\n    setPaymentModal(checked);\n    setCheckerror(\"\")\n  }\n\n\n  const onSubmit = (value) => {\n    console.log(\"value :\", value);\n\n    if (valueCheckBox === false) {\n      console.log(\"catch\")\n      setCheckerror(\"Please , You have to select\")\n    }\n    else {\n      setLoading(true)\n      let formData = new FormData();\n      formData.append(\"id\", id);\n      formData.append(\"status\", 5);\n      formData.append(\"terms_condition\", Number(value.p_terms_condition));\n\n      axios({\n        method: \"POST\",\n        url: `${baseUrl}/customers/ProposalAccept`,\n        data: formData,\n      })\n        .then(function (response) {\n          console.log(\"res-\", response);\n          if (response.data.code === 1) {\n            setLoading(false)\n            var variable = \"Proposal accepted successfully.\"\n            Alerts.SuccessNormal(variable)\n            history.push({\n              pathname: `/customer/proposal`,\n              index: 0,\n            });\n          } if (response.data.code === 0) {\n            setLoading(false)\n          }\n\n        })\n        .catch((error) => {\n          console.log(\"erroror - \", error);\n        });\n    }\n\n  };\n\n\n  const installAmount = (data) => {\n    var item = data.split(',')\n    console.log(\"item\", item);\n\n    const dataItem = item.map((p, i) =>\n    (\n      <>\n        <p>{CommonServices.removeTime(p)}</p>\n      </>\n    ))\n    return dataItem;\n  }\n\n\n  //rejected\n  const rejected = (id) => {\n    console.log(\"del\", id);\n    if (valueCheckBox === false) {\n      console.log(\"catch\")\n      setCheckerror(\"Please , You have to select\")\n    } else {\n      Swal.fire({\n        title: \"Are you sure to reject proposal?\",\n        // text: \"Want to reject proposal ?\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, rejected it!\",\n      }).then((result) => {\n        if (result.value) {\n          deleteCliente(id);\n        }\n      });\n    }\n  };\n\n\n  // delete data\n  const deleteCliente = (key) => {\n    setLoading(true)\n    let formData = new FormData();\n    formData.append(\"id\", key);\n    formData.append(\"status\", 6);\n\n    axios({\n      method: \"POST\",\n      url: `${baseUrl}/customers/ProposalAccept`,\n      data: formData,\n    })\n      .then(function (response) {\n        console.log(\"res-\", response);\n        if (response.data.code === 1) {\n          setLoading(false)\n          Swal.fire(\"Rejected!\", \"Proposal rejected successfully.\", \"success\");\n          history.push({\n            pathname: `/customer/proposal`,\n            index: 0,\n          });\n        } else {\n          setLoading(false)\n          Swal.fire(\"Oops...\", \"Errorr \", \"error\");\n        }\n      })\n      .catch((error) => {\n        console.log(\"erroror - \", error);\n      });\n  };\n\n\n  return (\n    <Layout custDashboard=\"custDashboard\" custUserId={userId}>\n      <Card>\n        <CardHeader>\n          <Row>\n            <Col md=\"4\">\n              <button class=\"btn btn-success\" onClick={() => history.goBack()}>\n                <i class=\"fas fa-arrow-left mr-2\"></i>\n                Go Back\n              </button>\n            </Col>\n            <Col md=\"4\" style={{ display: \"flex\", justifyContent: \"center\" }}>\n              <p style={{ fontSize: \"20px\" }}>Proposal Details</p>\n            </Col>\n            <Col\n              md=\"4\"\n              style={{ display: \"flex\", justifyContent: \"flex-end\" }}\n            ></Col>\n          </Row>\n        </CardHeader>\n        <CardBody>\n          <table class=\"table table-bordered\">\n            <tbody>\n              <tr>\n                <th scope=\"row\">Name of Team Leader</th>\n                <td>{name}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\">Date of Allocation</th>\n                <td>{CommonServices.removeTime(proposal_date)}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\">Proposed Amount</th>\n                <td>{amount}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\">Scope of Work</th>\n                <td>{description}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\">Amount</th>\n                <td>\n                  <tr>\n                    <th>Amount Type</th>\n                    <th>Price</th>\n                  </tr>\n                  <tr>\n                    <td>{CommonServices.capitalizeFirstLetter(amount_type)}</td>\n                    <td>\n                      {\n                        amount_type == \"fixed\" ?\n                          amount\n                          :\n                          amount_type == \"hourly\" ?\n                            amount_hourly\n                            :\n                            amount_type == \"mixed\" ?\n                              <div>\n                                <p>Fixed : {amount}</p>\n                                <p>Hourly : {amount_hourly}</p>\n                              </div>\n                              :\n                              \"\"\n                      }\n                    </td>\n                  </tr>\n                </td>\n              </tr>\n\n              <tr>\n                <th scope=\"row\">Payment Terms</th>\n                {\n                  payment_terms == \"lumpsum\" ?\n                    <td>\n                      <tr>\n                        <th>Payment Type</th>\n                        <th>Due Dates</th>\n                      </tr>\n                      <tr>\n                        <td>{CommonServices.capitalizeFirstLetter(payment_terms)}</td>\n                        <td>\n                          {CommonServices.removeTime(due_date)}\n                        </td>\n                      </tr>\n                    </td>\n                    :\n                    payment_terms == \"installment\" ?\n                      <td>\n                        <tr>\n                          <th>Payment Type</th>\n                          <th>No of Installments</th>\n                          <th>Installment Amount</th>\n                          <th>Due Dates</th>\n                        </tr>\n                        <tr>\n                          <td>{payment_terms}</td>\n                          <td>{no_of_installment}</td>\n                          <td>{installAmount(installment_amount)}</td>\n                          <td>{installAmount(due_date)}</td>\n                        </tr>\n                      </td>\n                      :\n                      \"\"\n                }\n\n\n              </tr>\n              <tr>\n                <th scope=\"row\">Proposal Status</th>\n                <td>\n                  {queryStatus == \"4\" && \"Inprogress\"}\n                  {queryStatus == \"6\" && \"Declined\"}\n                  {(queryStatus == \"5\" || queryStatus > 6) && \"Accepted\"}\n                </td>\n              </tr>\n            </tbody>\n\n          </table>\n\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"col-md-6\">\n              <div className=\"mb-3\">\n                <div className=\"form-check\">\n                  <input\n                    id=\"terms_condition\"\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    name=\"p_terms_condition\"\n                    ref={register}\n                    onChange={(e) => updateCheckbox(e.target)}\n                  />\n                  <label\n                    htmlFor=\"terms_condition\"\n                    className=\"form-check-label\"\n                    title=\"Read\"\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    Engagement Letter\n                  </label>\n                  <p className=\"declined\">{custcheckError}</p>\n                </div>\n                <br />\n\n                {\n                  loading ?\n                    <Loader />\n                    :\n                    <>\n                      <div className=\"form-check\">\n                        {\n                          valueCheckBox ?\n                            <div>\n                              <button type=\"submit\" className=\"btn btn-primary\">\n                                Accept\n                              </button>\n                              <button type=\"button\" className=\"btn btn-danger ml-2\" onClick={() => rejected(id)}>\n                                Reject\n                              </button>\n                            </div>\n                            :\n                            <div>\n                              <button type=\"submit\" className=\"btn btn-primary\" disabled>\n                                Accept\n                              </button>\n                              <button type=\"button\" className=\"btn btn-danger ml-2\" disabled>\n                                Reject\n                              </button>\n                            </div>\n                        }\n                      </div>\n                    </>\n                }\n              </div>\n            </div>\n\n          </form>\n\n\n        </CardBody>\n\n        <TermsConditions\n          readTerms={readTerms}\n          addPaymentModal={addPaymentModal}\n          id={id}\n        />\n      </Card>\n    </Layout>\n  );\n}\n\nexport default ProposalView;\n"]},"metadata":{},"sourceType":"module"}
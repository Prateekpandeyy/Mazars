{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/pages/TL/AssignmentTab/DeliveryFinalTab.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport \"antd/dist/antd.css\";\nimport { Select } from \"antd\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\n\nfunction AssignmentTab() {\n  _s();\n\n  const history = useHistory();\n  const userid = window.localStorage.getItem(\"tlkey\");\n  const {\n    handleSubmit,\n    register,\n    errors,\n    reset\n  } = useForm();\n  const {\n    Option,\n    OptGroup\n  } = Select;\n  const [count, setCount] = useState(\"\");\n  const [assignment, setAssignment] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [finalId, setFinalId] = useState(\"\");\n  const [records, setRecords] = useState([]);\n  const [selectedData, setSelectedData] = useState([]);\n  const [status, setStatus] = useState([]);\n  const [tax2, setTax2] = useState([]);\n  const [store2, setStore2] = useState([]);\n  const [hide, setHide] = useState();\n  var current_date = new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth() + 1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2);\n  console.log(\"current_date :\", current_date);\n  const [item] = useState(current_date);\n  const [assignNo, setAssignNo] = useState('');\n  const [ViewDiscussion, setViewDiscussion] = useState(false);\n\n  const ViewDiscussionToggel = key => {\n    setViewDiscussion(!ViewDiscussion);\n    setAssignNo(key);\n  };\n\n  useEffect(() => {\n    getAssignmentList();\n  }, []);\n\n  const getAssignmentList = () => {\n    axios.get(`${baseUrl}/tl/getAssignments?tl_id=${JSON.parse(userid)}&assignment_status=Delivery_of_report&stages_status=1`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setAssignment(res.data.result);\n        setCount(res.data.result.length);\n        setRecords(res.data.result.length);\n      }\n    });\n  }; //get category\n\n\n  useEffect(() => {\n    const getSubCategory = () => {\n      axios.get(`${baseUrl}/customers/getCategory?pid=${selectedData}`).then(res => {\n        console.log(res);\n\n        if (res.data.code === 1) {\n          setTax2(res.data.result);\n        }\n      });\n    };\n\n    getSubCategory();\n  }, [selectedData]); //handleCategory\n\n  const handleCategory = value => {\n    console.log(`selected ${value}`);\n    setSelectedData(value);\n    setStore2([]);\n  }; //handleSubCategory\n\n\n  const handleSubCategory = value => {\n    console.log(`selected ${value}`);\n    setStore2(value);\n  }; //reset category\n\n\n  const resetCategory = () => {\n    console.log(\"resetCategory ..\");\n    setSelectedData([]);\n    setStore2([]);\n    getAssignmentList();\n  }; //reset date\n\n\n  const resetData = () => {\n    console.log(\"resetData ..\");\n    reset();\n    setStatus([]);\n    setSelectedData([]);\n    setStore2([]);\n    getAssignmentList();\n  }; //assingmentStatus\n\n\n  const assingmentStatus = value => {\n    console.log(`selected ${value}`);\n    setStatus(value);\n  }; //columns\n\n\n  const columns = [{\n    text: \"S.No\",\n    dataField: \"\",\n    formatter: (cellContent, row, rowIndex) => {\n      return rowIndex + 1;\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\",\n        width: \"50px\"\n      };\n    }\n  }, {\n    text: \"Date\",\n    dataField: \"date_of_query\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.date_of_query);\n      var oldDate = row.date_of_query;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Query No\",\n    dataField: \"assign_no\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      console.log(row);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: `/teamleader/queries/${row.q_id}`,\n            routes: \"assignment\"\n          },\n          children: row.assign_no\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    text: \"Category\",\n    dataField: \"parent_id\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    text: \"Sub Category\",\n    dataField: \"cat_name\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    }\n  }, {\n    dataField: \"status\",\n    text: \"Status\",\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\",\n        width: \"200px\"\n      };\n    },\n    formatter: function (cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"Client Discussion :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 33\n            }, this), row.client_discussion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"Draft report :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this), row.draft_report]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"Final Discussion :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 33\n            }, this), row.final_discussion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"Delivery of Final Report :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 33\n            }, this), row.delivery_report]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: \"bold\"\n              },\n              children: \"Complete :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this), row.other_stage]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    text: \"Expected date of delivery\",\n    dataField: \"Exp_Delivery_Date\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.Exp_Delivery_Date);\n      var oldDate = row.Exp_Delivery_Date;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Actual date of delivery\",\n    dataField: \"final_date\",\n    sort: true,\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.final_date);\n      var oldDate = row.final_date;\n\n      if (oldDate == null || oldDate == \"0000-00-00 00:00:00\") {\n        return null;\n      }\n\n      return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Action\",\n    headerStyle: () => {\n      return {\n        fontSize: \"12px\"\n      };\n    },\n    formatter: function (cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            width: \"60px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"View Discussion Message\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-comments-o\",\n              style: {\n                fontSize: 16,\n                cursor: \"pointer\",\n                color: \"orange\"\n              },\n              onClick: () => ViewDiscussionToggel(row.assign_no)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"Send Message\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/teamleader/chatting/${row.q_id}`,\n                obj: {\n                  message_type: \"3\",\n                  query_No: row.assign_no,\n                  query_id: row.q_id,\n                  routes: `/teamleader/assignment`\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-comments-o\",\n                style: {\n                  fontSize: 16,\n                  cursor: \"pointer\",\n                  marginLeft: \"8px\",\n                  color: \"blue\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 25\n        }, this)\n      }, void 0, false);\n    }\n  }];\n\n  const onSubmit = data => {\n    console.log(\"data :\", data);\n    console.log(\"selectedData :\", selectedData);\n    axios.get(`${baseUrl}/tl/getAssignments?tl_id=${JSON.parse(userid)}&cat_id=${store2}&from=${data.p_dateFrom}&to=${data.p_dateTo}&assignment_status=${status}&stages_status=${data.p_status}&pcat_id=${selectedData}`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        if (res.data.result) {\n          setAssignment(res.data.result);\n          setRecords(res.data.result.length);\n        }\n      }\n    });\n  };\n\n  const Reset = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary mx-sm-1 mb-2\",\n        onClick: () => resetData(),\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mb-2\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                style: {\n                  width: 130\n                },\n                placeholder: \"Select Category\",\n                defaultValue: [],\n                onChange: handleCategory,\n                value: selectedData,\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"1\",\n                  label: \"Compilance\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"demo-option-label-item\",\n                    children: \"Direct Tax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"2\",\n                  label: \"Compilance\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"demo-option-label-item\",\n                    children: \"Indirect Tax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mx-sm-1  mb-2\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                mode: \"multiple\",\n                style: {\n                  width: 250\n                },\n                placeholder: \"Select Sub Category\",\n                defaultValue: [],\n                onChange: handleSubCategory,\n                value: store2,\n                allowClear: true,\n                children: tax2.map((p, index) => /*#__PURE__*/_jsxDEV(Option, {\n                  value: p.id,\n                  children: p.details\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"btn btn-primary mb-2 ml-3\",\n                onClick: resetCategory,\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mx-sm-1  mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-select form-control\",\n                children: \"From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mx-sm-1  mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"p_dateFrom\",\n                className: \"form-select form-control\",\n                ref: register,\n                max: item\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mx-sm-1  mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-select form-control\",\n                children: \"To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mx-sm-1  mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"p_dateTo\",\n                className: \"form-select form-control\",\n                ref: register,\n                defaultValue: item,\n                max: item\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group mx-sm-1  mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-select form-control\",\n                children: [\"Total Records : \", records]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary mx-sm-1 mb-2\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Reset, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(BootstrapTable, {\n          bootstrap4: true,\n          keyField: \"id\",\n          data: assignment,\n          columns: columns,\n          rowIndex: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DiscardReport, {\n          ViewDiscussionToggel: ViewDiscussionToggel,\n          ViewDiscussion: ViewDiscussion,\n          report: assignNo,\n          getData: getAssignmentList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(AssignmentTab, \"cOZaUuIUNXZaQoqTzKn0Wz8w+ZU=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = AssignmentTab;\nexport default AssignmentTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssignmentTab\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/pages/TL/AssignmentTab/DeliveryFinalTab.js"],"names":["React","useState","useEffect","axios","baseUrl","Card","CardHeader","CardBody","Link","useHistory","useForm","Select","BootstrapTable","DiscardReport","AssignmentTab","history","userid","window","localStorage","getItem","handleSubmit","register","errors","reset","Option","OptGroup","count","setCount","assignment","setAssignment","id","setId","finalId","setFinalId","records","setRecords","selectedData","setSelectedData","status","setStatus","tax2","setTax2","store2","setStore2","hide","setHide","current_date","Date","getFullYear","getMonth","slice","getDate","console","log","item","assignNo","setAssignNo","ViewDiscussion","setViewDiscussion","ViewDiscussionToggel","key","getAssignmentList","get","JSON","parse","then","res","data","code","result","length","getSubCategory","handleCategory","value","handleSubCategory","resetCategory","resetData","assingmentStatus","columns","text","dataField","formatter","cellContent","row","rowIndex","headerStyle","fontSize","width","sort","dateFormat","cell","date_of_query","oldDate","toString","split","reverse","join","nameFormatter","pathname","q_id","routes","assign_no","style","fontWeight","client_discussion","draft_report","final_discussion","delivery_report","other_stage","Exp_Delivery_Date","final_date","display","justifyContent","cursor","color","obj","message_type","query_No","query_id","marginLeft","onSubmit","p_dateFrom","p_dateTo","p_status","Reset","map","p","index","details"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../config/config\";\nimport {\n    Card,\n    CardHeader,\n    CardBody,\n} from \"reactstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport \"antd/dist/antd.css\";\nimport { Select } from \"antd\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\n\n\nfunction AssignmentTab() {\n\n    const history = useHistory();\n    const userid = window.localStorage.getItem(\"tlkey\");\n\n    const { handleSubmit, register, errors, reset } = useForm();\n    const { Option, OptGroup } = Select;\n    const [count, setCount] = useState(\"\");\n    const [assignment, setAssignment] = useState([]);\n    const [id, setId] = useState(\"\");\n    const [finalId, setFinalId] = useState(\"\");\n\n    const [records, setRecords] = useState([]);\n    const [selectedData, setSelectedData] = useState([]);\n    const [status, setStatus] = useState([]);\n    const [tax2, setTax2] = useState([]);\n    const [store2, setStore2] = useState([]);\n    const [hide, setHide] = useState();\n\n    var current_date = new Date().getFullYear() + '-' + (\"0\" + (new Date().getMonth() + 1)).slice(-2) + '-' + (\"0\" + new Date().getDate()).slice(-2)\n    console.log(\"current_date :\", current_date);\n    const [item] = useState(current_date);\n\n    const [assignNo, setAssignNo] = useState('');\n    const [ViewDiscussion, setViewDiscussion] = useState(false);\n    const ViewDiscussionToggel = (key) => {\n        setViewDiscussion(!ViewDiscussion);\n        setAssignNo(key)\n    }\n    useEffect(() => {\n        getAssignmentList();\n    }, []);\n\n    const getAssignmentList = () => {\n        axios\n            .get(`${baseUrl}/tl/getAssignments?tl_id=${JSON.parse(userid)}&assignment_status=Delivery_of_report&stages_status=1`)\n            .then((res) => {\n                console.log(res);\n                if (res.data.code === 1) {\n                    setAssignment(res.data.result);\n                    setCount(res.data.result.length);\n                    setRecords(res.data.result.length);\n                }\n            });\n    };\n\n    //get category\n    useEffect(() => {\n        const getSubCategory = () => {\n            axios\n                .get(`${baseUrl}/customers/getCategory?pid=${selectedData}`)\n                .then((res) => {\n                    console.log(res);\n                    if (res.data.code === 1) {\n                        setTax2(res.data.result);\n                    }\n                });\n        };\n        getSubCategory();\n    }, [selectedData]);\n\n    //handleCategory\n    const handleCategory = (value) => {\n        console.log(`selected ${value}`);\n        setSelectedData(value);\n        setStore2([]);\n    };\n\n    //handleSubCategory\n    const handleSubCategory = (value) => {\n        console.log(`selected ${value}`);\n        setStore2(value);\n    };\n\n    //reset category\n    const resetCategory = () => {\n        console.log(\"resetCategory ..\");\n        setSelectedData([]);\n        setStore2([]);\n        getAssignmentList();\n    };\n\n    //reset date\n    const resetData = () => {\n        console.log(\"resetData ..\");\n        reset();\n        setStatus([]);\n        setSelectedData([]);\n        setStore2([]);\n        getAssignmentList();\n    };\n\n    //assingmentStatus\n    const assingmentStatus = (value) => {\n        console.log(`selected ${value}`);\n        setStatus(value);\n    };\n\n\n    //columns\n    const columns = [\n        {\n            text: \"S.No\",\n            dataField: \"\",\n            formatter: (cellContent, row, rowIndex) => {\n                return rowIndex + 1;\n            },\n            headerStyle: () => {\n                return { fontSize: \"12px\", width: \"50px\" };\n            },\n        },\n        {\n            text: \"Date\",\n            dataField: \"date_of_query\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function dateFormat(cell, row) {\n                console.log(\"dt\", row.date_of_query);\n                var oldDate = row.date_of_query;\n                if (oldDate == null) {\n                    return null;\n                }\n                return oldDate.toString().split(\"-\").reverse().join(\"-\");\n            },\n        },\n        {\n            text: \"Query No\",\n            dataField: \"assign_no\",\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function nameFormatter(cell, row) {\n                console.log(row);\n                return (\n                    <>\n                        <Link\n                            to={{\n                                pathname: `/teamleader/queries/${row.q_id}`,\n                                routes: \"assignment\",\n                            }}\n                        >\n                            {row.assign_no}\n                        </Link>\n                    </>\n                );\n            },\n        },\n        {\n            text: \"Category\",\n            dataField: \"parent_id\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n        },\n        {\n            text: \"Sub Category\",\n            dataField: \"cat_name\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n        },\n        {\n            dataField: \"status\",\n            text: \"Status\",\n            style: {\n                fontSize: \"11px\",\n            },\n            headerStyle: () => {\n                return { fontSize: \"12px\", width: \"200px\" };\n            },\n            formatter: function (cell, row) {\n                return (\n                    <>\n                        <div>\n                            <p>\n                                <span style={{ fontWeight: \"bold\" }}>Client Discussion :</span>\n                                {row.client_discussion}\n                            </p>\n                            <p>\n                                <span style={{ fontWeight: \"bold\" }}>Draft report :</span>\n                                {row.draft_report}\n                            </p>\n                            <p>\n                                <span style={{ fontWeight: \"bold\" }}>Final Discussion :</span>\n                                {row.final_discussion}\n                            </p>\n                            <p>\n                                <span style={{ fontWeight: \"bold\" }}>Delivery of Final Report :</span>\n                                {row.delivery_report}\n                            </p>\n                            <p>\n                                <span style={{ fontWeight: \"bold\" }}>Complete :</span>\n                                {row.other_stage}\n                            </p>\n                        </div>\n                    </>\n                );\n            },\n        },\n        {\n            text: \"Expected date of delivery\",\n            dataField: \"Exp_Delivery_Date\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function dateFormat(cell, row) {\n                console.log(\"dt\", row.Exp_Delivery_Date);\n                var oldDate = row.Exp_Delivery_Date;\n                if (oldDate == null) {\n                    return null;\n                }\n                return oldDate.toString().split(\"-\").reverse().join(\"-\");\n            },\n        },\n        {\n            text: \"Actual date of delivery\",\n            dataField: \"final_date\",\n            sort: true,\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function dateFormat(cell, row) {\n                console.log(\"dt\", row.final_date);\n                var oldDate = row.final_date;\n                if (oldDate == null || oldDate == \"0000-00-00 00:00:00\") {\n                    return null;\n                }\n                return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n            },\n        },\n        {\n            text: \"Action\",\n            headerStyle: () => {\n                return { fontSize: \"12px\" };\n            },\n            formatter: function (cell, row) {\n                return (\n                    <>\n                        <div\n                            style={{\n                                display: \"flex\",\n                                justifyContent: \"space-between\",\n                                width: \"60px\"\n                            }}\n                        >\n\n                            <div title=\"View Discussion Message\">\n                                <i\n                                    class=\"fa fa-comments-o\"\n                                    style={{\n                                        fontSize: 16,\n                                        cursor: \"pointer\",\n                                        color: \"orange\"\n                                    }}\n                                    onClick={() => ViewDiscussionToggel(row.assign_no)}\n                                ></i>\n                            </div>\n\n                            <div title=\"Send Message\">\n                                <Link\n                                    to={{\n                                        pathname: `/teamleader/chatting/${row.q_id}`,\n                                        obj: {\n                                            message_type: \"3\",\n                                            query_No: row.assign_no,\n                                            query_id: row.q_id,\n                                            routes: `/teamleader/assignment`\n                                        }\n                                    }}\n                                >\n                                    <i\n                                        class=\"fa fa-comments-o\"\n                                        style={{\n                                            fontSize: 16,\n                                            cursor: \"pointer\",\n                                            marginLeft: \"8px\",\n                                            color: \"blue\"\n                                        }}\n                                    ></i>\n                                </Link>\n                            </div>\n\n                        </div>\n                    </>\n                );\n            },\n        },\n    ];\n\n\n\n    const onSubmit = (data) => {\n        console.log(\"data :\", data);\n        console.log(\"selectedData :\", selectedData);\n        axios\n            .get(\n                `${baseUrl}/tl/getAssignments?tl_id=${JSON.parse(\n                    userid\n                )}&cat_id=${store2}&from=${data.p_dateFrom}&to=${data.p_dateTo\n                }&assignment_status=${status}&stages_status=${data.p_status\n                }&pcat_id=${selectedData}`\n            )\n            .then((res) => {\n                console.log(res);\n                if (res.data.code === 1) {\n                    if (res.data.result) {\n                        setAssignment(res.data.result);\n                        setRecords(res.data.result.length);\n\n                    }\n                }\n            });\n    };\n\n\n    const Reset = () => {\n        return (\n            <>\n                <button\n                    type=\"submit\"\n                    class=\"btn btn-primary mx-sm-1 mb-2\"\n                    onClick={() => resetData()}\n                >\n                    Reset\n                </button>\n            </>\n        );\n    };\n\n\n\n    return (\n        <>\n            <Card>\n                <CardHeader>\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <div class=\"form-inline\">\n                            <div class=\"form-group mb-2\">\n                                <Select\n                                    style={{ width: 130 }}\n                                    placeholder=\"Select Category\"\n                                    defaultValue={[]}\n                                    onChange={handleCategory}\n                                    value={selectedData}\n                                >\n                                    <Option value=\"1\" label=\"Compilance\">\n                                        <div className=\"demo-option-label-item\">Direct Tax</div>\n                                    </Option>\n                                    <Option value=\"2\" label=\"Compilance\">\n                                        <div className=\"demo-option-label-item\">Indirect Tax</div>\n                                    </Option>\n                                </Select>\n                            </div>\n\n                            <div class=\"form-group mx-sm-1  mb-2\">\n                                <Select\n                                    mode=\"multiple\"\n                                    style={{ width: 250 }}\n                                    placeholder=\"Select Sub Category\"\n                                    defaultValue={[]}\n                                    onChange={handleSubCategory}\n                                    value={store2}\n                                    allowClear\n                                >\n                                    {tax2.map((p, index) => (\n                                        <Option value={p.id} key={index}>\n                                            {p.details}\n                                        </Option>\n                                    ))}\n                                </Select>\n                            </div>\n                            <div>\n                                <button\n                                    type=\"submit\"\n                                    class=\"btn btn-primary mb-2 ml-3\"\n                                    onClick={resetCategory}\n                                >\n                                    X\n                                </button>\n                            </div>\n\n                            <div class=\"form-group mx-sm-1  mb-2\">\n                                <label className=\"form-select form-control\">From</label>\n                            </div>\n\n                            <div class=\"form-group mx-sm-1  mb-2\">\n                                <input\n                                    type=\"date\"\n                                    name=\"p_dateFrom\"\n                                    className=\"form-select form-control\"\n                                    ref={register}\n                                    max={item}\n                                />\n                            </div>\n\n                            <div class=\"form-group mx-sm-1  mb-2\">\n                                <label className=\"form-select form-control\">To</label>\n                            </div>\n\n                            <div class=\"form-group mx-sm-1  mb-2\">\n                                <input\n                                    type=\"date\"\n                                    name=\"p_dateTo\"\n                                    className=\"form-select form-control\"\n                                    ref={register}\n                                    defaultValue={item}\n                                    max={item}\n                                />\n                            </div>\n\n                            <div class=\"form-group mx-sm-1  mb-2\">\n                                <label className=\"form-select form-control\">Total Records : {records}</label>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary mx-sm-1 mb-2\">\n                                Search\n                            </button>\n\n                            <Reset />\n                        </div>\n                    </form>\n                </CardHeader>\n\n                <CardBody>\n                    <BootstrapTable\n                        bootstrap4\n                        keyField=\"id\"\n                        data={assignment}\n                        columns={columns}\n                        rowIndex\n                    />\n\n                    <DiscardReport\n                        ViewDiscussionToggel={ViewDiscussionToggel}\n                        ViewDiscussion={ViewDiscussion}\n                        report={assignNo}\n                        getData={getAssignmentList}\n                    />\n                </CardBody>\n            </Card>\n        </>\n    );\n}\n\nexport default AssignmentTab;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pooja/MazarsRepo/src/views/PaymentStatus/Unpaid.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport Layout from \"../../components/Layout/Layout\";\nimport { Card, CardHeader, CardBody, CardTitle, Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Button } from \"reactstrap\";\nimport { useAlert } from \"react-alert\";\nimport { Link, useParams } from \"react-router-dom\";\nimport CommonServices from \"../../common/common\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport CustomerFilter from \"../../components/Search-Filter/CustomerFilter\";\nimport Records from \"../../components/Records/Records\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\nimport PaymentIcon from '@material-ui/icons/Payment';\nimport PaymentComponent from './PaymentComponent';\n\nfunction Paid() {\n  _s();\n\n  const alert = useAlert();\n  const {\n    id\n  } = useParams();\n  const userId = window.localStorage.getItem(\"userid\");\n  const [records, setRecords] = useState([]);\n  const [count, setCount] = useState(\"\");\n  const [payment, setPayment] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [pay, setPay] = useState({\n    pay: \"\",\n    amount: \"\",\n    accepted_amount: \"\",\n    paid_amount: \"\",\n    assign_id: '',\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\"\n  });\n  const [addPaymentModal, setPaymentModal] = useState(false);\n\n  const paymentHandler = key => {\n    setPaymentModal(!addPaymentModal);\n    setPay({\n      amount: key.accepted_amount,\n      assign_id: key.assign_id,\n      accepted_amount: key.accepted_amount,\n      paid_amount: key.paid_amount,\n      amount_type: key.amount_type,\n      amount_fixed: key.amount_fixed,\n      amount_hourly: key.amount_hourly,\n      payment_terms: key.payment_terms,\n      no_of_installment: key.no_of_installment,\n      installment_amount: key.installment_amount,\n      due_date: key.due_date\n    });\n  };\n\n  const [assignNo, setAssignNo] = useState('');\n  const [ViewDiscussion, setViewDiscussion] = useState(false);\n\n  const ViewDiscussionToggel = key => {\n    setViewDiscussion(!ViewDiscussion);\n    setAssignNo(key);\n  };\n\n  useEffect(() => {\n    getPaymentStatus();\n  }, []);\n\n  const getPaymentStatus = () => {\n    axios.get(`${baseUrl}/tl/getUploadedProposals?cid=${JSON.parse(userId)}&status=1`).then(res => {\n      console.log(res);\n\n      if (res.data.code === 1) {\n        setPayment(res.data.result);\n        setCount(res.data.result.length);\n        setRecords(res.data.result.length);\n      }\n    });\n  };\n\n  const toggle = key => {\n    console.log(\"key\", key);\n    setModal(!modal);\n    fetch(`${baseUrl}/admin/getPaymentDetail?id=${key}`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/vnd.github.cloak-preview\"\n      })\n    }).then(res => res.json()).then(response => {\n      console.log(response);\n      setPay(response.payment_detail);\n    }).catch(error => console.log(error));\n  };\n\n  const columns = [{\n    dataField: \"\",\n    text: \"S.No\",\n    formatter: (row, rowIndex) => {\n      return rowIndex + 1;\n    },\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    dataField: \"query_created_date\",\n    text: \"Date\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.query_created_date);\n      var oldDate = row.query_created_date;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    dataField: \"assign_no\",\n    text: \"Query No\",\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function nameFormatter(cell, row) {\n      console.log(row);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: `/customer/my-assingment/${row.assign_id}`,\n            routes: \"paymentstatus\"\n          },\n          children: row.assign_no\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    }\n  }, {\n    dataField: \"parent_id\",\n    text: \"Category\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    dataField: \"cat_name\",\n    text: \"Sub Category\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    text: \"Date of acceptance of Proposal\",\n    dataField: \"cust_accept_date\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.cust_accept_date);\n      var oldDate = row.cust_accept_date;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Status\",\n    dataField: \"status\",\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    }\n  }, {\n    dataField: \"accepted_amount\",\n    text: \"Accepted Amount \",\n    sort: true,\n    style: {\n      fontSize: \"11px\",\n      color: \"#21a3ce\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\",\n        color: \"#21a3ce\"\n      };\n    }\n  }, {\n    text: \"Amount Paid\",\n    dataField: \"paid_amount\",\n    sort: true,\n    style: {\n      fontSize: \"11px\",\n      color: \"#064606\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\",\n        color: \"#064606\"\n      };\n    }\n  }, {\n    text: \"Amount Outstanding\",\n    dataField: \"\",\n    sort: true,\n    style: {\n      fontSize: \"11px\",\n      color: \"darkred\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\",\n        color: \"darkred\"\n      };\n    },\n    formatter: function amountOutstading(cell, row) {\n      console.log(\"dt\", row.paid_amount);\n      console.log(\"dt\", row.accepted_amount);\n      var p = row.paid_amount;\n      var a = row.accepted_amount;\n      return a - p;\n    }\n  }, {\n    text: \"Date of Payment\",\n    dataField: \"cust_paid_date\",\n    sort: true,\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\"\n      };\n    },\n    formatter: function dateFormat(cell, row) {\n      console.log(\"dt\", row.cust_paid_date);\n      var oldDate = row.cust_paid_date;\n\n      if (oldDate == null) {\n        return null;\n      }\n\n      return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n    }\n  }, {\n    text: \"Action\",\n    dataField: \"\",\n    style: {\n      fontSize: \"11px\"\n    },\n    headerStyle: () => {\n      return {\n        fontSize: \"11px\",\n        width: \"90px\"\n      };\n    },\n    formatter: function (cell, row) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: row.paid_status == \"0\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                cursor: \"pointer\"\n              },\n              title: \"Pay Amount\",\n              onClick: () => paymentHandler(row),\n              children: /*#__PURE__*/_jsxDEV(PaymentIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 21\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), row.paid_amount > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              cursor: \"pointer\"\n            },\n            title: \"Payment History\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-credit-card\",\n              style: {\n                color: \"green\",\n                fontSize: \"16px\"\n              },\n              onClick: () => toggle(row.assign_id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 39\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"Send Message\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: `/customer/chatting/${row.assign_id}`,\n                obj: {\n                  message_type: \"2\",\n                  query_No: row.assign_no,\n                  query_id: row.q_id,\n                  routes: `/customer/proposal`\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-comments-o\",\n                style: {\n                  fontSize: 16,\n                  cursor: \"pointer\",\n                  color: \"blue\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            title: \"View Discussion Message\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-comments-o\",\n              style: {\n                fontSize: 16,\n                cursor: \"pointer\",\n                color: \"orange\"\n              },\n              onClick: () => ViewDiscussionToggel(row.assign_no)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: /*#__PURE__*/_jsxDEV(CustomerFilter, {\n            setData: setPayment,\n            getData: getPaymentStatus,\n            paid: \"paid\",\n            setRecords: setRecords,\n            records: records,\n            id: userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n          children: [/*#__PURE__*/_jsxDEV(Records, {\n            records: records\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BootstrapTable, {\n            bootstrap4: true,\n            keyField: \"id\",\n            data: payment,\n            columns: columns,\n            classes: \"table-responsive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: modal,\n            fade: false,\n            toggle: toggle,\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              toggle: toggle,\n              children: \"History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"table table-bordered\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"row\",\n                      children: \"S.No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"row\",\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"row\",\n                      children: \"Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 19\n                }, this), pay.length > 0 ? pay.map((p, i) => /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: i + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: CommonServices.removeTime(p.payment_date)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: p.paid_amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 421,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this)) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                onClick: toggle,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PaymentComponent, {\n            paymentHandler: paymentHandler,\n            addPaymentModal: addPaymentModal,\n            pay: pay,\n            getPaymentStatus: getPaymentStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DiscardReport, {\n            ViewDiscussionToggel: ViewDiscussionToggel,\n            ViewDiscussion: ViewDiscussion,\n            report: assignNo,\n            getData: getPaymentStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n}\n\n_s(Paid, \"8OLPOCfVaovpUz763pk8b7fJn7k=\", false, function () {\n  return [useAlert, useParams];\n});\n\n_c = Paid;\nexport default Paid;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paid\");","map":{"version":3,"sources":["/home/pooja/MazarsRepo/src/views/PaymentStatus/Unpaid.js"],"names":["React","useState","useEffect","axios","baseUrl","Layout","Card","CardHeader","CardBody","CardTitle","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Button","useAlert","Link","useParams","CommonServices","BootstrapTable","CustomerFilter","Records","DiscardReport","PaymentIcon","PaymentComponent","Paid","alert","id","userId","window","localStorage","getItem","records","setRecords","count","setCount","payment","setPayment","modal","setModal","pay","setPay","amount","accepted_amount","paid_amount","assign_id","amount_type","amount_fixed","amount_hourly","payment_terms","no_of_installment","installment_amount","due_date","addPaymentModal","setPaymentModal","paymentHandler","key","assignNo","setAssignNo","ViewDiscussion","setViewDiscussion","ViewDiscussionToggel","getPaymentStatus","get","JSON","parse","then","res","console","log","data","code","result","length","toggle","fetch","method","headers","Headers","Accept","json","response","payment_detail","catch","error","columns","dataField","text","formatter","row","rowIndex","style","fontSize","headerStyle","sort","dateFormat","cell","query_created_date","oldDate","slice","toString","split","reverse","join","nameFormatter","pathname","routes","assign_no","cust_accept_date","color","amountOutstading","p","a","cust_paid_date","width","display","justifyContent","paid_status","cursor","obj","message_type","query_No","query_id","q_id","map","i","removeTime","payment_date"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../config/config\";\nimport Layout from \"../../components/Layout/Layout\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Button,\n} from \"reactstrap\";\nimport { useAlert } from \"react-alert\";\nimport { Link, useParams } from \"react-router-dom\";\nimport CommonServices from \"../../common/common\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport CustomerFilter from \"../../components/Search-Filter/CustomerFilter\";\nimport Records from \"../../components/Records/Records\";\nimport DiscardReport from \"../AssignmentTab/DiscardReport\";\nimport PaymentIcon from '@material-ui/icons/Payment';\nimport PaymentComponent from './PaymentComponent';\n\n\nfunction Paid() {\n  const alert = useAlert();\n  const { id } = useParams();\n  const userId = window.localStorage.getItem(\"userid\");\n  const [records, setRecords] = useState([]);\n\n\n  const [count, setCount] = useState(\"\");\n  const [payment, setPayment] = useState([]);\n  const [modal, setModal] = useState(false);\n\n  const [pay, setPay] = useState({\n    pay: \"\",\n    amount: \"\",\n    accepted_amount: \"\",\n    paid_amount: \"\",\n    assign_id: '',\n\n    amount_type: \"\",\n    amount_fixed: \"\",\n    amount_hourly: \"\",\n\n    payment_terms: \"\",\n    no_of_installment: \"\",\n    installment_amount: \"\",\n    due_date: \"\",\n  });\n\n  const [addPaymentModal, setPaymentModal] = useState(false);\n  const paymentHandler = (key) => {\n    setPaymentModal(!addPaymentModal);\n    setPay({\n      amount: key.accepted_amount,\n      assign_id: key.assign_id,\n      accepted_amount: key.accepted_amount,\n      paid_amount: key.paid_amount,\n\n      amount_type: key.amount_type,\n      amount_fixed: key.amount_fixed,\n      amount_hourly: key.amount_hourly,\n\n\n      payment_terms: key.payment_terms,\n      no_of_installment: key.no_of_installment,\n      installment_amount: key.installment_amount,\n      due_date: key.due_date,\n\n    });\n  };\n\n  const [assignNo, setAssignNo] = useState('');\n  const [ViewDiscussion, setViewDiscussion] = useState(false);\n  const ViewDiscussionToggel = (key) => {\n    setViewDiscussion(!ViewDiscussion);\n    setAssignNo(key)\n  }\n\n  useEffect(() => {\n    getPaymentStatus();\n  }, []);\n\n\n  const getPaymentStatus = () => {\n    axios.get(`${baseUrl}/tl/getUploadedProposals?cid=${JSON.parse(userId)}&status=1`).then((res) => {\n      console.log(res);\n      if (res.data.code === 1) {\n        setPayment(res.data.result);\n        setCount(res.data.result.length);\n        setRecords(res.data.result.length);\n\n      }\n    });\n  };\n\n  const toggle = (key) => {\n    console.log(\"key\", key);\n    setModal(!modal);\n\n    fetch(`${baseUrl}/admin/getPaymentDetail?id=${key}`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/vnd.github.cloak-preview\",\n      }),\n    })\n      .then((res) => res.json())\n      .then((response) => {\n        console.log(response);\n        setPay(response.payment_detail);\n      })\n      .catch((error) => console.log(error));\n  };\n\n\n  const columns = [\n    {\n      dataField: \"\",\n      text: \"S.No\",\n      formatter: (row, rowIndex) => {\n        return rowIndex + 1;\n      },\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      dataField: \"query_created_date\",\n      text: \"Date\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function dateFormat(cell, row) {\n        console.log(\"dt\", row.query_created_date);\n        var oldDate = row.query_created_date;\n        if (oldDate == null) {\n          return null;\n        }\n        return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n      },\n    },\n    {\n      dataField: \"assign_no\",\n      text: \"Query No\",\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function nameFormatter(cell, row) {\n        console.log(row);\n        return (\n          <>\n            <Link\n              to={{\n                pathname: `/customer/my-assingment/${row.assign_id}`,\n                routes: \"paymentstatus\",\n              }}\n            >\n              {row.assign_no}\n            </Link>\n          </>\n        );\n      },\n    },\n    {\n      dataField: \"parent_id\",\n      text: \"Category\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      dataField: \"cat_name\",\n      text: \"Sub Category\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      text: \"Date of acceptance of Proposal\",\n      dataField: \"cust_accept_date\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function dateFormat(cell, row) {\n        console.log(\"dt\", row.cust_accept_date);\n        var oldDate = row.cust_accept_date;\n        if (oldDate == null) {\n          return null;\n        }\n        return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n      },\n    },\n    {\n      text: \"Status\",\n      dataField: \"status\",\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n    },\n    {\n      dataField: \"accepted_amount\",\n      text: \"Accepted Amount \",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n        color: \"#21a3ce\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\", color: \"#21a3ce\" };\n      },\n    },\n    {\n      text: \"Amount Paid\",\n      dataField: \"paid_amount\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n        color: \"#064606\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\", color: \"#064606\" };\n      },\n    },\n\n    {\n      text: \"Amount Outstanding\",\n      dataField: \"\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n        color: \"darkred\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\", color: \"darkred\" };\n      },\n      formatter: function amountOutstading(cell, row) {\n        console.log(\"dt\", row.paid_amount);\n        console.log(\"dt\", row.accepted_amount);\n        var p = row.paid_amount;\n        var a = row.accepted_amount;\n        return a - p;\n      },\n    },\n    {\n      text: \"Date of Payment\",\n      dataField: \"cust_paid_date\",\n      sort: true,\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\" };\n      },\n      formatter: function dateFormat(cell, row) {\n        console.log(\"dt\", row.cust_paid_date);\n        var oldDate = row.cust_paid_date;\n        if (oldDate == null) {\n          return null;\n        }\n        return oldDate.slice(0, 10).toString().split(\"-\").reverse().join(\"-\");\n      },\n    },\n    {\n      text: \"Action\",\n      dataField: \"\",\n      style: {\n        fontSize: \"11px\",\n      },\n      headerStyle: () => {\n        return { fontSize: \"11px\", width: \"90px\" };\n      },\n      formatter: function (cell, row) {\n        return (\n          <>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n\n              <div>\n                {\n                  row.paid_status == \"0\" ?\n                    <div\n                      style={{ cursor: \"pointer\" }}\n                      title=\"Pay Amount\"\n                      onClick={() => paymentHandler(row)}>\n                      <PaymentIcon color=\"primary\" />\n                    </div>\n                    :\n                    null\n                }\n              </div>\n\n              {\n                row.paid_amount > 0 ? <div style={{ cursor: \"pointer\" }} title=\"Payment History\">\n                  <i\n                    class=\"fa fa-credit-card\"\n                    style={{ color: \"green\", fontSize: \"16px\" }}\n                    onClick={() => toggle(row.assign_id)}\n                  ></i>\n                </div>\n                  :\n                  null\n              }\n\n\n              <div title=\"Send Message\">\n                <Link\n                  to={{\n                    pathname: `/customer/chatting/${row.assign_id}`,\n                    obj: {\n                      message_type: \"2\",\n                      query_No: row.assign_no,\n                      query_id: row.q_id,\n                      routes: `/customer/proposal`\n                    }\n                  }}\n                >\n                  <i\n                    class=\"fa fa-comments-o\"\n                    style={{\n                      fontSize: 16,\n                      cursor: \"pointer\",\n                      color: \"blue\"\n                    }}\n                  ></i>\n                </Link>\n              </div>\n              <div title=\"View Discussion Message\">\n                <i\n                  class=\"fa fa-comments-o\"\n                  style={{\n                    fontSize: 16,\n                    cursor: \"pointer\",\n                    color: \"orange\"\n                  }}\n                  onClick={() => ViewDiscussionToggel(row.assign_no)}\n                ></i>\n              </div>\n            </div>\n          </>\n        );\n      },\n    },\n  ];\n\n\n\n\n  return (\n    <>\n      <>\n        <Card>\n\n          <CardHeader>\n            <CustomerFilter\n              setData={setPayment}\n              getData={getPaymentStatus}\n              paid=\"paid\"\n              setRecords={setRecords}\n              records={records}\n              id={userId}\n            />\n          </CardHeader>\n\n          <CardBody>\n            <Records records={records} />\n            <BootstrapTable\n              bootstrap4\n              keyField=\"id\"\n              data={payment}\n              columns={columns}\n              classes=\"table-responsive\"\n            />\n\n            <Modal isOpen={modal} fade={false} toggle={toggle}>\n              <ModalHeader toggle={toggle}>History</ModalHeader>\n              <ModalBody>\n                <table class=\"table table-bordered\">\n                  <thead>\n                    <tr>\n                      <th scope=\"row\">S.No</th>\n                      <th scope=\"row\">Date</th>\n                      <th scope=\"row\">Amount</th>\n                    </tr>\n                  </thead>\n                  {pay.length > 0\n                    ? pay.map((p, i) => (\n                      <tbody>\n                        <tr>\n                          <td>{i + 1}</td>\n                          <td>{CommonServices.removeTime(p.payment_date)}</td>\n                          <td>{p.paid_amount}</td>\n                        </tr>\n                      </tbody>\n                    ))\n                    : null}\n                </table>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"secondary\" onClick={toggle}>\n                  Cancel\n                </Button>\n              </ModalFooter>\n            </Modal>\n\n\n            <PaymentComponent\n              paymentHandler={paymentHandler}\n              addPaymentModal={addPaymentModal}\n              pay={pay}\n              getPaymentStatus={getPaymentStatus}\n            />\n\n            <DiscardReport\n              ViewDiscussionToggel={ViewDiscussionToggel}\n              ViewDiscussion={ViewDiscussion}\n              report={assignNo}\n              getData={getPaymentStatus}\n            />\n\n          </CardBody>\n        </Card>\n      </>\n    </>\n  );\n}\n\nexport default Paid;\n"]},"metadata":{},"sourceType":"module"}